var ov=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var yfe=ov((jn,Un)=>{function iv(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gu(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ws={},Si=[],Tr=()=>{},qp=()=>!1,sl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ku=e=>e.startsWith("onUpdate:"),qs=Object.assign,Yu=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},av=Object.prototype.hasOwnProperty,us=(e,t)=>av.call(e,t),Mt=Array.isArray,Fi=e=>nl(e)==="[object Map]",Wi=e=>nl(e)==="[object Set]",df=e=>nl(e)==="[object Date]",Lt=e=>typeof e=="function",Ls=e=>typeof e=="string",gr=e=>typeof e=="symbol",bs=e=>e!==null&&typeof e=="object",Wp=e=>(bs(e)||Lt(e))&&Lt(e.then)&&Lt(e.catch),Qp=Object.prototype.toString,nl=e=>Qp.call(e),lv=e=>nl(e).slice(8,-1),Gp=e=>nl(e)==="[object Object]",Xu=e=>Ls(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ti=Gu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P0=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},dv=/-\w/g,tr=P0(e=>e.replace(dv,t=>t.slice(1).toUpperCase())),cv=/\B([A-Z])/g,To=P0(e=>e.replace(cv,"-$1").toLowerCase()),R0=P0(e=>e.charAt(0).toUpperCase()+e.slice(1)),pd=P0(e=>e?`on${R0(e)}`:""),Eo=(e,t)=>!Object.is(e,t),Gl=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Kp=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},a0=e=>{const t=parseFloat(e);return isNaN(t)?e:t},uv=e=>{const t=Ls(e)?Number(e):NaN;return isNaN(t)?e:t};let cf;const O0=()=>cf||(cf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rr(e){if(Mt(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],i=Ls(r)?gv(r):Rr(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(Ls(e)||bs(e))return e}const xv=/;(?![^(]*\))/g,fv=/:([^]+)/,hv=/\/\*[^]*?\*\//g;function gv(e){const t={};return e.replace(hv,"").split(xv).forEach(s=>{if(s){const r=s.split(fv);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Se(e){let t="";if(Ls(e))t=e;else if(Mt(e))for(let s=0;s<e.length;s++){const r=Se(e[s]);r&&(t+=r+" ")}else if(bs(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const pv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mv=Gu(pv);function Yp(e){return!!e||e===""}function bv(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=ti(e[r],t[r]);return s}function ti(e,t){if(e===t)return!0;let s=df(e),r=df(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=gr(e),r=gr(t),s||r)return e===t;if(s=Mt(e),r=Mt(t),s||r)return s&&r?bv(e,t):!1;if(s=bs(e),r=bs(t),s||r){if(!s||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const d in e){const u=e.hasOwnProperty(d),g=t.hasOwnProperty(d);if(u&&!g||!u&&g||!ti(e[d],t[d]))return!1}}return String(e)===String(t)}function Ju(e,t){return e.findIndex(s=>ti(s,t))}const Xp=e=>!!(e&&e.__v_isRef===!0),A=e=>Ls(e)?e:e==null?"":Mt(e)||bs(e)&&(e.toString===Qp||!Lt(e.toString))?Xp(e)?A(e.value):JSON.stringify(e,Jp,2):String(e),Jp=(e,t)=>Xp(t)?Jp(e,t.value):Fi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,i],a)=>(s[md(r,a)+" =>"]=i,s),{})}:Wi(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>md(s))}:gr(t)?md(t):bs(t)&&!Mt(t)&&!Gp(t)?String(t):t,md=(e,t="")=>{var s;return gr(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bn;class yv{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bn,!t&&Bn&&(this.index=(Bn.scopes||(Bn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Bn;try{return Bn=this,t()}finally{Bn=s}}}on(){++this._on===1&&(this.prevScope=Bn,Bn=this)}off(){this._on>0&&--this._on===0&&(Bn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function vv(){return Bn}let As;const bd=new WeakSet;class Zp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bn&&Bn.active&&Bn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bd.has(this)&&(bd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||t2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uf(this),s2(this);const t=As,s=hr;As=this,hr=!0;try{return this.fn()}finally{n2(this),As=t,hr=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)tx(t);this.deps=this.depsTail=void 0,uf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uu(this)&&this.run()}get dirty(){return uu(this)}}let e2=0,Ba,_a;function t2(e,t=!1){if(e.flags|=8,t){e.next=_a,_a=e;return}e.next=Ba,Ba=e}function Zu(){e2++}function ex(){if(--e2>0)return;if(_a){let t=_a;for(_a=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ba;){let t=Ba;for(Ba=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function s2(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function n2(e){let t,s=e.depsTail,r=s;for(;r;){const i=r.prevDep;r.version===-1?(r===s&&(s=i),tx(r),wv(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=s}function uu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(r2(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function r2(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===$a)||(e.globalVersion=$a,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!uu(e))))return;e.flags|=2;const t=e.dep,s=As,r=hr;As=e,hr=!0;try{s2(e);const i=e.fn(e._value);(t.version===0||Eo(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{As=s,hr=r,n2(e),e.flags&=-3}}function tx(e,t=!1){const{dep:s,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)tx(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function wv(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let hr=!0;const o2=[];function Jr(){o2.push(hr),hr=!1}function Zr(){const e=o2.pop();hr=e===void 0?!0:e}function uf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=As;As=void 0;try{t()}finally{As=s}}}let $a=0,Ev=class{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class sx{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!As||!hr||As===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==As)s=this.activeLink=new Ev(As,this),As.deps?(s.prevDep=As.depsTail,As.depsTail.nextDep=s,As.depsTail=s):As.deps=As.depsTail=s,i2(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=As.depsTail,s.nextDep=void 0,As.depsTail.nextDep=s,As.depsTail=s,As.deps===s&&(As.deps=r)}return s}trigger(t){this.version++,$a++,this.notify(t)}notify(t){Zu();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ex()}}}function i2(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)i2(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const xu=new WeakMap,Ko=Symbol(""),fu=Symbol(""),La=Symbol("");function dn(e,t,s){if(hr&&As){let r=xu.get(e);r||xu.set(e,r=new Map);let i=r.get(s);i||(r.set(s,i=new sx),i.map=r,i.key=s),i.track()}}function Wr(e,t,s,r,i,a){const d=xu.get(e);if(!d){$a++;return}const u=g=>{g&&g.trigger()};if(Zu(),t==="clear")d.forEach(u);else{const g=Mt(e),h=g&&Xu(s);if(g&&s==="length"){const m=Number(r);d.forEach((b,v)=>{(v==="length"||v===La||!gr(v)&&v>=m)&&u(b)})}else switch((s!==void 0||d.has(void 0))&&u(d.get(s)),h&&u(d.get(La)),t){case"add":g?h&&u(d.get("length")):(u(d.get(Ko)),Fi(e)&&u(d.get(fu)));break;case"delete":g||(u(d.get(Ko)),Fi(e)&&u(d.get(fu)));break;case"set":Fi(e)&&u(d.get(Ko));break}}ex()}function vi(e){const t=os(e);return t===e?t:(dn(t,"iterate",La),Zn(e)?t:t.map(nn))}function N0(e){return dn(e=os(e),"iterate",La),e}const Cv={__proto__:null,[Symbol.iterator](){return yd(this,Symbol.iterator,nn)},concat(...e){return vi(this).concat(...e.map(t=>Mt(t)?vi(t):t))},entries(){return yd(this,"entries",e=>(e[1]=nn(e[1]),e))},every(e,t){return $r(this,"every",e,t,void 0,arguments)},filter(e,t){return $r(this,"filter",e,t,s=>s.map(nn),arguments)},find(e,t){return $r(this,"find",e,t,nn,arguments)},findIndex(e,t){return $r(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $r(this,"findLast",e,t,nn,arguments)},findLastIndex(e,t){return $r(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $r(this,"forEach",e,t,void 0,arguments)},includes(...e){return vd(this,"includes",e)},indexOf(...e){return vd(this,"indexOf",e)},join(e){return vi(this).join(e)},lastIndexOf(...e){return vd(this,"lastIndexOf",e)},map(e,t){return $r(this,"map",e,t,void 0,arguments)},pop(){return la(this,"pop")},push(...e){return la(this,"push",e)},reduce(e,...t){return xf(this,"reduce",e,t)},reduceRight(e,...t){return xf(this,"reduceRight",e,t)},shift(){return la(this,"shift")},some(e,t){return $r(this,"some",e,t,void 0,arguments)},splice(...e){return la(this,"splice",e)},toReversed(){return vi(this).toReversed()},toSorted(e){return vi(this).toSorted(e)},toSpliced(...e){return vi(this).toSpliced(...e)},unshift(...e){return la(this,"unshift",e)},values(){return yd(this,"values",nn)}};function yd(e,t,s){const r=N0(e),i=r[t]();return r!==e&&!Zn(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=s(a.value)),a}),i}const Av=Array.prototype;function $r(e,t,s,r,i,a){const d=N0(e),u=d!==e&&!Zn(e),g=d[t];if(g!==Av[t]){const b=g.apply(e,a);return u?nn(b):b}let h=s;d!==e&&(u?h=function(b,v){return s.call(this,nn(b),v,e)}:s.length>2&&(h=function(b,v){return s.call(this,b,v,e)}));const m=g.call(d,h,r);return u&&i?i(m):m}function xf(e,t,s,r){const i=N0(e);let a=s;return i!==e&&(Zn(e)?s.length>3&&(a=function(d,u,g){return s.call(this,d,u,g,e)}):a=function(d,u,g){return s.call(this,d,nn(u),g,e)}),i[t](a,...r)}function vd(e,t,s){const r=os(e);dn(r,"iterate",La);const i=r[t](...s);return(i===-1||i===!1)&&rl(s[0])?(s[0]=os(s[0]),r[t](...s)):i}function la(e,t,s=[]){Jr(),Zu();const r=os(e)[t].apply(e,s);return ex(),Zr(),r}const kv=Gu("__proto__,__v_isRef,__isVue"),a2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gr));function Bv(e){gr(e)||(e=String(e));const t=os(this);return dn(t,"has",e),t.hasOwnProperty(e)}class l2{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return a;if(s==="__v_raw")return r===(i?a?Ov:x2:a?u2:c2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const d=Mt(t);if(!i){let g;if(d&&(g=Cv[s]))return g;if(s==="hasOwnProperty")return Bv}const u=Reflect.get(t,s,hn(t)?t:r);if((gr(s)?a2.has(s):kv(s))||(i||dn(t,"get",s),a))return u;if(hn(u)){const g=d&&Xu(s)?u:u.value;return i&&bs(g)?gu(g):g}return bs(u)?i?gu(u):Mr(u):u}}class d2 extends l2{constructor(t=!1){super(!1,t)}set(t,s,r,i){let a=t[s];if(!this._isShallow){const g=Ao(a);if(!Zn(r)&&!Ao(r)&&(a=os(a),r=os(r)),!Mt(t)&&hn(a)&&!hn(r))return g||(a.value=r),!0}const d=Mt(t)&&Xu(s)?Number(s)<t.length:us(t,s),u=Reflect.set(t,s,r,hn(t)?t:i);return t===os(i)&&(d?Eo(r,a)&&Wr(t,"set",s,r):Wr(t,"add",s,r)),u}deleteProperty(t,s){const r=us(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&r&&Wr(t,"delete",s,void 0),i}has(t,s){const r=Reflect.has(t,s);return(!gr(s)||!a2.has(s))&&dn(t,"has",s),r}ownKeys(t){return dn(t,"iterate",Mt(t)?"length":Ko),Reflect.ownKeys(t)}}class _v extends l2{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Dv=new d2,Sv=new _v,Fv=new d2(!0),hu=e=>e,wl=e=>Reflect.getPrototypeOf(e);function Tv(e,t,s){return function(...r){const i=this.__v_raw,a=os(i),d=Fi(a),u=e==="entries"||e===Symbol.iterator&&d,g=e==="keys"&&d,h=i[e](...r),m=s?hu:t?l0:nn;return!t&&dn(a,"iterate",g?fu:Ko),{next(){const{value:b,done:v}=h.next();return v?{value:b,done:v}:{value:u?[m(b[0]),m(b[1])]:m(b),done:v}},[Symbol.iterator](){return this}}}}function El(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Mv(e,t){const s={get(i){const a=this.__v_raw,d=os(a),u=os(i);e||(Eo(i,u)&&dn(d,"get",i),dn(d,"get",u));const{has:g}=wl(d),h=t?hu:e?l0:nn;if(g.call(d,i))return h(a.get(i));if(g.call(d,u))return h(a.get(u));a!==d&&a.get(i)},get size(){const i=this.__v_raw;return!e&&dn(os(i),"iterate",Ko),i.size},has(i){const a=this.__v_raw,d=os(a),u=os(i);return e||(Eo(i,u)&&dn(d,"has",i),dn(d,"has",u)),i===u?a.has(i):a.has(i)||a.has(u)},forEach(i,a){const d=this,u=d.__v_raw,g=os(u),h=t?hu:e?l0:nn;return!e&&dn(g,"iterate",Ko),u.forEach((m,b)=>i.call(a,h(m),h(b),d))}};return qs(s,e?{add:El("add"),set:El("set"),delete:El("delete"),clear:El("clear")}:{add(i){!t&&!Zn(i)&&!Ao(i)&&(i=os(i));const a=os(this);return wl(a).has.call(a,i)||(a.add(i),Wr(a,"add",i,i)),this},set(i,a){!t&&!Zn(a)&&!Ao(a)&&(a=os(a));const d=os(this),{has:u,get:g}=wl(d);let h=u.call(d,i);h||(i=os(i),h=u.call(d,i));const m=g.call(d,i);return d.set(i,a),h?Eo(a,m)&&Wr(d,"set",i,a):Wr(d,"add",i,a),this},delete(i){const a=os(this),{has:d,get:u}=wl(a);let g=d.call(a,i);g||(i=os(i),g=d.call(a,i)),u&&u.call(a,i);const h=a.delete(i);return g&&Wr(a,"delete",i,void 0),h},clear(){const i=os(this),a=i.size!==0,d=i.clear();return a&&Wr(i,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Tv(i,e,t)}),s}function nx(e,t){const s=Mv(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(us(s,i)&&i in r?s:r,i,a)}const Iv={get:nx(!1,!1)},Pv={get:nx(!1,!0)},Rv={get:nx(!0,!1)},c2=new WeakMap,u2=new WeakMap,x2=new WeakMap,Ov=new WeakMap;function Nv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $v(e){return e.__v_skip||!Object.isExtensible(e)?0:Nv(lv(e))}function Mr(e){return Ao(e)?e:rx(e,!1,Dv,Iv,c2)}function Lv(e){return rx(e,!1,Fv,Pv,u2)}function gu(e){return rx(e,!0,Sv,Rv,x2)}function rx(e,t,s,r,i){if(!bs(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=$v(e);if(a===0)return e;const d=i.get(e);if(d)return d;const u=new Proxy(e,a===2?r:s);return i.set(e,u),u}function Yo(e){return Ao(e)?Yo(e.__v_raw):!!(e&&e.__v_isReactive)}function Ao(e){return!!(e&&e.__v_isReadonly)}function Zn(e){return!!(e&&e.__v_isShallow)}function rl(e){return e?!!e.__v_raw:!1}function os(e){const t=e&&e.__v_raw;return t?os(t):e}function pu(e){return!us(e,"__v_skip")&&Object.isExtensible(e)&&Kp(e,"__v_skip",!0),e}const nn=e=>bs(e)?Mr(e):e,l0=e=>bs(e)?gu(e):e;function hn(e){return e?e.__v_isRef===!0:!1}function de(e){return f2(e,!1)}function ox(e){return f2(e,!0)}function f2(e,t){return hn(e)?e:new jv(e,t)}class jv{constructor(t,s){this.dep=new sx,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:os(t),this._value=s?t:nn(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Zn(t)||Ao(t);t=r?t:os(t),Eo(t,s)&&(this._rawValue=t,this._value=r?t:nn(t),this.dep.trigger())}}function We(e){return hn(e)?e.value:e}const Uv={get:(e,t,s)=>t==="__v_raw"?e:We(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const i=e[t];return hn(i)&&!hn(s)?(i.value=s,!0):Reflect.set(e,t,s,r)}};function h2(e){return Yo(e)?e:new Proxy(e,Uv)}class Hv{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new sx(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$a-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&As!==this)return t2(this,!0),!0}get value(){const t=this.dep.track();return r2(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function zv(e,t,s=!1){let r,i;return Lt(e)?r=e:(r=e.get,i=e.set),new Hv(r,i,s)}const Cl={},d0=new WeakMap;let jo;function Vv(e,t=!1,s=jo){if(s){let r=d0.get(s);r||d0.set(s,r=[]),r.push(e)}}function qv(e,t,s=ws){const{immediate:r,deep:i,once:a,scheduler:d,augmentJob:u,call:g}=s,h=B=>i?B:Zn(B)||i===!1||i===0?Qr(B,1):Qr(B);let m,b,v,C,_=!1,F=!1;if(hn(e)?(b=()=>e.value,_=Zn(e)):Yo(e)?(b=()=>h(e),_=!0):Mt(e)?(F=!0,_=e.some(B=>Yo(B)||Zn(B)),b=()=>e.map(B=>{if(hn(B))return B.value;if(Yo(B))return h(B);if(Lt(B))return g?g(B,2):B()})):Lt(e)?t?b=g?()=>g(e,2):e:b=()=>{if(v){Jr();try{v()}finally{Zr()}}const B=jo;jo=m;try{return g?g(e,3,[C]):e(C)}finally{jo=B}}:b=Tr,t&&i){const B=b,U=i===!0?1/0:i;b=()=>Qr(B(),U)}const S=vv(),D=()=>{m.stop(),S&&S.active&&Yu(S.effects,m)};if(a&&t){const B=t;t=(...U)=>{B(...U),D()}}let O=F?new Array(e.length).fill(Cl):Cl;const P=B=>{if(!(!(m.flags&1)||!m.dirty&&!B))if(t){const U=m.run();if(i||_||(F?U.some((z,j)=>Eo(z,O[j])):Eo(U,O))){v&&v();const z=jo;jo=m;try{const j=[U,O===Cl?void 0:F&&O[0]===Cl?[]:O,C];O=U,g?g(t,3,j):t(...j)}finally{jo=z}}}else m.run()};return u&&u(P),m=new Zp(b),m.scheduler=d?()=>d(P,!1):P,C=B=>Vv(B,!1,m),v=m.onStop=()=>{const B=d0.get(m);if(B){if(g)g(B,4);else for(const U of B)U();d0.delete(m)}},t?r?P(!0):O=m.run():d?d(P.bind(null,!0),!0):m.run(),D.pause=m.pause.bind(m),D.resume=m.resume.bind(m),D.stop=D,D}function Qr(e,t=1/0,s){if(t<=0||!bs(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,hn(e))Qr(e.value,t,s);else if(Mt(e))for(let r=0;r<e.length;r++)Qr(e[r],t,s);else if(Wi(e)||Fi(e))e.forEach(r=>{Qr(r,t,s)});else if(Gp(e)){for(const r in e)Qr(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Qr(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ol(e,t,s,r){try{return r?e(...r):e()}catch(i){$0(i,t,s)}}function pr(e,t,s,r){if(Lt(e)){const i=ol(e,t,s,r);return i&&Wp(i)&&i.catch(a=>{$0(a,t,s)}),i}if(Mt(e)){const i=[];for(let a=0;a<e.length;a++)i.push(pr(e[a],t,s,r));return i}}function $0(e,t,s,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:d}=t&&t.appContext.config||ws;if(t){let u=t.parent;const g=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const m=u.ec;if(m){for(let b=0;b<m.length;b++)if(m[b](e,g,h)===!1)return}u=u.parent}if(a){Jr(),ol(a,null,10,[e,g,h]),Zr();return}}Wv(e,s,i,r,d)}function Wv(e,t,s,r=!0,i=!1){if(i)throw e;console.error(e)}const bn=[];let _r=-1;const Mi=[];let go=null,Bi=0;const g2=Promise.resolve();let c0=null;function _n(e){const t=c0||g2;return e?t.then(this?e.bind(this):e):t}function Qv(e){let t=_r+1,s=bn.length;for(;t<s;){const r=t+s>>>1,i=bn[r],a=ja(i);a<e||a===e&&i.flags&2?t=r+1:s=r}return t}function ix(e){if(!(e.flags&1)){const t=ja(e),s=bn[bn.length-1];!s||!(e.flags&2)&&t>=ja(s)?bn.push(e):bn.splice(Qv(t),0,e),e.flags|=1,p2()}}function p2(){c0||(c0=g2.then(m2))}function Gv(e){Mt(e)?Mi.push(...e):go&&e.id===-1?go.splice(Bi+1,0,e):e.flags&1||(Mi.push(e),e.flags|=1),p2()}function ff(e,t,s=_r+1){for(;s<bn.length;s++){const r=bn[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;bn.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function u0(e){if(Mi.length){const t=[...new Set(Mi)].sort((s,r)=>ja(s)-ja(r));if(Mi.length=0,go){go.push(...t);return}for(go=t,Bi=0;Bi<go.length;Bi++){const s=go[Bi];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}go=null,Bi=0}}const ja=e=>e.id==null?e.flags&2?-1:1/0:e.id;function m2(e){try{for(_r=0;_r<bn.length;_r++){const t=bn[_r];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ol(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;_r<bn.length;_r++){const t=bn[_r];t&&(t.flags&=-2)}_r=-1,bn.length=0,u0(),c0=null,(bn.length||Mi.length)&&m2()}}let on=null,b2=null;function x0(e){const t=on;return on=e,b2=e&&e.type.__scopeId||null,t}function _t(e,t=on,s){if(!t||e._n)return e;const r=(...i)=>{r._d&&g0(-1);const a=x0(t);let d;try{d=e(...i)}finally{x0(a),r._d&&g0(1)}return d};return r._n=!0,r._c=!0,r._d=!0,r}function we(e,t){if(on===null)return e;const s=z0(on),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,d,u,g=ws]=t[i];a&&(Lt(a)&&(a={mounted:a,updated:a}),a.deep&&Qr(d),r.push({dir:a,instance:s,value:d,oldValue:void 0,arg:u,modifiers:g}))}return e}function Fr(e,t,s,r){const i=e.dirs,a=t&&t.dirs;for(let d=0;d<i.length;d++){const u=i[d];a&&(u.oldValue=a[d].value);let g=u.dir[r];g&&(Jr(),pr(g,s,8,[e.el,u,e,t]),Zr())}}const Kv=Symbol("_vte"),y2=e=>e.__isTeleport,Vr=Symbol("_leaveCb"),Al=Symbol("_enterCb");function v2(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gn(()=>{e.isMounted=!0}),U0(()=>{e.isUnmounting=!0}),e}const Wn=[Function,Array],w2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wn,onEnter:Wn,onAfterEnter:Wn,onEnterCancelled:Wn,onBeforeLeave:Wn,onLeave:Wn,onAfterLeave:Wn,onLeaveCancelled:Wn,onBeforeAppear:Wn,onAppear:Wn,onAfterAppear:Wn,onAppearCancelled:Wn},E2=e=>{const t=e.subTree;return t.component?E2(t.component):t},Yv={name:"BaseTransition",props:w2,setup(e,{slots:t}){const s=xx(),r=v2();return()=>{const i=t.default&&ax(t.default(),!0);if(!i||!i.length)return;const a=C2(i),d=os(e),{mode:u}=d;if(r.isLeaving)return wd(a);const g=hf(a);if(!g)return wd(a);let h=Ua(g,d,r,s,b=>h=b);g.type!==rn&&si(g,h);let m=s.subTree&&hf(s.subTree);if(m&&m.type!==rn&&!zo(m,g)&&E2(s).type!==rn){let b=Ua(m,d,r,s);if(si(m,b),u==="out-in"&&g.type!==rn)return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete b.afterLeave,m=void 0},wd(a);u==="in-out"&&g.type!==rn?b.delayLeave=(v,C,_)=>{const F=A2(r,m);F[String(m.key)]=m,v[Vr]=()=>{C(),v[Vr]=void 0,delete h.delayedLeave,m=void 0},h.delayedLeave=()=>{_(),delete h.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return a}}};function C2(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==rn){t=s;break}}return t}const Xv=Yv;function A2(e,t){const{leavingVNodes:s}=e;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function Ua(e,t,s,r,i){const{appear:a,mode:d,persisted:u=!1,onBeforeEnter:g,onEnter:h,onAfterEnter:m,onEnterCancelled:b,onBeforeLeave:v,onLeave:C,onAfterLeave:_,onLeaveCancelled:F,onBeforeAppear:S,onAppear:D,onAfterAppear:O,onAppearCancelled:P}=t,B=String(e.key),U=A2(s,e),z=(I,$)=>{I&&pr(I,r,9,$)},j=(I,$)=>{const J=$[1];z(I,$),Mt(I)?I.every(K=>K.length<=1)&&J():I.length<=1&&J()},H={mode:d,persisted:u,beforeEnter(I){let $=g;if(!s.isMounted)if(a)$=S||g;else return;I[Vr]&&I[Vr](!0);const J=U[B];J&&zo(e,J)&&J.el[Vr]&&J.el[Vr](),z($,[I])},enter(I){let $=h,J=m,K=b;if(!s.isMounted)if(a)$=D||h,J=O||m,K=P||b;else return;let ie=!1;const fe=I[Al]=q=>{ie||(ie=!0,q?z(K,[I]):z(J,[I]),H.delayedLeave&&H.delayedLeave(),I[Al]=void 0)};$?j($,[I,fe]):fe()},leave(I,$){const J=String(e.key);if(I[Al]&&I[Al](!0),s.isUnmounting)return $();z(v,[I]);let K=!1;const ie=I[Vr]=fe=>{K||(K=!0,$(),fe?z(F,[I]):z(_,[I]),I[Vr]=void 0,U[J]===e&&delete U[J])};U[J]=e,C?j(C,[I,ie]):ie()},clone(I){const $=Ua(I,t,s,r,i);return i&&i($),$}};return H}function wd(e){if(L0(e))return e=ko(e),e.children=null,e}function hf(e){if(!L0(e))return y2(e.type)&&e.children?C2(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Lt(s.default))return s.default()}}function si(e,t){e.shapeFlag&6&&e.component?(e.transition=t,si(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ax(e,t=!1,s){let r=[],i=0;for(let a=0;a<e.length;a++){let d=e[a];const u=s==null?d.key:String(s)+String(d.key!=null?d.key:a);d.type===Ye?(d.patchFlag&128&&i++,r=r.concat(ax(d.children,t,u))):(t||d.type!==rn)&&r.push(u!=null?ko(d,{key:u}):d)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function rr(e,t){return Lt(e)?qs({name:e.name},t,{setup:e}):e}function k2(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const f0=new WeakMap;function Ii(e,t,s,r,i=!1){if(Mt(e)){e.forEach((_,F)=>Ii(_,t&&(Mt(t)?t[F]:t),s,r,i));return}if(Xo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ii(e,t,s,r.component.subTree);return}const a=r.shapeFlag&4?z0(r.component):r.el,d=i?null:a,{i:u,r:g}=e,h=t&&t.r,m=u.refs===ws?u.refs={}:u.refs,b=u.setupState,v=os(b),C=b===ws?qp:_=>us(v,_);if(h!=null&&h!==g){if(gf(t),Ls(h))m[h]=null,C(h)&&(b[h]=null);else if(hn(h)){h.value=null;const _=t;_.k&&(m[_.k]=null)}}if(Lt(g))ol(g,u,12,[d,m]);else{const _=Ls(g),F=hn(g);if(_||F){const S=()=>{if(e.f){const D=_?C(g)?b[g]:m[g]:g.value;if(i)Mt(D)&&Yu(D,a);else if(Mt(D))D.includes(a)||D.push(a);else if(_)m[g]=[a],C(g)&&(b[g]=m[g]);else{const O=[a];g.value=O,e.k&&(m[e.k]=O)}}else _?(m[g]=d,C(g)&&(b[g]=d)):F&&(g.value=d,e.k&&(m[e.k]=d))};if(d){const D=()=>{S(),f0.delete(e)};D.id=-1,f0.set(e,D),Rn(D,s)}else gf(e),S()}}}function gf(e){const t=f0.get(e);t&&(t.flags|=8,f0.delete(e))}let pf=!1;const wi=()=>{pf||(console.error("Hydration completed but contains mismatches."),pf=!0)},Jv=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Zv=e=>e.namespaceURI.includes("MathML"),kl=e=>{if(e.nodeType===1){if(Jv(e))return"svg";if(Zv(e))return"mathml"}},Bl=e=>e.nodeType===8;function e8(e){const{mt:t,p:s,o:{patchProp:r,createText:i,nextSibling:a,parentNode:d,remove:u,insert:g,createComment:h}}=e,m=(P,B)=>{if(!B.hasChildNodes()){s(null,P,B),u0(),B._vnode=P;return}b(B.firstChild,P,null,null,null),u0(),B._vnode=P},b=(P,B,U,z,j,H=!1)=>{H=H||!!B.dynamicChildren;const I=Bl(P)&&P.data==="[",$=()=>F(P,B,U,z,j,I),{type:J,ref:K,shapeFlag:ie,patchFlag:fe}=B;let q=P.nodeType;B.el=P,fe===-2&&(H=!1,B.dynamicChildren=null);let le=null;switch(J){case Jo:q!==3?B.children===""?(g(B.el=i(""),d(P),P),le=P):le=$():(P.data!==B.children&&(wi(),P.data=B.children),le=a(P));break;case rn:O(P)?(le=a(P),D(B.el=P.content.firstChild,P,U)):q!==8||I?le=$():le=a(P);break;case Sa:if(I&&(P=a(P),q=P.nodeType),q===1||q===3){le=P;const he=!B.children.length;for(let ve=0;ve<B.staticCount;ve++)he&&(B.children+=le.nodeType===1?le.outerHTML:le.data),ve===B.staticCount-1&&(B.anchor=le),le=a(le);return I?a(le):le}else $();break;case Ye:I?le=_(P,B,U,z,j,H):le=$();break;default:if(ie&1)(q!==1||B.type.toLowerCase()!==P.tagName.toLowerCase())&&!O(P)?le=$():le=v(P,B,U,z,j,H);else if(ie&6){B.slotScopeIds=j;const he=d(P);if(I?le=S(P):Bl(P)&&P.data==="teleport start"?le=S(P,P.data,"teleport end"):le=a(P),t(B,he,null,U,z,kl(he),H),Xo(B)&&!B.type.__asyncResolved){let ve;I?(ve=ss(Ye),ve.anchor=le?le.previousSibling:he.lastChild):ve=P.nodeType===3?Oe(""):ss("div"),ve.el=P,B.component.subTree=ve}}else ie&64?q!==8?le=$():le=B.type.hydrate(P,B,U,z,j,H,e,C):ie&128&&(le=B.type.hydrate(P,B,U,z,kl(d(P)),j,H,e,b))}return K!=null&&Ii(K,null,z,B),le},v=(P,B,U,z,j,H)=>{H=H||!!B.dynamicChildren;const{type:I,props:$,patchFlag:J,shapeFlag:K,dirs:ie,transition:fe}=B,q=I==="input"||I==="option";if(q||J!==-1){ie&&Fr(B,null,U,"created");let le=!1;if(O(P)){le=U2(null,fe)&&U&&U.vnode.props&&U.vnode.props.appear;const ve=P.content.firstChild;if(le){const Ie=ve.getAttribute("class");Ie&&(ve.$cls=Ie),fe.beforeEnter(ve)}D(ve,P,U),B.el=P=ve}if(K&16&&!($&&($.innerHTML||$.textContent))){let ve=C(P.firstChild,B,P,U,z,j,H);for(;ve;){_l(P,1)||wi();const Ie=ve;ve=ve.nextSibling,u(Ie)}}else if(K&8){let ve=B.children;ve[0]===`
`&&(P.tagName==="PRE"||P.tagName==="TEXTAREA")&&(ve=ve.slice(1)),P.textContent!==ve&&(_l(P,0)||wi(),P.textContent=B.children)}if($){if(q||!H||J&48){const ve=P.tagName.includes("-");for(const Ie in $)(q&&(Ie.endsWith("value")||Ie==="indeterminate")||sl(Ie)&&!Ti(Ie)||Ie[0]==="."||ve)&&r(P,Ie,null,$[Ie],void 0,U)}else if($.onClick)r(P,"onClick",null,$.onClick,void 0,U);else if(J&4&&Yo($.style))for(const ve in $.style)$.style[ve]}let he;(he=$&&$.onVnodeBeforeMount)&&Gn(he,U,B),ie&&Fr(B,null,U,"beforeMount"),((he=$&&$.onVnodeMounted)||ie||le)&&G2(()=>{he&&Gn(he,U,B),le&&fe.enter(P),ie&&Fr(B,null,U,"mounted")},z)}return P.nextSibling},C=(P,B,U,z,j,H,I)=>{I=I||!!B.dynamicChildren;const $=B.children,J=$.length;for(let K=0;K<J;K++){const ie=I?$[K]:$[K]=Kn($[K]),fe=ie.type===Jo;P?(fe&&!I&&K+1<J&&Kn($[K+1]).type===Jo&&(g(i(P.data.slice(ie.children.length)),U,a(P)),P.data=ie.children),P=b(P,ie,z,j,H,I)):fe&&!ie.children?g(ie.el=i(""),U):(_l(U,1)||wi(),s(null,ie,U,null,z,j,kl(U),H))}return P},_=(P,B,U,z,j,H)=>{const{slotScopeIds:I}=B;I&&(j=j?j.concat(I):I);const $=d(P),J=C(a(P),B,$,U,z,j,H);return J&&Bl(J)&&J.data==="]"?a(B.anchor=J):(wi(),g(B.anchor=h("]"),$,J),J)},F=(P,B,U,z,j,H)=>{if(_l(P.parentElement,1)||wi(),B.el=null,H){const J=S(P);for(;;){const K=a(P);if(K&&K!==J)u(K);else break}}const I=a(P),$=d(P);return u(P),s(null,B,$,I,U,z,kl($),j),U&&(U.vnode.el=B.el,W2(U,B.el)),I},S=(P,B="[",U="]")=>{let z=0;for(;P;)if(P=a(P),P&&Bl(P)&&(P.data===B&&z++,P.data===U)){if(z===0)return a(P);z--}return P},D=(P,B,U)=>{const z=B.parentNode;z&&z.replaceChild(P,B);let j=U;for(;j;)j.vnode.el===B&&(j.vnode.el=j.subTree.el=P),j=j.parent},O=P=>P.nodeType===1&&P.tagName==="TEMPLATE";return[m,b]}const mf="data-allow-mismatch",t8={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function _l(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(mf);)e=e.parentElement;const s=e&&e.getAttribute(mf);if(s==null)return!1;if(s==="")return!0;{const r=s.split(",");return t===0&&r.includes("children")?!0:r.includes(t8[t])}}O0().requestIdleCallback;O0().cancelIdleCallback;const Xo=e=>!!e.type.__asyncLoader,L0=e=>e.type.__isKeepAlive;function s8(e,t){B2(e,"a",t)}function n8(e,t){B2(e,"da",t)}function B2(e,t,s=cn){const r=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(j0(t,r,s),s){let i=s.parent;for(;i&&i.parent;)L0(i.parent.vnode)&&r8(r,t,s,i),i=i.parent}}function r8(e,t,s,r){const i=j0(t,e,r,!0);ni(()=>{Yu(r[t],i)},s)}function j0(e,t,s=cn,r=!1){if(s){const i=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...d)=>{Jr();const u=il(s),g=pr(t,s,e,d);return u(),Zr(),g});return r?i.unshift(a):i.push(a),a}}const to=e=>(t,s=cn)=>{(!Va||e==="sp")&&j0(e,(...r)=>t(...r),s)},o8=to("bm"),gn=to("m"),i8=to("bu"),_2=to("u"),U0=to("bum"),ni=to("um"),a8=to("sp"),l8=to("rtg"),d8=to("rtc");function c8(e,t=cn){j0("ec",e,t)}const u8="components";function x8(e,t){return h8(u8,e,!0,t)||e}const f8=Symbol.for("v-ndc");function h8(e,t,s=!0,r=!1){const i=on||cn;if(i){const a=i.type;{const u=t9(a,!1);if(u&&(u===t||u===tr(t)||u===R0(tr(t))))return a}const d=bf(i[e]||a[e],t)||bf(i.appContext[e],t);return!d&&r?a:d}}function bf(e,t){return e&&(e[t]||e[tr(t)]||e[R0(tr(t))])}function at(e,t,s,r){let i;const a=s,d=Mt(e);if(d||Ls(e)){const u=d&&Yo(e);let g=!1,h=!1;u&&(g=!Zn(e),h=Ao(e),e=N0(e)),i=new Array(e.length);for(let m=0,b=e.length;m<b;m++)i[m]=t(g?h?l0(nn(e[m])):nn(e[m]):e[m],m,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,a)}else if(bs(e))if(e[Symbol.iterator])i=Array.from(e,(u,g)=>t(u,g,void 0,a));else{const u=Object.keys(e);i=new Array(u.length);for(let g=0,h=u.length;g<h;g++){const m=u[g];i[g]=t(e[m],m,g,a)}}else i=[];return i}function g8(e,t,s={},r,i){if(on.ce||on.parent&&Xo(on.parent)&&on.parent.ce){const h=Object.keys(s).length>0;return T(),Dt(Ye,null,[ss("slot",s,r)],h?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),T();const d=a&&D2(a(s)),u=s.key||d&&d.key,g=Dt(Ye,{key:(u&&!gr(u)?u:`_${t}`)+(!d&&r?"_fb":"")},d||[],d&&e._===1?64:-2);return g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),a&&a._c&&(a._d=!0),g}function D2(e){return e.some(t=>za(t)?!(t.type===rn||t.type===Ye&&!D2(t.children)):!0)?e:null}const mu=e=>e?X2(e)?z0(e):mu(e.parent):null,Da=qs(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mu(e.parent),$root:e=>mu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>F2(e),$forceUpdate:e=>e.f||(e.f=()=>{ix(e.update)}),$nextTick:e=>e.n||(e.n=_n.bind(e.proxy)),$watch:e=>N8.bind(e)}),Ed=(e,t)=>e!==ws&&!e.__isScriptSetup&&us(e,t),p8={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:i,props:a,accessCache:d,type:u,appContext:g}=e;let h;if(t[0]!=="$"){const C=d[t];if(C!==void 0)switch(C){case 1:return r[t];case 2:return i[t];case 4:return s[t];case 3:return a[t]}else{if(Ed(r,t))return d[t]=1,r[t];if(i!==ws&&us(i,t))return d[t]=2,i[t];if((h=e.propsOptions[0])&&us(h,t))return d[t]=3,a[t];if(s!==ws&&us(s,t))return d[t]=4,s[t];bu&&(d[t]=0)}}const m=Da[t];let b,v;if(m)return t==="$attrs"&&dn(e.attrs,"get",""),m(e);if((b=u.__cssModules)&&(b=b[t]))return b;if(s!==ws&&us(s,t))return d[t]=4,s[t];if(v=g.config.globalProperties,us(v,t))return v[t]},set({_:e},t,s){const{data:r,setupState:i,ctx:a}=e;return Ed(i,t)?(i[t]=s,!0):r!==ws&&us(r,t)?(r[t]=s,!0):us(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:i,propsOptions:a,type:d}},u){let g,h;return!!(s[u]||e!==ws&&u[0]!=="$"&&us(e,u)||Ed(t,u)||(g=a[0])&&us(g,u)||us(r,u)||us(Da,u)||us(i.config.globalProperties,u)||(h=d.__cssModules)&&h[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:us(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function yf(e){return Mt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let bu=!0;function m8(e){const t=F2(e),s=e.proxy,r=e.ctx;bu=!1,t.beforeCreate&&vf(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:d,watch:u,provide:g,inject:h,created:m,beforeMount:b,mounted:v,beforeUpdate:C,updated:_,activated:F,deactivated:S,beforeDestroy:D,beforeUnmount:O,destroyed:P,unmounted:B,render:U,renderTracked:z,renderTriggered:j,errorCaptured:H,serverPrefetch:I,expose:$,inheritAttrs:J,components:K,directives:ie,filters:fe}=t;if(h&&b8(h,r,null),d)for(const he in d){const ve=d[he];Lt(ve)&&(r[he]=ve.bind(s))}if(i){const he=i.call(s,s);bs(he)&&(e.data=Mr(he))}if(bu=!0,a)for(const he in a){const ve=a[he],Ie=Lt(ve)?ve.bind(s,s):Lt(ve.get)?ve.get.bind(s,s):Tr,Ue=!Lt(ve)&&Lt(ve.set)?ve.set.bind(s):Tr,be=Ze({get:Ie,set:Ue});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>be.value,set:qe=>be.value=qe})}if(u)for(const he in u)S2(u[he],r,s,he);if(g){const he=Lt(g)?g.call(s):g;Reflect.ownKeys(he).forEach(ve=>{A8(ve,he[ve])})}m&&vf(m,e,"c");function le(he,ve){Mt(ve)?ve.forEach(Ie=>he(Ie.bind(s))):ve&&he(ve.bind(s))}if(le(o8,b),le(gn,v),le(i8,C),le(_2,_),le(s8,F),le(n8,S),le(c8,H),le(d8,z),le(l8,j),le(U0,O),le(ni,B),le(a8,I),Mt($))if($.length){const he=e.exposed||(e.exposed={});$.forEach(ve=>{Object.defineProperty(he,ve,{get:()=>s[ve],set:Ie=>s[ve]=Ie,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===Tr&&(e.render=U),J!=null&&(e.inheritAttrs=J),K&&(e.components=K),ie&&(e.directives=ie),I&&k2(e)}function b8(e,t,s=Tr){Mt(e)&&(e=yu(e));for(const r in e){const i=e[r];let a;bs(i)?"default"in i?a=Kl(i.from||r,i.default,!0):a=Kl(i.from||r):a=Kl(i),hn(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:d=>a.value=d}):t[r]=a}}function vf(e,t,s){pr(Mt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function S2(e,t,s,r){let i=r.includes(".")?V2(s,r):()=>s[r];if(Ls(e)){const a=t[e];Lt(a)&&Hs(i,a)}else if(Lt(e))Hs(i,e.bind(s));else if(bs(e))if(Mt(e))e.forEach(a=>S2(a,t,s,r));else{const a=Lt(e.handler)?e.handler.bind(s):t[e.handler];Lt(a)&&Hs(i,a,e)}}function F2(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:d}}=e.appContext,u=a.get(t);let g;return u?g=u:!i.length&&!s&&!r?g=t:(g={},i.length&&i.forEach(h=>h0(g,h,d,!0)),h0(g,t,d)),bs(t)&&a.set(t,g),g}function h0(e,t,s,r=!1){const{mixins:i,extends:a}=t;a&&h0(e,a,s,!0),i&&i.forEach(d=>h0(e,d,s,!0));for(const d in t)if(!(r&&d==="expose")){const u=y8[d]||s&&s[d];e[d]=u?u(e[d],t[d]):t[d]}return e}const y8={data:wf,props:Ef,emits:Ef,methods:va,computed:va,beforeCreate:mn,created:mn,beforeMount:mn,mounted:mn,beforeUpdate:mn,updated:mn,beforeDestroy:mn,beforeUnmount:mn,destroyed:mn,unmounted:mn,activated:mn,deactivated:mn,errorCaptured:mn,serverPrefetch:mn,components:va,directives:va,watch:w8,provide:wf,inject:v8};function wf(e,t){return t?e?function(){return qs(Lt(e)?e.call(this,this):e,Lt(t)?t.call(this,this):t)}:t:e}function v8(e,t){return va(yu(e),yu(t))}function yu(e){if(Mt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function mn(e,t){return e?[...new Set([].concat(e,t))]:t}function va(e,t){return e?qs(Object.create(null),e,t):t}function Ef(e,t){return e?Mt(e)&&Mt(t)?[...new Set([...e,...t])]:qs(Object.create(null),yf(e),yf(t??{})):t}function w8(e,t){if(!e)return t;if(!t)return e;const s=qs(Object.create(null),e);for(const r in t)s[r]=mn(e[r],t[r]);return s}function T2(){return{app:null,config:{isNativeTag:qp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let E8=0;function C8(e,t){return function(r,i=null){Lt(r)||(r=qs({},r)),i!=null&&!bs(i)&&(i=null);const a=T2(),d=new WeakSet,u=[];let g=!1;const h=a.app={_uid:E8++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:Z2,get config(){return a.config},set config(m){},use(m,...b){return d.has(m)||(m&&Lt(m.install)?(d.add(m),m.install(h,...b)):Lt(m)&&(d.add(m),m(h,...b))),h},mixin(m){return a.mixins.includes(m)||a.mixins.push(m),h},component(m,b){return b?(a.components[m]=b,h):a.components[m]},directive(m,b){return b?(a.directives[m]=b,h):a.directives[m]},mount(m,b,v){if(!g){const C=h._ceVNode||ss(r,i);return C.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),b&&t?t(C,m):e(C,m,v),g=!0,h._container=m,m.__vue_app__=h,z0(C.component)}},onUnmount(m){u.push(m)},unmount(){g&&(pr(u,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(m,b){return a.provides[m]=b,h},runWithContext(m){const b=Pi;Pi=h;try{return m()}finally{Pi=b}}};return h}}let Pi=null;function A8(e,t){if(cn){let s=cn.provides;const r=cn.parent&&cn.parent.provides;r===s&&(s=cn.provides=Object.create(r)),s[e]=t}}function Kl(e,t,s=!1){const r=xx();if(r||Pi){let i=Pi?Pi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&Lt(t)?t.call(r&&r.proxy):t}}const M2={},I2=()=>Object.create(M2),P2=e=>Object.getPrototypeOf(e)===M2;function k8(e,t,s,r=!1){const i={},a=I2();e.propsDefaults=Object.create(null),R2(e,t,i,a);for(const d in e.propsOptions[0])d in i||(i[d]=void 0);s?e.props=r?i:Lv(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function B8(e,t,s,r){const{props:i,attrs:a,vnode:{patchFlag:d}}=e,u=os(i),[g]=e.propsOptions;let h=!1;if((r||d>0)&&!(d&16)){if(d&8){const m=e.vnode.dynamicProps;for(let b=0;b<m.length;b++){let v=m[b];if(H0(e.emitsOptions,v))continue;const C=t[v];if(g)if(us(a,v))C!==a[v]&&(a[v]=C,h=!0);else{const _=tr(v);i[_]=vu(g,u,_,C,e,!1)}else C!==a[v]&&(a[v]=C,h=!0)}}}else{R2(e,t,i,a)&&(h=!0);let m;for(const b in u)(!t||!us(t,b)&&((m=To(b))===b||!us(t,m)))&&(g?s&&(s[b]!==void 0||s[m]!==void 0)&&(i[b]=vu(g,u,b,void 0,e,!0)):delete i[b]);if(a!==u)for(const b in a)(!t||!us(t,b))&&(delete a[b],h=!0)}h&&Wr(e.attrs,"set","")}function R2(e,t,s,r){const[i,a]=e.propsOptions;let d=!1,u;if(t)for(let g in t){if(Ti(g))continue;const h=t[g];let m;i&&us(i,m=tr(g))?!a||!a.includes(m)?s[m]=h:(u||(u={}))[m]=h:H0(e.emitsOptions,g)||(!(g in r)||h!==r[g])&&(r[g]=h,d=!0)}if(a){const g=os(s),h=u||ws;for(let m=0;m<a.length;m++){const b=a[m];s[b]=vu(i,g,b,h[b],e,!us(h,b))}}return d}function vu(e,t,s,r,i,a){const d=e[s];if(d!=null){const u=us(d,"default");if(u&&r===void 0){const g=d.default;if(d.type!==Function&&!d.skipFactory&&Lt(g)){const{propsDefaults:h}=i;if(s in h)r=h[s];else{const m=il(i);r=h[s]=g.call(null,t),m()}}else r=g;i.ce&&i.ce._setProp(s,r)}d[0]&&(a&&!u?r=!1:d[1]&&(r===""||r===To(s))&&(r=!0))}return r}const _8=new WeakMap;function O2(e,t,s=!1){const r=s?_8:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,d={},u=[];let g=!1;if(!Lt(e)){const m=b=>{g=!0;const[v,C]=O2(b,t,!0);qs(d,v),C&&u.push(...C)};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!g)return bs(e)&&r.set(e,Si),Si;if(Mt(a))for(let m=0;m<a.length;m++){const b=tr(a[m]);Cf(b)&&(d[b]=ws)}else if(a)for(const m in a){const b=tr(m);if(Cf(b)){const v=a[m],C=d[b]=Mt(v)||Lt(v)?{type:v}:qs({},v),_=C.type;let F=!1,S=!0;if(Mt(_))for(let D=0;D<_.length;++D){const O=_[D],P=Lt(O)&&O.name;if(P==="Boolean"){F=!0;break}else P==="String"&&(S=!1)}else F=Lt(_)&&_.name==="Boolean";C[0]=F,C[1]=S,(F||us(C,"default"))&&u.push(b)}}const h=[d,u];return bs(e)&&r.set(e,h),h}function Cf(e){return e[0]!=="$"&&!Ti(e)}const lx=e=>e==="_"||e==="_ctx"||e==="$stable",dx=e=>Mt(e)?e.map(Kn):[Kn(e)],D8=(e,t,s)=>{if(t._n)return t;const r=_t((...i)=>dx(t(...i)),s);return r._c=!1,r},N2=(e,t,s)=>{const r=e._ctx;for(const i in e){if(lx(i))continue;const a=e[i];if(Lt(a))t[i]=D8(i,a,r);else if(a!=null){const d=dx(a);t[i]=()=>d}}},$2=(e,t)=>{const s=dx(t);e.slots.default=()=>s},L2=(e,t,s)=>{for(const r in t)(s||!lx(r))&&(e[r]=t[r])},S8=(e,t,s)=>{const r=e.slots=I2();if(e.vnode.shapeFlag&32){const i=t._;i?(L2(r,t,s),s&&Kp(r,"_",i,!0)):N2(t,r)}else t&&$2(e,t)},F8=(e,t,s)=>{const{vnode:r,slots:i}=e;let a=!0,d=ws;if(r.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:L2(i,t,s):(a=!t.$stable,N2(t,i)),d=t}else t&&($2(e,t),d={default:1});if(a)for(const u in i)!lx(u)&&d[u]==null&&delete i[u]},Rn=G2;function T8(e){return j2(e)}function M8(e){return j2(e,e8)}function j2(e,t){const s=O0();s.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:d,createText:u,createComment:g,setText:h,setElementText:m,parentNode:b,nextSibling:v,setScopeId:C=Tr,insertStaticContent:_}=e,F=(ne,ge,Te,He=null,xe=null,ee=null,N=void 0,E=null,M=!!ge.dynamicChildren)=>{if(ne===ge)return;ne&&!zo(ne,ge)&&(He=xt(ne),qe(ne,xe,ee,!0),ne=null),ge.patchFlag===-2&&(M=!1,ge.dynamicChildren=null);const{type:ae,ref:Fe,shapeFlag:Qe}=ge;switch(ae){case Jo:S(ne,ge,Te,He);break;case rn:D(ne,ge,Te,He);break;case Sa:ne==null&&O(ge,Te,He,N);break;case Ye:K(ne,ge,Te,He,xe,ee,N,E,M);break;default:Qe&1?U(ne,ge,Te,He,xe,ee,N,E,M):Qe&6?ie(ne,ge,Te,He,xe,ee,N,E,M):(Qe&64||Qe&128)&&ae.process(ne,ge,Te,He,xe,ee,N,E,M,vt)}Fe!=null&&xe?Ii(Fe,ne&&ne.ref,ee,ge||ne,!ge):Fe==null&&ne&&ne.ref!=null&&Ii(ne.ref,null,ee,ne,!0)},S=(ne,ge,Te,He)=>{if(ne==null)r(ge.el=u(ge.children),Te,He);else{const xe=ge.el=ne.el;ge.children!==ne.children&&h(xe,ge.children)}},D=(ne,ge,Te,He)=>{ne==null?r(ge.el=g(ge.children||""),Te,He):ge.el=ne.el},O=(ne,ge,Te,He)=>{[ne.el,ne.anchor]=_(ne.children,ge,Te,He,ne.el,ne.anchor)},P=({el:ne,anchor:ge},Te,He)=>{let xe;for(;ne&&ne!==ge;)xe=v(ne),r(ne,Te,He),ne=xe;r(ge,Te,He)},B=({el:ne,anchor:ge})=>{let Te;for(;ne&&ne!==ge;)Te=v(ne),i(ne),ne=Te;i(ge)},U=(ne,ge,Te,He,xe,ee,N,E,M)=>{ge.type==="svg"?N="svg":ge.type==="math"&&(N="mathml"),ne==null?z(ge,Te,He,xe,ee,N,E,M):I(ne,ge,xe,ee,N,E,M)},z=(ne,ge,Te,He,xe,ee,N,E)=>{let M,ae;const{props:Fe,shapeFlag:Qe,transition:Je,dirs:nt}=ne;if(M=ne.el=d(ne.type,ee,Fe&&Fe.is,Fe),Qe&8?m(M,ne.children):Qe&16&&H(ne.children,M,null,He,xe,Cd(ne,ee),N,E),nt&&Fr(ne,null,He,"created"),j(M,ne,ne.scopeId,N,He),Fe){for(const Ct in Fe)Ct!=="value"&&!Ti(Ct)&&a(M,Ct,null,Fe[Ct],ee,He);"value"in Fe&&a(M,"value",null,Fe.value,ee),(ae=Fe.onVnodeBeforeMount)&&Gn(ae,He,ne)}nt&&Fr(ne,null,He,"beforeMount");const bt=U2(xe,Je);bt&&Je.beforeEnter(M),r(M,ge,Te),((ae=Fe&&Fe.onVnodeMounted)||bt||nt)&&Rn(()=>{ae&&Gn(ae,He,ne),bt&&Je.enter(M),nt&&Fr(ne,null,He,"mounted")},xe)},j=(ne,ge,Te,He,xe)=>{if(Te&&C(ne,Te),He)for(let ee=0;ee<He.length;ee++)C(ne,He[ee]);if(xe){let ee=xe.subTree;if(ge===ee||Q2(ee.type)&&(ee.ssContent===ge||ee.ssFallback===ge)){const N=xe.vnode;j(ne,N,N.scopeId,N.slotScopeIds,xe.parent)}}},H=(ne,ge,Te,He,xe,ee,N,E,M=0)=>{for(let ae=M;ae<ne.length;ae++){const Fe=ne[ae]=E?po(ne[ae]):Kn(ne[ae]);F(null,Fe,ge,Te,He,xe,ee,N,E)}},I=(ne,ge,Te,He,xe,ee,N)=>{const E=ge.el=ne.el;let{patchFlag:M,dynamicChildren:ae,dirs:Fe}=ge;M|=ne.patchFlag&16;const Qe=ne.props||ws,Je=ge.props||ws;let nt;if(Te&&Ro(Te,!1),(nt=Je.onVnodeBeforeUpdate)&&Gn(nt,Te,ge,ne),Fe&&Fr(ge,ne,Te,"beforeUpdate"),Te&&Ro(Te,!0),(Qe.innerHTML&&Je.innerHTML==null||Qe.textContent&&Je.textContent==null)&&m(E,""),ae?$(ne.dynamicChildren,ae,E,Te,He,Cd(ge,xe),ee):N||ve(ne,ge,E,null,Te,He,Cd(ge,xe),ee,!1),M>0){if(M&16)J(E,Qe,Je,Te,xe);else if(M&2&&Qe.class!==Je.class&&a(E,"class",null,Je.class,xe),M&4&&a(E,"style",Qe.style,Je.style,xe),M&8){const bt=ge.dynamicProps;for(let Ct=0;Ct<bt.length;Ct++){const ht=bt[Ct],Qt=Qe[ht],jt=Je[ht];(jt!==Qt||ht==="value")&&a(E,ht,Qt,jt,xe,Te)}}M&1&&ne.children!==ge.children&&m(E,ge.children)}else!N&&ae==null&&J(E,Qe,Je,Te,xe);((nt=Je.onVnodeUpdated)||Fe)&&Rn(()=>{nt&&Gn(nt,Te,ge,ne),Fe&&Fr(ge,ne,Te,"updated")},He)},$=(ne,ge,Te,He,xe,ee,N)=>{for(let E=0;E<ge.length;E++){const M=ne[E],ae=ge[E],Fe=M.el&&(M.type===Ye||!zo(M,ae)||M.shapeFlag&198)?b(M.el):Te;F(M,ae,Fe,null,He,xe,ee,N,!0)}},J=(ne,ge,Te,He,xe)=>{if(ge!==Te){if(ge!==ws)for(const ee in ge)!Ti(ee)&&!(ee in Te)&&a(ne,ee,ge[ee],null,xe,He);for(const ee in Te){if(Ti(ee))continue;const N=Te[ee],E=ge[ee];N!==E&&ee!=="value"&&a(ne,ee,E,N,xe,He)}"value"in Te&&a(ne,"value",ge.value,Te.value,xe)}},K=(ne,ge,Te,He,xe,ee,N,E,M)=>{const ae=ge.el=ne?ne.el:u(""),Fe=ge.anchor=ne?ne.anchor:u("");let{patchFlag:Qe,dynamicChildren:Je,slotScopeIds:nt}=ge;nt&&(E=E?E.concat(nt):nt),ne==null?(r(ae,Te,He),r(Fe,Te,He),H(ge.children||[],Te,Fe,xe,ee,N,E,M)):Qe>0&&Qe&64&&Je&&ne.dynamicChildren?($(ne.dynamicChildren,Je,Te,xe,ee,N,E),(ge.key!=null||xe&&ge===xe.subTree)&&H2(ne,ge,!0)):ve(ne,ge,Te,Fe,xe,ee,N,E,M)},ie=(ne,ge,Te,He,xe,ee,N,E,M)=>{ge.slotScopeIds=E,ne==null?ge.shapeFlag&512?xe.ctx.activate(ge,Te,He,N,M):fe(ge,Te,He,xe,ee,N,M):q(ne,ge,M)},fe=(ne,ge,Te,He,xe,ee,N)=>{const E=ne.component=Y8(ne,He,xe);if(L0(ne)&&(E.ctx.renderer=vt),X8(E,!1,N),E.asyncDep){if(xe&&xe.registerDep(E,le,N),!ne.el){const M=E.subTree=ss(rn);D(null,M,ge,Te),ne.placeholder=M.el}}else le(E,ne,ge,Te,xe,ee,N)},q=(ne,ge,Te)=>{const He=ge.component=ne.component;if(z8(ne,ge,Te))if(He.asyncDep&&!He.asyncResolved){he(He,ge,Te);return}else He.next=ge,He.update();else ge.el=ne.el,He.vnode=ge},le=(ne,ge,Te,He,xe,ee,N)=>{const E=()=>{if(ne.isMounted){let{next:Qe,bu:Je,u:nt,parent:bt,vnode:Ct}=ne;{const Ft=z2(ne);if(Ft){Qe&&(Qe.el=Ct.el,he(ne,Qe,N)),Ft.asyncDep.then(()=>{ne.isUnmounted||E()});return}}let ht=Qe,Qt;Ro(ne,!1),Qe?(Qe.el=Ct.el,he(ne,Qe,N)):Qe=Ct,Je&&Gl(Je),(Qt=Qe.props&&Qe.props.onVnodeBeforeUpdate)&&Gn(Qt,bt,Qe,Ct),Ro(ne,!0);const jt=Ad(ne),Ht=ne.subTree;ne.subTree=jt,F(Ht,jt,b(Ht.el),xt(Ht),ne,xe,ee),Qe.el=jt.el,ht===null&&W2(ne,jt.el),nt&&Rn(nt,xe),(Qt=Qe.props&&Qe.props.onVnodeUpdated)&&Rn(()=>Gn(Qt,bt,Qe,Ct),xe)}else{let Qe;const{el:Je,props:nt}=ge,{bm:bt,m:Ct,parent:ht,root:Qt,type:jt}=ne,Ht=Xo(ge);if(Ro(ne,!1),bt&&Gl(bt),!Ht&&(Qe=nt&&nt.onVnodeBeforeMount)&&Gn(Qe,ht,ge),Ro(ne,!0),Je&&Et){const Ft=()=>{ne.subTree=Ad(ne),Et(Je,ne.subTree,ne,xe,null)};Ht&&jt.__asyncHydrate?jt.__asyncHydrate(Je,ne,Ft):Ft()}else{Qt.ce&&Qt.ce._def.shadowRoot!==!1&&Qt.ce._injectChildStyle(jt);const Ft=ne.subTree=Ad(ne);F(null,Ft,Te,He,ne,xe,ee),ge.el=Ft.el}if(Ct&&Rn(Ct,xe),!Ht&&(Qe=nt&&nt.onVnodeMounted)){const Ft=ge;Rn(()=>Gn(Qe,ht,Ft),xe)}(ge.shapeFlag&256||ht&&Xo(ht.vnode)&&ht.vnode.shapeFlag&256)&&ne.a&&Rn(ne.a,xe),ne.isMounted=!0,ge=Te=He=null}};ne.scope.on();const M=ne.effect=new Zp(E);ne.scope.off();const ae=ne.update=M.run.bind(M),Fe=ne.job=M.runIfDirty.bind(M);Fe.i=ne,Fe.id=ne.uid,M.scheduler=()=>ix(Fe),Ro(ne,!0),ae()},he=(ne,ge,Te)=>{ge.component=ne;const He=ne.vnode.props;ne.vnode=ge,ne.next=null,B8(ne,ge.props,He,Te),F8(ne,ge.children,Te),Jr(),ff(ne),Zr()},ve=(ne,ge,Te,He,xe,ee,N,E,M=!1)=>{const ae=ne&&ne.children,Fe=ne?ne.shapeFlag:0,Qe=ge.children,{patchFlag:Je,shapeFlag:nt}=ge;if(Je>0){if(Je&128){Ue(ae,Qe,Te,He,xe,ee,N,E,M);return}else if(Je&256){Ie(ae,Qe,Te,He,xe,ee,N,E,M);return}}nt&8?(Fe&16&&ze(ae,xe,ee),Qe!==ae&&m(Te,Qe)):Fe&16?nt&16?Ue(ae,Qe,Te,He,xe,ee,N,E,M):ze(ae,xe,ee,!0):(Fe&8&&m(Te,""),nt&16&&H(Qe,Te,He,xe,ee,N,E,M))},Ie=(ne,ge,Te,He,xe,ee,N,E,M)=>{ne=ne||Si,ge=ge||Si;const ae=ne.length,Fe=ge.length,Qe=Math.min(ae,Fe);let Je;for(Je=0;Je<Qe;Je++){const nt=ge[Je]=M?po(ge[Je]):Kn(ge[Je]);F(ne[Je],nt,Te,null,xe,ee,N,E,M)}ae>Fe?ze(ne,xe,ee,!0,!1,Qe):H(ge,Te,He,xe,ee,N,E,M,Qe)},Ue=(ne,ge,Te,He,xe,ee,N,E,M)=>{let ae=0;const Fe=ge.length;let Qe=ne.length-1,Je=Fe-1;for(;ae<=Qe&&ae<=Je;){const nt=ne[ae],bt=ge[ae]=M?po(ge[ae]):Kn(ge[ae]);if(zo(nt,bt))F(nt,bt,Te,null,xe,ee,N,E,M);else break;ae++}for(;ae<=Qe&&ae<=Je;){const nt=ne[Qe],bt=ge[Je]=M?po(ge[Je]):Kn(ge[Je]);if(zo(nt,bt))F(nt,bt,Te,null,xe,ee,N,E,M);else break;Qe--,Je--}if(ae>Qe){if(ae<=Je){const nt=Je+1,bt=nt<Fe?ge[nt].el:He;for(;ae<=Je;)F(null,ge[ae]=M?po(ge[ae]):Kn(ge[ae]),Te,bt,xe,ee,N,E,M),ae++}}else if(ae>Je)for(;ae<=Qe;)qe(ne[ae],xe,ee,!0),ae++;else{const nt=ae,bt=ae,Ct=new Map;for(ae=bt;ae<=Je;ae++){const G=ge[ae]=M?po(ge[ae]):Kn(ge[ae]);G.key!=null&&Ct.set(G.key,ae)}let ht,Qt=0;const jt=Je-bt+1;let Ht=!1,Ft=0;const De=new Array(jt);for(ae=0;ae<jt;ae++)De[ae]=0;for(ae=nt;ae<=Qe;ae++){const G=ne[ae];if(Qt>=jt){qe(G,xe,ee,!0);continue}let Ce;if(G.key!=null)Ce=Ct.get(G.key);else for(ht=bt;ht<=Je;ht++)if(De[ht-bt]===0&&zo(G,ge[ht])){Ce=ht;break}Ce===void 0?qe(G,xe,ee,!0):(De[Ce-bt]=ae+1,Ce>=Ft?Ft=Ce:Ht=!0,F(G,ge[Ce],Te,null,xe,ee,N,E,M),Qt++)}const Y=Ht?I8(De):Si;for(ht=Y.length-1,ae=jt-1;ae>=0;ae--){const G=bt+ae,Ce=ge[G],pt=ge[G+1],At=G+1<Fe?pt.el||pt.placeholder:He;De[ae]===0?F(null,Ce,Te,At,xe,ee,N,E,M):Ht&&(ht<0||ae!==Y[ht]?be(Ce,Te,At,2):ht--)}}},be=(ne,ge,Te,He,xe=null)=>{const{el:ee,type:N,transition:E,children:M,shapeFlag:ae}=ne;if(ae&6){be(ne.component.subTree,ge,Te,He);return}if(ae&128){ne.suspense.move(ge,Te,He);return}if(ae&64){N.move(ne,ge,Te,vt);return}if(N===Ye){r(ee,ge,Te);for(let Qe=0;Qe<M.length;Qe++)be(M[Qe],ge,Te,He);r(ne.anchor,ge,Te);return}if(N===Sa){P(ne,ge,Te);return}if(He!==2&&ae&1&&E)if(He===0)E.beforeEnter(ee),r(ee,ge,Te),Rn(()=>E.enter(ee),xe);else{const{leave:Qe,delayLeave:Je,afterLeave:nt}=E,bt=()=>{ne.ctx.isUnmounted?i(ee):r(ee,ge,Te)},Ct=()=>{ee._isLeaving&&ee[Vr](!0),Qe(ee,()=>{bt(),nt&&nt()})};Je?Je(ee,bt,Ct):Ct()}else r(ee,ge,Te)},qe=(ne,ge,Te,He=!1,xe=!1)=>{const{type:ee,props:N,ref:E,children:M,dynamicChildren:ae,shapeFlag:Fe,patchFlag:Qe,dirs:Je,cacheIndex:nt}=ne;if(Qe===-2&&(xe=!1),E!=null&&(Jr(),Ii(E,null,Te,ne,!0),Zr()),nt!=null&&(ge.renderCache[nt]=void 0),Fe&256){ge.ctx.deactivate(ne);return}const bt=Fe&1&&Je,Ct=!Xo(ne);let ht;if(Ct&&(ht=N&&N.onVnodeBeforeUnmount)&&Gn(ht,ge,ne),Fe&6)dt(ne.component,Te,He);else{if(Fe&128){ne.suspense.unmount(Te,He);return}bt&&Fr(ne,null,ge,"beforeUnmount"),Fe&64?ne.type.remove(ne,ge,Te,vt,He):ae&&!ae.hasOnce&&(ee!==Ye||Qe>0&&Qe&64)?ze(ae,ge,Te,!1,!0):(ee===Ye&&Qe&384||!xe&&Fe&16)&&ze(M,ge,Te),He&&ot(ne)}(Ct&&(ht=N&&N.onVnodeUnmounted)||bt)&&Rn(()=>{ht&&Gn(ht,ge,ne),bt&&Fr(ne,null,ge,"unmounted")},Te)},ot=ne=>{const{type:ge,el:Te,anchor:He,transition:xe}=ne;if(ge===Ye){Ge(Te,He);return}if(ge===Sa){B(ne);return}const ee=()=>{i(Te),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(ne.shapeFlag&1&&xe&&!xe.persisted){const{leave:N,delayLeave:E}=xe,M=()=>N(Te,ee);E?E(ne.el,ee,M):M()}else ee()},Ge=(ne,ge)=>{let Te;for(;ne!==ge;)Te=v(ne),i(ne),ne=Te;i(ge)},dt=(ne,ge,Te)=>{const{bum:He,scope:xe,job:ee,subTree:N,um:E,m:M,a:ae}=ne;Af(M),Af(ae),He&&Gl(He),xe.stop(),ee&&(ee.flags|=8,qe(N,ne,ge,Te)),E&&Rn(E,ge),Rn(()=>{ne.isUnmounted=!0},ge)},ze=(ne,ge,Te,He=!1,xe=!1,ee=0)=>{for(let N=ee;N<ne.length;N++)qe(ne[N],ge,Te,He,xe)},xt=ne=>{if(ne.shapeFlag&6)return xt(ne.component.subTree);if(ne.shapeFlag&128)return ne.suspense.next();const ge=v(ne.anchor||ne.el),Te=ge&&ge[Kv];return Te?v(Te):ge};let ft=!1;const yt=(ne,ge,Te)=>{ne==null?ge._vnode&&qe(ge._vnode,null,null,!0):F(ge._vnode||null,ne,ge,null,null,null,Te),ge._vnode=ne,ft||(ft=!0,ff(),u0(),ft=!1)},vt={p:F,um:qe,m:be,r:ot,mt:fe,mc:H,pc:ve,pbc:$,n:xt,o:e};let it,Et;return t&&([it,Et]=t(vt)),{render:yt,hydrate:it,createApp:C8(yt,it)}}function Cd({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ro({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function U2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function H2(e,t,s=!1){const r=e.children,i=t.children;if(Mt(r)&&Mt(i))for(let a=0;a<r.length;a++){const d=r[a];let u=i[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[a]=po(i[a]),u.el=d.el),!s&&u.patchFlag!==-2&&H2(d,u)),u.type===Jo&&u.patchFlag!==-1&&(u.el=d.el),u.type===rn&&!u.el&&(u.el=d.el)}}function I8(e){const t=e.slice(),s=[0];let r,i,a,d,u;const g=e.length;for(r=0;r<g;r++){const h=e[r];if(h!==0){if(i=s[s.length-1],e[i]<h){t[r]=i,s.push(r);continue}for(a=0,d=s.length-1;a<d;)u=a+d>>1,e[s[u]]<h?a=u+1:d=u;h<e[s[a]]&&(a>0&&(t[r]=s[a-1]),s[a]=r)}}for(a=s.length,d=s[a-1];a-- >0;)s[a]=d,d=t[d];return s}function z2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:z2(t)}function Af(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const P8=Symbol.for("v-scx"),R8=()=>Kl(P8);function O8(e,t){return cx(e,null,t)}function Hs(e,t,s){return cx(e,t,s)}function cx(e,t,s=ws){const{immediate:r,deep:i,flush:a,once:d}=s,u=qs({},s),g=t&&r||!t&&a!=="post";let h;if(Va){if(a==="sync"){const C=R8();h=C.__watcherHandles||(C.__watcherHandles=[])}else if(!g){const C=()=>{};return C.stop=Tr,C.resume=Tr,C.pause=Tr,C}}const m=cn;u.call=(C,_,F)=>pr(C,m,_,F);let b=!1;a==="post"?u.scheduler=C=>{Rn(C,m&&m.suspense)}:a!=="sync"&&(b=!0,u.scheduler=(C,_)=>{_?C():ix(C)}),u.augmentJob=C=>{t&&(C.flags|=4),b&&(C.flags|=2,m&&(C.id=m.uid,C.i=m))};const v=qv(e,t,u);return Va&&(h?h.push(v):g&&v()),v}function N8(e,t,s){const r=this.proxy,i=Ls(e)?e.includes(".")?V2(r,e):()=>r[e]:e.bind(r,r);let a;Lt(t)?a=t:(a=t.handler,s=t);const d=il(this),u=cx(i,a.bind(r),s);return d(),u}function V2(e,t){const s=t.split(".");return()=>{let r=e;for(let i=0;i<s.length&&r;i++)r=r[s[i]];return r}}const $8=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tr(t)}Modifiers`]||e[`${To(t)}Modifiers`];function L8(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||ws;let i=s;const a=t.startsWith("update:"),d=a&&$8(r,t.slice(7));d&&(d.trim&&(i=s.map(m=>Ls(m)?m.trim():m)),d.number&&(i=s.map(a0)));let u,g=r[u=pd(t)]||r[u=pd(tr(t))];!g&&a&&(g=r[u=pd(To(t))]),g&&pr(g,e,6,i);const h=r[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,pr(h,e,6,i)}}const j8=new WeakMap;function q2(e,t,s=!1){const r=s?j8:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let d={},u=!1;if(!Lt(e)){const g=h=>{const m=q2(h,t,!0);m&&(u=!0,qs(d,m))};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!a&&!u?(bs(e)&&r.set(e,null),null):(Mt(a)?a.forEach(g=>d[g]=null):qs(d,a),bs(e)&&r.set(e,d),d)}function H0(e,t){return!e||!sl(t)?!1:(t=t.slice(2).replace(/Once$/,""),us(e,t[0].toLowerCase()+t.slice(1))||us(e,To(t))||us(e,t))}function Ad(e){const{type:t,vnode:s,proxy:r,withProxy:i,propsOptions:[a],slots:d,attrs:u,emit:g,render:h,renderCache:m,props:b,data:v,setupState:C,ctx:_,inheritAttrs:F}=e,S=x0(e);let D,O;try{if(s.shapeFlag&4){const B=i||r,U=B;D=Kn(h.call(U,B,m,b,C,v,_)),O=u}else{const B=t;D=Kn(B.length>1?B(b,{attrs:u,slots:d,emit:g}):B(b,null)),O=t.props?u:U8(u)}}catch(B){Fa.length=0,$0(B,e,1),D=ss(rn)}let P=D;if(O&&F!==!1){const B=Object.keys(O),{shapeFlag:U}=P;B.length&&U&7&&(a&&B.some(Ku)&&(O=H8(O,a)),P=ko(P,O,!1,!0))}return s.dirs&&(P=ko(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(s.dirs):s.dirs),s.transition&&si(P,s.transition),D=P,x0(S),D}const U8=e=>{let t;for(const s in e)(s==="class"||s==="style"||sl(s))&&((t||(t={}))[s]=e[s]);return t},H8=(e,t)=>{const s={};for(const r in e)(!Ku(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function z8(e,t,s){const{props:r,children:i,component:a}=e,{props:d,children:u,patchFlag:g}=t,h=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&g>=0){if(g&1024)return!0;if(g&16)return r?kf(r,d,h):!!d;if(g&8){const m=t.dynamicProps;for(let b=0;b<m.length;b++){const v=m[b];if(d[v]!==r[v]&&!H0(h,v))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===d?!1:r?d?kf(r,d,h):!0:!!d;return!1}function kf(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!H0(s,a))return!0}return!1}function W2({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const Q2=e=>e.__isSuspense;function G2(e,t){t&&t.pendingBranch?Mt(e)?t.effects.push(...e):t.effects.push(e):Gv(e)}const Ye=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),rn=Symbol.for("v-cmt"),Sa=Symbol.for("v-stc"),Fa=[];let Ln=null;function T(e=!1){Fa.push(Ln=e?null:[])}function V8(){Fa.pop(),Ln=Fa[Fa.length-1]||null}let Ha=1;function g0(e,t=!1){Ha+=e,e<0&&Ln&&t&&(Ln.hasOnce=!0)}function K2(e){return e.dynamicChildren=Ha>0?Ln||Si:null,V8(),Ha>0&&Ln&&Ln.push(e),e}function R(e,t,s,r,i,a){return K2(n(e,t,s,r,i,a,!0))}function Dt(e,t,s,r,i){return K2(ss(e,t,s,r,i,!0))}function za(e){return e?e.__v_isVNode===!0:!1}function zo(e,t){return e.type===t.type&&e.key===t.key}const Y2=({key:e})=>e??null,Yl=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ls(e)||hn(e)||Lt(e)?{i:on,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,r=0,i=null,a=e===Ye?0:1,d=!1,u=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Y2(t),ref:t&&Yl(t),scopeId:b2,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:on};return u?(ux(g,s),a&128&&e.normalize(g)):s&&(g.shapeFlag|=Ls(s)?8:16),Ha>0&&!d&&Ln&&(g.patchFlag>0||a&6)&&g.patchFlag!==32&&Ln.push(g),g}const ss=q8;function q8(e,t=null,s=null,r=0,i=null,a=!1){if((!e||e===f8)&&(e=rn),za(e)){const u=ko(e,t,!0);return s&&ux(u,s),Ha>0&&!a&&Ln&&(u.shapeFlag&6?Ln[Ln.indexOf(e)]=u:Ln.push(u)),u.patchFlag=-2,u}if(s9(e)&&(e=e.__vccOpts),t){t=W8(t);let{class:u,style:g}=t;u&&!Ls(u)&&(t.class=Se(u)),bs(g)&&(rl(g)&&!Mt(g)&&(g=qs({},g)),t.style=Rr(g))}const d=Ls(e)?1:Q2(e)?128:y2(e)?64:bs(e)?4:Lt(e)?2:0;return n(e,t,s,r,i,d,a,!0)}function W8(e){return e?rl(e)||P2(e)?qs({},e):e:null}function ko(e,t,s=!1,r=!1){const{props:i,ref:a,patchFlag:d,children:u,transition:g}=e,h=t?Q8(i||{},t):i,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Y2(h),ref:t&&t.ref?s&&a?Mt(a)?a.concat(Yl(t)):[a,Yl(t)]:Yl(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ko(e.ssContent),ssFallback:e.ssFallback&&ko(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&r&&si(m,g.clone(m)),m}function Oe(e=" ",t=0){return ss(Jo,null,e,t)}function Bf(e,t){const s=ss(Sa,null,e);return s.staticCount=t,s}function se(e="",t=!1){return t?(T(),Dt(rn,null,e)):ss(rn,null,e)}function Kn(e){return e==null||typeof e=="boolean"?ss(rn):Mt(e)?ss(Ye,null,e.slice()):za(e)?po(e):ss(Jo,null,String(e))}function po(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ko(e)}function ux(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Mt(t))s=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ux(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!P2(t)?t._ctx=on:i===3&&on&&(on.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Lt(t)?(t={default:t,_ctx:on},s=32):(t=String(t),r&64?(s=16,t=[Oe(t)]):s=8);e.children=t,e.shapeFlag|=s}function Q8(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Se([t.class,r.class]));else if(i==="style")t.style=Rr([t.style,r.style]);else if(sl(i)){const a=t[i],d=r[i];d&&a!==d&&!(Mt(a)&&a.includes(d))&&(t[i]=a?[].concat(a,d):d)}else i!==""&&(t[i]=r[i])}return t}function Gn(e,t,s,r=null){pr(e,t,7,[s,r])}const G8=T2();let K8=0;function Y8(e,t,s){const r=e.type,i=(t?t.appContext:e.appContext)||G8,a={uid:K8++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:O2(r,i),emitsOptions:q2(r,i),emit:null,emitted:null,propsDefaults:ws,inheritAttrs:r.inheritAttrs,ctx:ws,data:ws,props:ws,attrs:ws,slots:ws,refs:ws,setupState:ws,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=L8.bind(null,a),e.ce&&e.ce(a),a}let cn=null;const xx=()=>cn||on;let p0,wu;{const e=O0(),t=(s,r)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(r),a=>{i.length>1?i.forEach(d=>d(a)):i[0](a)}};p0=t("__VUE_INSTANCE_SETTERS__",s=>cn=s),wu=t("__VUE_SSR_SETTERS__",s=>Va=s)}const il=e=>{const t=cn;return p0(e),e.scope.on(),()=>{e.scope.off(),p0(t)}},_f=()=>{cn&&cn.scope.off(),p0(null)};function X2(e){return e.vnode.shapeFlag&4}let Va=!1;function X8(e,t=!1,s=!1){t&&wu(t);const{props:r,children:i}=e.vnode,a=X2(e);k8(e,r,a,t),S8(e,i,s||t);const d=a?J8(e,t):void 0;return t&&wu(!1),d}function J8(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,p8);const{setup:r}=s;if(r){Jr();const i=e.setupContext=r.length>1?e9(e):null,a=il(e),d=ol(r,e,0,[e.props,i]),u=Wp(d);if(Zr(),a(),(u||e.sp)&&!Xo(e)&&k2(e),u){if(d.then(_f,_f),t)return d.then(g=>{Df(e,g)}).catch(g=>{$0(g,e,0)});e.asyncDep=d}else Df(e,d)}else J2(e)}function Df(e,t,s){Lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:bs(t)&&(e.setupState=h2(t)),J2(e)}function J2(e,t,s){const r=e.type;e.render||(e.render=r.render||Tr);{const i=il(e);Jr();try{m8(e)}finally{Zr(),i()}}}const Z8={get(e,t){return dn(e,"get",""),e[t]}};function e9(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Z8),slots:e.slots,emit:e.emit,expose:t}}function z0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(h2(pu(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Da)return Da[s](e)},has(t,s){return s in t||s in Da}})):e.proxy}function t9(e,t=!0){return Lt(e)?e.displayName||e.name:e.name||t&&e.__name}function s9(e){return Lt(e)&&"__vccOpts"in e}const Ze=(e,t)=>zv(e,t,Va);function Sn(e,t,s){try{g0(-1);const r=arguments.length;return r===2?bs(t)&&!Mt(t)?za(t)?ss(e,null,[t]):ss(e,t):ss(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&za(s)&&(s=[s]),ss(e,t,s))}finally{g0(1)}}const Z2="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eu;const Sf=typeof window<"u"&&window.trustedTypes;if(Sf)try{Eu=Sf.createPolicy("vue",{createHTML:e=>e})}catch{}const em=Eu?e=>Eu.createHTML(e):e=>e,n9="http://www.w3.org/2000/svg",r9="http://www.w3.org/1998/Math/MathML",zr=typeof document<"u"?document:null,Ff=zr&&zr.createElement("template"),o9={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const i=t==="svg"?zr.createElementNS(n9,e):t==="mathml"?zr.createElementNS(r9,e):s?zr.createElement(e,{is:s}):zr.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>zr.createTextNode(e),createComment:e=>zr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,i,a){const d=s?s.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===a||!(i=i.nextSibling)););else{Ff.innerHTML=em(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=Ff.content;if(r==="svg"||r==="mathml"){const g=u.firstChild;for(;g.firstChild;)u.appendChild(g.firstChild);u.removeChild(g)}t.insertBefore(u,s)}return[d?d.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},uo="transition",da="animation",$i=Symbol("_vtc"),tm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sm=qs({},w2,tm),i9=e=>(e.displayName="Transition",e.props=sm,e),Dl=i9((e,{slots:t})=>Sn(Xv,nm(e),t)),Oo=(e,t=[])=>{Mt(e)?e.forEach(s=>s(...t)):e&&e(...t)},Tf=e=>e?Mt(e)?e.some(t=>t.length>1):e.length>1:!1;function nm(e){const t={};for(const K in e)K in tm||(t[K]=e[K]);if(e.css===!1)return t;const{name:s="v",type:r,duration:i,enterFromClass:a=`${s}-enter-from`,enterActiveClass:d=`${s}-enter-active`,enterToClass:u=`${s}-enter-to`,appearFromClass:g=a,appearActiveClass:h=d,appearToClass:m=u,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:C=`${s}-leave-to`}=e,_=a9(i),F=_&&_[0],S=_&&_[1],{onBeforeEnter:D,onEnter:O,onEnterCancelled:P,onLeave:B,onLeaveCancelled:U,onBeforeAppear:z=D,onAppear:j=O,onAppearCancelled:H=P}=t,I=(K,ie,fe,q)=>{K._enterCancelled=q,ho(K,ie?m:u),ho(K,ie?h:d),fe&&fe()},$=(K,ie)=>{K._isLeaving=!1,ho(K,b),ho(K,C),ho(K,v),ie&&ie()},J=K=>(ie,fe)=>{const q=K?j:O,le=()=>I(ie,K,fe);Oo(q,[ie,le]),Mf(()=>{ho(ie,K?g:a),kr(ie,K?m:u),Tf(q)||If(ie,r,F,le)})};return qs(t,{onBeforeEnter(K){Oo(D,[K]),kr(K,a),kr(K,d)},onBeforeAppear(K){Oo(z,[K]),kr(K,g),kr(K,h)},onEnter:J(!1),onAppear:J(!0),onLeave(K,ie){K._isLeaving=!0;const fe=()=>$(K,ie);kr(K,b),K._enterCancelled?(kr(K,v),Cu(K)):(Cu(K),kr(K,v)),Mf(()=>{K._isLeaving&&(ho(K,b),kr(K,C),Tf(B)||If(K,r,S,fe))}),Oo(B,[K,fe])},onEnterCancelled(K){I(K,!1,void 0,!0),Oo(P,[K])},onAppearCancelled(K){I(K,!0,void 0,!0),Oo(H,[K])},onLeaveCancelled(K){$(K),Oo(U,[K])}})}function a9(e){if(e==null)return null;if(bs(e))return[kd(e.enter),kd(e.leave)];{const t=kd(e);return[t,t]}}function kd(e){return uv(e)}function kr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[$i]||(e[$i]=new Set)).add(t)}function ho(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const s=e[$i];s&&(s.delete(t),s.size||(e[$i]=void 0))}function Mf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let l9=0;function If(e,t,s,r){const i=e._endId=++l9,a=()=>{i===e._endId&&r()};if(s!=null)return setTimeout(a,s);const{type:d,timeout:u,propCount:g}=rm(e,t);if(!d)return r();const h=d+"end";let m=0;const b=()=>{e.removeEventListener(h,v),a()},v=C=>{C.target===e&&++m>=g&&b()};setTimeout(()=>{m<g&&b()},u+1),e.addEventListener(h,v)}function rm(e,t){const s=window.getComputedStyle(e),r=_=>(s[_]||"").split(", "),i=r(`${uo}Delay`),a=r(`${uo}Duration`),d=Pf(i,a),u=r(`${da}Delay`),g=r(`${da}Duration`),h=Pf(u,g);let m=null,b=0,v=0;t===uo?d>0&&(m=uo,b=d,v=a.length):t===da?h>0&&(m=da,b=h,v=g.length):(b=Math.max(d,h),m=b>0?d>h?uo:da:null,v=m?m===uo?a.length:g.length:0);const C=m===uo&&/\b(?:transform|all)(?:,|$)/.test(r(`${uo}Property`).toString());return{type:m,timeout:b,propCount:v,hasTransform:C}}function Pf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,r)=>Rf(s)+Rf(e[r])))}function Rf(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Cu(e){return(e?e.ownerDocument:document).body.offsetHeight}function d9(e,t,s){const r=e[$i];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const m0=Symbol("_vod"),om=Symbol("_vsh"),ms={name:"show",beforeMount(e,{value:t},{transition:s}){e[m0]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ca(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),ca(e,!0),r.enter(e)):r.leave(e,()=>{ca(e,!1)}):ca(e,t))},beforeUnmount(e,{value:t}){ca(e,t)}};function ca(e,t){e.style.display=t?e[m0]:"none",e[om]=!t}const c9=Symbol(""),u9=/(?:^|;)\s*display\s*:/;function x9(e,t,s){const r=e.style,i=Ls(s);let a=!1;if(s&&!i){if(t)if(Ls(t))for(const d of t.split(";")){const u=d.slice(0,d.indexOf(":")).trim();s[u]==null&&Xl(r,u,"")}else for(const d in t)s[d]==null&&Xl(r,d,"");for(const d in s)d==="display"&&(a=!0),Xl(r,d,s[d])}else if(i){if(t!==s){const d=r[c9];d&&(s+=";"+d),r.cssText=s,a=u9.test(s)}}else t&&e.removeAttribute("style");m0 in e&&(e[m0]=a?r.display:"",e[om]&&(r.display="none"))}const Of=/\s*!important$/;function Xl(e,t,s){if(Mt(s))s.forEach(r=>Xl(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=f9(e,t);Of.test(s)?e.setProperty(To(r),s.replace(Of,""),"important"):e[r]=s}}const Nf=["Webkit","Moz","ms"],Bd={};function f9(e,t){const s=Bd[t];if(s)return s;let r=tr(t);if(r!=="filter"&&r in e)return Bd[t]=r;r=R0(r);for(let i=0;i<Nf.length;i++){const a=Nf[i]+r;if(a in e)return Bd[t]=a}return t}const $f="http://www.w3.org/1999/xlink";function Lf(e,t,s,r,i,a=mv(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS($f,t.slice(6,t.length)):e.setAttributeNS($f,t,s):s==null||a&&!Yp(s)?e.removeAttribute(t):e.setAttribute(t,a?"":gr(s)?String(s):s)}function jf(e,t,s,r,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?em(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,g=s==null?e.type==="checkbox"?"on":"":String(s);(u!==g||!("_value"in e))&&(e.value=g),s==null&&e.removeAttribute(t),e._value=s;return}let d=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Yp(s):s==null&&u==="string"?(s="",d=!0):u==="number"&&(s=0,d=!0)}try{e[t]=s}catch{}d&&e.removeAttribute(i||t)}function Gr(e,t,s,r){e.addEventListener(t,s,r)}function h9(e,t,s,r){e.removeEventListener(t,s,r)}const Uf=Symbol("_vei");function g9(e,t,s,r,i=null){const a=e[Uf]||(e[Uf]={}),d=a[t];if(r&&d)d.value=r;else{const[u,g]=p9(t);if(r){const h=a[t]=y9(r,i);Gr(e,u,h,g)}else d&&(h9(e,u,d,g),a[t]=void 0)}}const Hf=/(?:Once|Passive|Capture)$/;function p9(e){let t;if(Hf.test(e)){t={};let r;for(;r=e.match(Hf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):To(e.slice(2)),t]}let _d=0;const m9=Promise.resolve(),b9=()=>_d||(m9.then(()=>_d=0),_d=Date.now());function y9(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;pr(v9(r,s.value),t,5,[r])};return s.value=e,s.attached=b9(),s}function v9(e,t){if(Mt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const zf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,w9=(e,t,s,r,i,a)=>{const d=i==="svg";t==="class"?d9(e,r,d):t==="style"?x9(e,s,r):sl(t)?Ku(t)||g9(e,t,s,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):E9(e,t,r,d))?(jf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Lf(e,t,r,d,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ls(r))?jf(e,tr(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Lf(e,t,r,d))};function E9(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&zf(t)&&Lt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return zf(t)&&Ls(s)?!1:t in e}const im=new WeakMap,am=new WeakMap,b0=Symbol("_moveCb"),Vf=Symbol("_enterCb"),C9=e=>(delete e.props.mode,e),A9=C9({name:"TransitionGroup",props:qs({},sm,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=xx(),r=v2();let i,a;return _2(()=>{if(!i.length)return;const d=e.moveClass||`${e.name||"v"}-move`;if(!S9(i[0].el,s.vnode.el,d)){i=[];return}i.forEach(B9),i.forEach(_9);const u=i.filter(D9);Cu(s.vnode.el),u.forEach(g=>{const h=g.el,m=h.style;kr(h,d),m.transform=m.webkitTransform=m.transitionDuration="";const b=h[b0]=v=>{v&&v.target!==h||(!v||v.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",b),h[b0]=null,ho(h,d))};h.addEventListener("transitionend",b)}),i=[]}),()=>{const d=os(e),u=nm(d);let g=d.tag||Ye;if(i=[],a)for(let h=0;h<a.length;h++){const m=a[h];m.el&&m.el instanceof Element&&(i.push(m),si(m,Ua(m,u,r,s)),im.set(m,m.el.getBoundingClientRect()))}a=t.default?ax(t.default()):[];for(let h=0;h<a.length;h++){const m=a[h];m.key!=null&&si(m,Ua(m,u,r,s))}return ss(g,null,a)}}}),k9=A9;function B9(e){const t=e.el;t[b0]&&t[b0](),t[Vf]&&t[Vf]()}function _9(e){am.set(e,e.el.getBoundingClientRect())}function D9(e){const t=im.get(e),s=am.get(e),r=t.left-s.left,i=t.top-s.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function S9(e,t,s){const r=e.cloneNode(),i=e[$i];i&&i.forEach(u=>{u.split(/\s+/).forEach(g=>g&&r.classList.remove(g))}),s.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:d}=rm(r);return a.removeChild(r),d}const Bo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Mt(t)?s=>Gl(t,s):t};function F9(e){e.target.composing=!0}function qf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const er=Symbol("_assign"),Ve={created(e,{modifiers:{lazy:t,trim:s,number:r}},i){e[er]=Bo(i);const a=r||i.props&&i.props.type==="number";Gr(e,t?"change":"input",d=>{if(d.target.composing)return;let u=e.value;s&&(u=u.trim()),a&&(u=a0(u)),e[er](u)}),s&&Gr(e,"change",()=>{e.value=e.value.trim()}),t||(Gr(e,"compositionstart",F9),Gr(e,"compositionend",qf),Gr(e,"change",qf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:i,number:a}},d){if(e[er]=Bo(d),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?a0(e.value):e.value,g=t??"";u!==g&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||i&&e.value.trim()===g)||(e.value=g))}},Yn={deep:!0,created(e,t,s){e[er]=Bo(s),Gr(e,"change",()=>{const r=e._modelValue,i=Li(e),a=e.checked,d=e[er];if(Mt(r)){const u=Ju(r,i),g=u!==-1;if(a&&!g)d(r.concat(i));else if(!a&&g){const h=[...r];h.splice(u,1),d(h)}}else if(Wi(r)){const u=new Set(r);a?u.add(i):u.delete(i),d(u)}else d(lm(e,a))})},mounted:Wf,beforeUpdate(e,t,s){e[er]=Bo(s),Wf(e,t,s)}};function Wf(e,{value:t,oldValue:s},r){e._modelValue=t;let i;if(Mt(t))i=Ju(t,r.props.value)>-1;else if(Wi(t))i=t.has(r.props.value);else{if(t===s)return;i=ti(t,lm(e,!0))}e.checked!==i&&(e.checked=i)}const ri={created(e,{value:t},s){e.checked=ti(t,s.props.value),e[er]=Bo(s),Gr(e,"change",()=>{e[er](Li(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[er]=Bo(r),t!==s&&(e.checked=ti(t,r.props.value))}},St={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const i=Wi(t);Gr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,d=>d.selected).map(d=>s?a0(Li(d)):Li(d));e[er](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,_n(()=>{e._assigning=!1})}),e[er]=Bo(r)},mounted(e,{value:t}){Qf(e,t)},beforeUpdate(e,t,s){e[er]=Bo(s)},updated(e,{value:t}){e._assigning||Qf(e,t)}};function Qf(e,t){const s=e.multiple,r=Mt(t);if(!(s&&!r&&!Wi(t))){for(let i=0,a=e.options.length;i<a;i++){const d=e.options[i],u=Li(d);if(s)if(r){const g=typeof u;g==="string"||g==="number"?d.selected=t.some(h=>String(h)===String(u)):d.selected=Ju(t,u)>-1}else d.selected=t.has(u);else if(ti(Li(d),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Li(e){return"_value"in e?e._value:e.value}function lm(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const T9={created(e,t,s){Sl(e,t,s,null,"created")},mounted(e,t,s){Sl(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){Sl(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){Sl(e,t,s,r,"updated")}};function M9(e,t){switch(e){case"SELECT":return St;case"TEXTAREA":return Ve;default:switch(t){case"checkbox":return Yn;case"radio":return ri;default:return Ve}}}function Sl(e,t,s,r,i){const d=M9(e.tagName,s.props&&s.props.type)[i];d&&d(e,t,s,r)}const I9=["ctrl","shift","alt","meta"],P9={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>I9.some(s=>e[`${s}Key`]&&!t.includes(s))},Os=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=((i,...a)=>{for(let d=0;d<t.length;d++){const u=P9[t[d]];if(u&&u(i,t))return}return e(i,...a)}))},R9={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},al=(e,t)=>{const s=e._withKeys||(e._withKeys={}),r=t.join(".");return s[r]||(s[r]=(i=>{if(!("key"in i))return;const a=To(i.key);if(t.some(d=>d===a||R9[d]===a))return e(i)}))},dm=qs({patchProp:w9},o9);let Ta,Gf=!1;function O9(){return Ta||(Ta=T8(dm))}function N9(){return Ta=Gf?Ta:M8(dm),Gf=!0,Ta}const $9=((...e)=>{const t=O9().createApp(...e),{mount:s}=t;return t.mount=r=>{const i=um(r);if(!i)return;const a=t._component;!Lt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const d=s(i,!1,cm(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),d},t}),L9=((...e)=>{const t=N9().createApp(...e),{mount:s}=t;return t.mount=r=>{const i=um(r);if(i)return s(i,!0,cm(i))},t});function cm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function um(e){return Ls(e)?document.querySelector(e):e}var xm=typeof global=="object"&&global&&global.Object===Object&&global,j9=typeof self=="object"&&self&&self.Object===Object&&self,Or=xm||j9||Function("return this")(),Pr=Or.Symbol,fm=Object.prototype,U9=fm.hasOwnProperty,H9=fm.toString,ua=Pr?Pr.toStringTag:void 0;function z9(e){var t=U9.call(e,ua),s=e[ua];try{e[ua]=void 0;var r=!0}catch{}var i=H9.call(e);return r&&(t?e[ua]=s:delete e[ua]),i}var V9=Object.prototype,q9=V9.toString;function W9(e){return q9.call(e)}var Q9="[object Null]",G9="[object Undefined]",Kf=Pr?Pr.toStringTag:void 0;function Qi(e){return e==null?e===void 0?G9:Q9:Kf&&Kf in Object(e)?z9(e):W9(e)}function _o(e){return e!=null&&typeof e=="object"}var K9="[object Symbol]";function fx(e){return typeof e=="symbol"||_o(e)&&Qi(e)==K9}function Y9(e,t){for(var s=-1,r=e==null?0:e.length,i=Array(r);++s<r;)i[s]=t(e[s],s,e);return i}var eo=Array.isArray,Yf=Pr?Pr.prototype:void 0,Xf=Yf?Yf.toString:void 0;function hm(e){if(typeof e=="string")return e;if(eo(e))return Y9(e,hm)+"";if(fx(e))return Xf?Xf.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ji(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var X9="[object AsyncFunction]",J9="[object Function]",Z9="[object GeneratorFunction]",e4="[object Proxy]";function gm(e){if(!ji(e))return!1;var t=Qi(e);return t==J9||t==Z9||t==X9||t==e4}var Dd=Or["__core-js_shared__"],Jf=(function(){var e=/[^.]+$/.exec(Dd&&Dd.keys&&Dd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function t4(e){return!!Jf&&Jf in e}var s4=Function.prototype,n4=s4.toString;function di(e){if(e!=null){try{return n4.call(e)}catch{}try{return e+""}catch{}}return""}var r4=/[\\^$.*+?()[\]{}|]/g,o4=/^\[object .+?Constructor\]$/,i4=Function.prototype,a4=Object.prototype,l4=i4.toString,d4=a4.hasOwnProperty,c4=RegExp("^"+l4.call(d4).replace(r4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u4(e){if(!ji(e)||t4(e))return!1;var t=gm(e)?c4:o4;return t.test(di(e))}function x4(e,t){return e?.[t]}function ci(e,t){var s=x4(e,t);return u4(s)?s:void 0}var Au=ci(Or,"WeakMap"),Zf=Object.create,f4=(function(){function e(){}return function(t){if(!ji(t))return{};if(Zf)return Zf(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})(),e1=(function(){try{var e=ci(Object,"defineProperty");return e({},"",{}),e}catch{}})();function h4(e,t){for(var s=-1,r=e==null?0:e.length;++s<r&&t(e[s],s,e)!==!1;);return e}var g4=9007199254740991,p4=/^(?:0|[1-9]\d*)$/;function hx(e,t){var s=typeof e;return t=t??g4,!!t&&(s=="number"||s!="symbol"&&p4.test(e))&&e>-1&&e%1==0&&e<t}function m4(e,t,s){t=="__proto__"&&e1?e1(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function gx(e,t){return e===t||e!==e&&t!==t}var b4=Object.prototype,y4=b4.hasOwnProperty;function pm(e,t,s){var r=e[t];(!(y4.call(e,t)&&gx(r,s))||s===void 0&&!(t in e))&&m4(e,t,s)}var v4=9007199254740991;function px(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=v4}function w4(e){return e!=null&&px(e.length)&&!gm(e)}var E4=Object.prototype;function mm(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||E4;return e===s}function C4(e,t){for(var s=-1,r=Array(e);++s<e;)r[s]=t(s);return r}var A4="[object Arguments]";function t1(e){return _o(e)&&Qi(e)==A4}var bm=Object.prototype,k4=bm.hasOwnProperty,B4=bm.propertyIsEnumerable,ym=t1((function(){return arguments})())?t1:function(e){return _o(e)&&k4.call(e,"callee")&&!B4.call(e,"callee")};function _4(){return!1}var vm=typeof jn=="object"&&jn&&!jn.nodeType&&jn,s1=vm&&typeof Un=="object"&&Un&&!Un.nodeType&&Un,D4=s1&&s1.exports===vm,n1=D4?Or.Buffer:void 0,S4=n1?n1.isBuffer:void 0,y0=S4||_4,F4="[object Arguments]",T4="[object Array]",M4="[object Boolean]",I4="[object Date]",P4="[object Error]",R4="[object Function]",O4="[object Map]",N4="[object Number]",$4="[object Object]",L4="[object RegExp]",j4="[object Set]",U4="[object String]",H4="[object WeakMap]",z4="[object ArrayBuffer]",V4="[object DataView]",q4="[object Float32Array]",W4="[object Float64Array]",Q4="[object Int8Array]",G4="[object Int16Array]",K4="[object Int32Array]",Y4="[object Uint8Array]",X4="[object Uint8ClampedArray]",J4="[object Uint16Array]",Z4="[object Uint32Array]",_s={};_s[q4]=_s[W4]=_s[Q4]=_s[G4]=_s[K4]=_s[Y4]=_s[X4]=_s[J4]=_s[Z4]=!0;_s[F4]=_s[T4]=_s[z4]=_s[M4]=_s[V4]=_s[I4]=_s[P4]=_s[R4]=_s[O4]=_s[N4]=_s[$4]=_s[L4]=_s[j4]=_s[U4]=_s[H4]=!1;function e6(e){return _o(e)&&px(e.length)&&!!_s[Qi(e)]}function mx(e){return function(t){return e(t)}}var wm=typeof jn=="object"&&jn&&!jn.nodeType&&jn,Ma=wm&&typeof Un=="object"&&Un&&!Un.nodeType&&Un,t6=Ma&&Ma.exports===wm,Sd=t6&&xm.process,Ui=(function(){try{var e=Ma&&Ma.require&&Ma.require("util").types;return e||Sd&&Sd.binding&&Sd.binding("util")}catch{}})(),r1=Ui&&Ui.isTypedArray,Em=r1?mx(r1):e6,s6=Object.prototype,n6=s6.hasOwnProperty;function r6(e,t){var s=eo(e),r=!s&&ym(e),i=!s&&!r&&y0(e),a=!s&&!r&&!i&&Em(e),d=s||r||i||a,u=d?C4(e.length,String):[],g=u.length;for(var h in e)n6.call(e,h)&&!(d&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||hx(h,g)))&&u.push(h);return u}function Cm(e,t){return function(s){return e(t(s))}}var o6=Cm(Object.keys,Object),i6=Object.prototype,a6=i6.hasOwnProperty;function l6(e){if(!mm(e))return o6(e);var t=[];for(var s in Object(e))a6.call(e,s)&&s!="constructor"&&t.push(s);return t}function d6(e){return w4(e)?r6(e):l6(e)}var c6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u6=/^\w*$/;function x6(e,t){if(eo(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||fx(e)?!0:u6.test(e)||!c6.test(e)||t!=null&&e in Object(t)}var qa=ci(Object,"create");function f6(){this.__data__=qa?qa(null):{},this.size=0}function h6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var g6="__lodash_hash_undefined__",p6=Object.prototype,m6=p6.hasOwnProperty;function b6(e){var t=this.__data__;if(qa){var s=t[e];return s===g6?void 0:s}return m6.call(t,e)?t[e]:void 0}var y6=Object.prototype,v6=y6.hasOwnProperty;function w6(e){var t=this.__data__;return qa?t[e]!==void 0:v6.call(t,e)}var E6="__lodash_hash_undefined__";function C6(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=qa&&t===void 0?E6:t,this}function oi(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}oi.prototype.clear=f6;oi.prototype.delete=h6;oi.prototype.get=b6;oi.prototype.has=w6;oi.prototype.set=C6;function A6(){this.__data__=[],this.size=0}function V0(e,t){for(var s=e.length;s--;)if(gx(e[s][0],t))return s;return-1}var k6=Array.prototype,B6=k6.splice;function _6(e){var t=this.__data__,s=V0(t,e);if(s<0)return!1;var r=t.length-1;return s==r?t.pop():B6.call(t,s,1),--this.size,!0}function D6(e){var t=this.__data__,s=V0(t,e);return s<0?void 0:t[s][1]}function S6(e){return V0(this.__data__,e)>-1}function F6(e,t){var s=this.__data__,r=V0(s,e);return r<0?(++this.size,s.push([e,t])):s[r][1]=t,this}function so(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}so.prototype.clear=A6;so.prototype.delete=_6;so.prototype.get=D6;so.prototype.has=S6;so.prototype.set=F6;var Wa=ci(Or,"Map");function T6(){this.size=0,this.__data__={hash:new oi,map:new(Wa||so),string:new oi}}function M6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q0(e,t){var s=e.__data__;return M6(t)?s[typeof t=="string"?"string":"hash"]:s.map}function I6(e){var t=q0(this,e).delete(e);return this.size-=t?1:0,t}function P6(e){return q0(this,e).get(e)}function R6(e){return q0(this,e).has(e)}function O6(e,t){var s=q0(this,e),r=s.size;return s.set(e,t),this.size+=s.size==r?0:1,this}function no(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}no.prototype.clear=T6;no.prototype.delete=I6;no.prototype.get=P6;no.prototype.has=R6;no.prototype.set=O6;var N6="Expected a function";function bx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(N6);var s=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=s.cache;if(a.has(i))return a.get(i);var d=e.apply(this,r);return s.cache=a.set(i,d)||a,d};return s.cache=new(bx.Cache||no),s}bx.Cache=no;var $6=500;function L6(e){var t=bx(e,function(r){return s.size===$6&&s.clear(),r}),s=t.cache;return t}var j6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U6=/\\(\\)?/g,H6=L6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(j6,function(s,r,i,a){t.push(i?a.replace(U6,"$1"):r||s)}),t});function z6(e){return e==null?"":hm(e)}function yx(e,t){return eo(e)?e:x6(e,t)?[e]:H6(z6(e))}function vx(e){if(typeof e=="string"||fx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function V6(e,t){t=yx(t,e);for(var s=0,r=t.length;e!=null&&s<r;)e=e[vx(t[s++])];return s&&s==r?e:void 0}function Ri(e,t,s){var r=e==null?void 0:V6(e,t);return r===void 0?s:r}function q6(e,t){for(var s=-1,r=t.length,i=e.length;++s<r;)e[i+s]=t[s];return e}var W6=Cm(Object.getPrototypeOf,Object);function Q6(){this.__data__=new so,this.size=0}function G6(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function K6(e){return this.__data__.get(e)}function Y6(e){return this.__data__.has(e)}var X6=200;function J6(e,t){var s=this.__data__;if(s instanceof so){var r=s.__data__;if(!Wa||r.length<X6-1)return r.push([e,t]),this.size=++s.size,this;s=this.__data__=new no(r)}return s.set(e,t),this.size=s.size,this}function Xr(e){var t=this.__data__=new so(e);this.size=t.size}Xr.prototype.clear=Q6;Xr.prototype.delete=G6;Xr.prototype.get=K6;Xr.prototype.has=Y6;Xr.prototype.set=J6;var Am=typeof jn=="object"&&jn&&!jn.nodeType&&jn,o1=Am&&typeof Un=="object"&&Un&&!Un.nodeType&&Un,Z6=o1&&o1.exports===Am,i1=Z6?Or.Buffer:void 0;i1&&i1.allocUnsafe;function e3(e,t){return e.slice()}function t3(e,t){for(var s=-1,r=e==null?0:e.length,i=0,a=[];++s<r;){var d=e[s];t(d,s,e)&&(a[i++]=d)}return a}function s3(){return[]}var n3=Object.prototype,r3=n3.propertyIsEnumerable,a1=Object.getOwnPropertySymbols,o3=a1?function(e){return e==null?[]:(e=Object(e),t3(a1(e),function(t){return r3.call(e,t)}))}:s3;function i3(e,t,s){var r=t(e);return eo(e)?r:q6(r,s(e))}function ku(e){return i3(e,d6,o3)}var Bu=ci(Or,"DataView"),_u=ci(Or,"Promise"),Du=ci(Or,"Set"),l1="[object Map]",a3="[object Object]",d1="[object Promise]",c1="[object Set]",u1="[object WeakMap]",x1="[object DataView]",l3=di(Bu),d3=di(Wa),c3=di(_u),u3=di(Du),x3=di(Au),xr=Qi;(Bu&&xr(new Bu(new ArrayBuffer(1)))!=x1||Wa&&xr(new Wa)!=l1||_u&&xr(_u.resolve())!=d1||Du&&xr(new Du)!=c1||Au&&xr(new Au)!=u1)&&(xr=function(e){var t=Qi(e),s=t==a3?e.constructor:void 0,r=s?di(s):"";if(r)switch(r){case l3:return x1;case d3:return l1;case c3:return d1;case u3:return c1;case x3:return u1}return t});var f3=Object.prototype,h3=f3.hasOwnProperty;function g3(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&h3.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var v0=Or.Uint8Array;function wx(e){var t=new e.constructor(e.byteLength);return new v0(t).set(new v0(e)),t}function p3(e,t){var s=wx(e.buffer);return new e.constructor(s,e.byteOffset,e.byteLength)}var m3=/\w*$/;function b3(e){var t=new e.constructor(e.source,m3.exec(e));return t.lastIndex=e.lastIndex,t}var f1=Pr?Pr.prototype:void 0,h1=f1?f1.valueOf:void 0;function y3(e){return h1?Object(h1.call(e)):{}}function v3(e,t){var s=wx(e.buffer);return new e.constructor(s,e.byteOffset,e.length)}var w3="[object Boolean]",E3="[object Date]",C3="[object Map]",A3="[object Number]",k3="[object RegExp]",B3="[object Set]",_3="[object String]",D3="[object Symbol]",S3="[object ArrayBuffer]",F3="[object DataView]",T3="[object Float32Array]",M3="[object Float64Array]",I3="[object Int8Array]",P3="[object Int16Array]",R3="[object Int32Array]",O3="[object Uint8Array]",N3="[object Uint8ClampedArray]",$3="[object Uint16Array]",L3="[object Uint32Array]";function j3(e,t,s){var r=e.constructor;switch(t){case S3:return wx(e);case w3:case E3:return new r(+e);case F3:return p3(e);case T3:case M3:case I3:case P3:case R3:case O3:case N3:case $3:case L3:return v3(e);case C3:return new r;case A3:case _3:return new r(e);case k3:return b3(e);case B3:return new r;case D3:return y3(e)}}function U3(e){return typeof e.constructor=="function"&&!mm(e)?f4(W6(e)):{}}var H3="[object Map]";function z3(e){return _o(e)&&xr(e)==H3}var g1=Ui&&Ui.isMap,V3=g1?mx(g1):z3,q3="[object Set]";function W3(e){return _o(e)&&xr(e)==q3}var p1=Ui&&Ui.isSet,Q3=p1?mx(p1):W3,km="[object Arguments]",G3="[object Array]",K3="[object Boolean]",Y3="[object Date]",X3="[object Error]",Bm="[object Function]",J3="[object GeneratorFunction]",Z3="[object Map]",e5="[object Number]",_m="[object Object]",t5="[object RegExp]",s5="[object Set]",n5="[object String]",r5="[object Symbol]",o5="[object WeakMap]",i5="[object ArrayBuffer]",a5="[object DataView]",l5="[object Float32Array]",d5="[object Float64Array]",c5="[object Int8Array]",u5="[object Int16Array]",x5="[object Int32Array]",f5="[object Uint8Array]",h5="[object Uint8ClampedArray]",g5="[object Uint16Array]",p5="[object Uint32Array]",Cs={};Cs[km]=Cs[G3]=Cs[i5]=Cs[a5]=Cs[K3]=Cs[Y3]=Cs[l5]=Cs[d5]=Cs[c5]=Cs[u5]=Cs[x5]=Cs[Z3]=Cs[e5]=Cs[_m]=Cs[t5]=Cs[s5]=Cs[n5]=Cs[r5]=Cs[f5]=Cs[h5]=Cs[g5]=Cs[p5]=!0;Cs[X3]=Cs[Bm]=Cs[o5]=!1;function Jl(e,t,s,r,i,a){var d;if(d!==void 0)return d;if(!ji(e))return e;var u=eo(e);if(u)d=g3(e);else{var g=xr(e),h=g==Bm||g==J3;if(y0(e))return e3(e);if(g==_m||g==km||h&&!i)d=h?{}:U3(e);else{if(!Cs[g])return i?e:{};d=j3(e,g)}}a||(a=new Xr);var m=a.get(e);if(m)return m;a.set(e,d),Q3(e)?e.forEach(function(C){d.add(Jl(C,t,s,C,e,a))}):V3(e)&&e.forEach(function(C,_){d.set(_,Jl(C,t,s,_,e,a))});var b=ku,v=u?void 0:b(e);return h4(v||e,function(C,_){v&&(_=C,C=e[_]),pm(d,_,Jl(C,t,s,_,e,a))}),d}var m5=1,b5=4;function kn(e){return Jl(e,m5|b5)}var y5="__lodash_hash_undefined__";function v5(e){return this.__data__.set(e,y5),this}function w5(e){return this.__data__.has(e)}function w0(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new no;++t<s;)this.add(e[t])}w0.prototype.add=w0.prototype.push=v5;w0.prototype.has=w5;function E5(e,t){for(var s=-1,r=e==null?0:e.length;++s<r;)if(t(e[s],s,e))return!0;return!1}function C5(e,t){return e.has(t)}var A5=1,k5=2;function Dm(e,t,s,r,i,a){var d=s&A5,u=e.length,g=t.length;if(u!=g&&!(d&&g>u))return!1;var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var b=-1,v=!0,C=s&k5?new w0:void 0;for(a.set(e,t),a.set(t,e);++b<u;){var _=e[b],F=t[b];if(r)var S=d?r(F,_,b,t,e,a):r(_,F,b,e,t,a);if(S!==void 0){if(S)continue;v=!1;break}if(C){if(!E5(t,function(D,O){if(!C5(C,O)&&(_===D||i(_,D,s,r,a)))return C.push(O)})){v=!1;break}}else if(!(_===F||i(_,F,s,r,a))){v=!1;break}}return a.delete(e),a.delete(t),v}function B5(e){var t=-1,s=Array(e.size);return e.forEach(function(r,i){s[++t]=[i,r]}),s}function _5(e){var t=-1,s=Array(e.size);return e.forEach(function(r){s[++t]=r}),s}var D5=1,S5=2,F5="[object Boolean]",T5="[object Date]",M5="[object Error]",I5="[object Map]",P5="[object Number]",R5="[object RegExp]",O5="[object Set]",N5="[object String]",$5="[object Symbol]",L5="[object ArrayBuffer]",j5="[object DataView]",m1=Pr?Pr.prototype:void 0,Fd=m1?m1.valueOf:void 0;function U5(e,t,s,r,i,a,d){switch(s){case j5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L5:return!(e.byteLength!=t.byteLength||!a(new v0(e),new v0(t)));case F5:case T5:case P5:return gx(+e,+t);case M5:return e.name==t.name&&e.message==t.message;case R5:case N5:return e==t+"";case I5:var u=B5;case O5:var g=r&D5;if(u||(u=_5),e.size!=t.size&&!g)return!1;var h=d.get(e);if(h)return h==t;r|=S5,d.set(e,t);var m=Dm(u(e),u(t),r,i,a,d);return d.delete(e),m;case $5:if(Fd)return Fd.call(e)==Fd.call(t)}return!1}var H5=1,z5=Object.prototype,V5=z5.hasOwnProperty;function q5(e,t,s,r,i,a){var d=s&H5,u=ku(e),g=u.length,h=ku(t),m=h.length;if(g!=m&&!d)return!1;for(var b=g;b--;){var v=u[b];if(!(d?v in t:V5.call(t,v)))return!1}var C=a.get(e),_=a.get(t);if(C&&_)return C==t&&_==e;var F=!0;a.set(e,t),a.set(t,e);for(var S=d;++b<g;){v=u[b];var D=e[v],O=t[v];if(r)var P=d?r(O,D,v,t,e,a):r(D,O,v,e,t,a);if(!(P===void 0?D===O||i(D,O,s,r,a):P)){F=!1;break}S||(S=v=="constructor")}if(F&&!S){var B=e.constructor,U=t.constructor;B!=U&&"constructor"in e&&"constructor"in t&&!(typeof B=="function"&&B instanceof B&&typeof U=="function"&&U instanceof U)&&(F=!1)}return a.delete(e),a.delete(t),F}var W5=1,b1="[object Arguments]",y1="[object Array]",Fl="[object Object]",Q5=Object.prototype,v1=Q5.hasOwnProperty;function G5(e,t,s,r,i,a){var d=eo(e),u=eo(t),g=d?y1:xr(e),h=u?y1:xr(t);g=g==b1?Fl:g,h=h==b1?Fl:h;var m=g==Fl,b=h==Fl,v=g==h;if(v&&y0(e)){if(!y0(t))return!1;d=!0,m=!1}if(v&&!m)return a||(a=new Xr),d||Em(e)?Dm(e,t,s,r,i,a):U5(e,t,g,s,r,i,a);if(!(s&W5)){var C=m&&v1.call(e,"__wrapped__"),_=b&&v1.call(t,"__wrapped__");if(C||_){var F=C?e.value():e,S=_?t.value():t;return a||(a=new Xr),i(F,S,s,r,a)}}return v?(a||(a=new Xr),q5(e,t,s,r,i,a)):!1}function Sm(e,t,s,r,i){return e===t?!0:e==null||t==null||!_o(e)&&!_o(t)?e!==e&&t!==t:G5(e,t,s,r,Sm,i)}function K5(e,t,s){t=yx(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var d=vx(t[r]);if(!(a=e!=null&&s(e,d)))break;e=e[d]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&px(i)&&hx(d,i)&&(eo(e)||ym(e)))}var Y5=Object.prototype,X5=Y5.hasOwnProperty;function J5(e,t){return e!=null&&X5.call(e,t)}function Z5(e,t){return e!=null&&K5(e,t,J5)}function ew(e,t){return Sm(e,t)}function tw(e,t,s,r){if(!ji(e))return e;t=yx(t,e);for(var i=-1,a=t.length,d=a-1,u=e;u!=null&&++i<a;){var g=vx(t[i]),h=s;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(i!=d){var m=u[g];h=void 0,h===void 0&&(h=ji(m)?m:hx(t[i+1])?[]:{})}pm(u,g,h),u=u[g]}return e}function Vo(e,t,s){return e==null?e:tw(e,t,s)}var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ex(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),s}var Td,w1;function Gi(){return w1||(w1=1,Td=TypeError),Td}const nw={},rw=Object.freeze(Object.defineProperty({__proto__:null,default:nw},Symbol.toStringTag,{value:"Module"})),ow=sw(rw);var Md,E1;function W0(){if(E1)return Md;E1=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=e&&t&&typeof t.get=="function"?t.get:null,r=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d=i&&a&&typeof a.get=="function"?a.get:null,u=i&&Set.prototype.forEach,g=typeof WeakMap=="function"&&WeakMap.prototype,h=g?WeakMap.prototype.has:null,m=typeof WeakSet=="function"&&WeakSet.prototype,b=m?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,C=v?WeakRef.prototype.deref:null,_=Boolean.prototype.valueOf,F=Object.prototype.toString,S=Function.prototype.toString,D=String.prototype.match,O=String.prototype.slice,P=String.prototype.replace,B=String.prototype.toUpperCase,U=String.prototype.toLowerCase,z=RegExp.prototype.test,j=Array.prototype.concat,H=Array.prototype.join,I=Array.prototype.slice,$=Math.floor,J=typeof BigInt=="function"?BigInt.prototype.valueOf:null,K=Object.getOwnPropertySymbols,ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",q=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fe||!0)?Symbol.toStringTag:null,le=Object.prototype.propertyIsEnumerable,he=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(G){return G.__proto__}:null);function ve(G,Ce){if(G===1/0||G===-1/0||G!==G||G&&G>-1e3&&G<1e3||z.call(/e/,Ce))return Ce;var pt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof G=="number"){var At=G<0?-$(-G):$(G);if(At!==G){var zt=String(At),me=O.call(Ce,zt.length+1);return P.call(zt,pt,"$&_")+"."+P.call(P.call(me,/([0-9]{3})/g,"$&_"),/_$/,"")}}return P.call(Ce,pt,"$&_")}var Ie=ow,Ue=Ie.custom,be=ge(Ue)?Ue:null,qe={__proto__:null,double:'"',single:"'"},ot={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Md=function G(Ce,pt,At,zt){var me=pt||{};if(xe(me,"quoteStyle")&&!xe(qe,me.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xe(me,"maxStringLength")&&(typeof me.maxStringLength=="number"?me.maxStringLength<0&&me.maxStringLength!==1/0:me.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var te=xe(me,"customInspect")?me.customInspect:!0;if(typeof te!="boolean"&&te!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xe(me,"indent")&&me.indent!==null&&me.indent!=="	"&&!(parseInt(me.indent,10)===me.indent&&me.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xe(me,"numericSeparator")&&typeof me.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ye=me.numericSeparator;if(typeof Ce>"u")return"undefined";if(Ce===null)return"null";if(typeof Ce=="boolean")return Ce?"true":"false";if(typeof Ce=="string")return bt(Ce,me);if(typeof Ce=="number"){if(Ce===0)return 1/0/Ce>0?"0":"-0";var ct=String(Ce);return ye?ve(Ce,ct):ct}if(typeof Ce=="bigint"){var $t=String(Ce)+"n";return ye?ve(Ce,$t):$t}var Is=typeof me.depth>"u"?5:me.depth;if(typeof At>"u"&&(At=0),At>=Is&&Is>0&&typeof Ce=="object")return xt(Ce)?"[Array]":"[Object]";var Ut=Ft(me,At);if(typeof zt>"u")zt=[];else if(E(zt,Ce)>=0)return"[Circular]";function cs(Ne,Ke,lt){if(Ke&&(zt=I.call(zt),zt.push(Ke)),lt){var mt={depth:me.depth};return xe(me,"quoteStyle")&&(mt.quoteStyle=me.quoteStyle),G(Ne,mt,At+1,zt)}return G(Ne,me,At+1,zt)}if(typeof Ce=="function"&&!yt(Ce)){var Js=N(Ce),_e=Y(Ce,cs);return"[Function"+(Js?": "+Js:" (anonymous)")+"]"+(_e.length>0?" { "+H.call(_e,", ")+" }":"")}if(ge(Ce)){var re=fe?P.call(String(Ce),/^(Symbol\(.*\))_[^)]*$/,"$1"):ie.call(Ce);return typeof Ce=="object"&&!fe?ht(re):re}if(nt(Ce)){for(var pe="<"+U.call(String(Ce.nodeName)),ut=Ce.attributes||[],tt=0;tt<ut.length;tt++)pe+=" "+ut[tt].name+"="+Ge(dt(ut[tt].value),"double",me);return pe+=">",Ce.childNodes&&Ce.childNodes.length&&(pe+="..."),pe+="</"+U.call(String(Ce.nodeName))+">",pe}if(xt(Ce)){if(Ce.length===0)return"[]";var Be=Y(Ce,cs);return Ut&&!Ht(Be)?"["+De(Be,Ut)+"]":"[ "+H.call(Be,", ")+" ]"}if(vt(Ce)){var ue=Y(Ce,cs);return!("cause"in Error.prototype)&&"cause"in Ce&&!le.call(Ce,"cause")?"{ ["+String(Ce)+"] "+H.call(j.call("[cause]: "+cs(Ce.cause),ue),", ")+" }":ue.length===0?"["+String(Ce)+"]":"{ ["+String(Ce)+"] "+H.call(ue,", ")+" }"}if(typeof Ce=="object"&&te){if(be&&typeof Ce[be]=="function"&&Ie)return Ie(Ce,{depth:Is-At});if(te!=="symbol"&&typeof Ce.inspect=="function")return Ce.inspect()}if(M(Ce)){var Me=[];return r&&r.call(Ce,function(Ne,Ke){Me.push(cs(Ke,Ce,!0)+" => "+cs(Ne,Ce))}),jt("Map",s.call(Ce),Me,Ut)}if(Qe(Ce)){var Gt=[];return u&&u.call(Ce,function(Ne){Gt.push(cs(Ne,Ce))}),jt("Set",d.call(Ce),Gt,Ut)}if(ae(Ce))return Qt("WeakMap");if(Je(Ce))return Qt("WeakSet");if(Fe(Ce))return Qt("WeakRef");if(Et(Ce))return ht(cs(Number(Ce)));if(Te(Ce))return ht(cs(J.call(Ce)));if(ne(Ce))return ht(_.call(Ce));if(it(Ce))return ht(cs(String(Ce)));if(typeof window<"u"&&Ce===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ce===globalThis||typeof _i<"u"&&Ce===_i)return"{ [object globalThis] }";if(!ft(Ce)&&!yt(Ce)){var Ws=Y(Ce,cs),es=he?he(Ce)===Object.prototype:Ce instanceof Object||Ce.constructor===Object,Qs=Ce instanceof Object?"":"null prototype",Ee=!es&&q&&Object(Ce)===Ce&&q in Ce?O.call(ee(Ce),8,-1):Qs?"Object":"",V=es||typeof Ce.constructor!="function"?"":Ce.constructor.name?Ce.constructor.name+" ":"",Z=V+(Ee||Qs?"["+H.call(j.call([],Ee||[],Qs||[]),": ")+"] ":"");return Ws.length===0?Z+"{}":Ut?Z+"{"+De(Ws,Ut)+"}":Z+"{ "+H.call(Ws,", ")+" }"}return String(Ce)};function Ge(G,Ce,pt){var At=pt.quoteStyle||Ce,zt=qe[At];return zt+G+zt}function dt(G){return P.call(String(G),/"/g,"&quot;")}function ze(G){return!q||!(typeof G=="object"&&(q in G||typeof G[q]<"u"))}function xt(G){return ee(G)==="[object Array]"&&ze(G)}function ft(G){return ee(G)==="[object Date]"&&ze(G)}function yt(G){return ee(G)==="[object RegExp]"&&ze(G)}function vt(G){return ee(G)==="[object Error]"&&ze(G)}function it(G){return ee(G)==="[object String]"&&ze(G)}function Et(G){return ee(G)==="[object Number]"&&ze(G)}function ne(G){return ee(G)==="[object Boolean]"&&ze(G)}function ge(G){if(fe)return G&&typeof G=="object"&&G instanceof Symbol;if(typeof G=="symbol")return!0;if(!G||typeof G!="object"||!ie)return!1;try{return ie.call(G),!0}catch{}return!1}function Te(G){if(!G||typeof G!="object"||!J)return!1;try{return J.call(G),!0}catch{}return!1}var He=Object.prototype.hasOwnProperty||function(G){return G in this};function xe(G,Ce){return He.call(G,Ce)}function ee(G){return F.call(G)}function N(G){if(G.name)return G.name;var Ce=D.call(S.call(G),/^function\s*([\w$]+)/);return Ce?Ce[1]:null}function E(G,Ce){if(G.indexOf)return G.indexOf(Ce);for(var pt=0,At=G.length;pt<At;pt++)if(G[pt]===Ce)return pt;return-1}function M(G){if(!s||!G||typeof G!="object")return!1;try{s.call(G);try{d.call(G)}catch{return!0}return G instanceof Map}catch{}return!1}function ae(G){if(!h||!G||typeof G!="object")return!1;try{h.call(G,h);try{b.call(G,b)}catch{return!0}return G instanceof WeakMap}catch{}return!1}function Fe(G){if(!C||!G||typeof G!="object")return!1;try{return C.call(G),!0}catch{}return!1}function Qe(G){if(!d||!G||typeof G!="object")return!1;try{d.call(G);try{s.call(G)}catch{return!0}return G instanceof Set}catch{}return!1}function Je(G){if(!b||!G||typeof G!="object")return!1;try{b.call(G,b);try{h.call(G,h)}catch{return!0}return G instanceof WeakSet}catch{}return!1}function nt(G){return!G||typeof G!="object"?!1:typeof HTMLElement<"u"&&G instanceof HTMLElement?!0:typeof G.nodeName=="string"&&typeof G.getAttribute=="function"}function bt(G,Ce){if(G.length>Ce.maxStringLength){var pt=G.length-Ce.maxStringLength,At="... "+pt+" more character"+(pt>1?"s":"");return bt(O.call(G,0,Ce.maxStringLength),Ce)+At}var zt=ot[Ce.quoteStyle||"single"];zt.lastIndex=0;var me=P.call(P.call(G,zt,"\\$1"),/[\x00-\x1f]/g,Ct);return Ge(me,"single",Ce)}function Ct(G){var Ce=G.charCodeAt(0),pt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ce];return pt?"\\"+pt:"\\x"+(Ce<16?"0":"")+B.call(Ce.toString(16))}function ht(G){return"Object("+G+")"}function Qt(G){return G+" { ? }"}function jt(G,Ce,pt,At){var zt=At?De(pt,At):H.call(pt,", ");return G+" ("+Ce+") {"+zt+"}"}function Ht(G){for(var Ce=0;Ce<G.length;Ce++)if(E(G[Ce],`
`)>=0)return!1;return!0}function Ft(G,Ce){var pt;if(G.indent==="	")pt="	";else if(typeof G.indent=="number"&&G.indent>0)pt=H.call(Array(G.indent+1)," ");else return null;return{base:pt,prev:H.call(Array(Ce+1),pt)}}function De(G,Ce){if(G.length===0)return"";var pt=`
`+Ce.prev+Ce.base;return pt+H.call(G,","+pt)+`
`+Ce.prev}function Y(G,Ce){var pt=xt(G),At=[];if(pt){At.length=G.length;for(var zt=0;zt<G.length;zt++)At[zt]=xe(G,zt)?Ce(G[zt],G):""}var me=typeof K=="function"?K(G):[],te;if(fe){te={};for(var ye=0;ye<me.length;ye++)te["$"+me[ye]]=me[ye]}for(var ct in G)xe(G,ct)&&(pt&&String(Number(ct))===ct&&ct<G.length||fe&&te["$"+ct]instanceof Symbol||(z.call(/[^\w$]/,ct)?At.push(Ce(ct,G)+": "+Ce(G[ct],G)):At.push(ct+": "+Ce(G[ct],G))));if(typeof K=="function")for(var $t=0;$t<me.length;$t++)le.call(G,me[$t])&&At.push("["+Ce(me[$t])+"]: "+Ce(G[me[$t]],G));return At}return Md}var Id,C1;function iw(){if(C1)return Id;C1=1;var e=W0(),t=Gi(),s=function(u,g,h){for(var m=u,b;(b=m.next)!=null;m=b)if(b.key===g)return m.next=b.next,h||(b.next=u.next,u.next=b),b},r=function(u,g){if(u){var h=s(u,g);return h&&h.value}},i=function(u,g,h){var m=s(u,g);m?m.value=h:u.next={key:g,next:u.next,value:h}},a=function(u,g){return u?!!s(u,g):!1},d=function(u,g){if(u)return s(u,g,!0)};return Id=function(){var g,h={assert:function(m){if(!h.has(m))throw new t("Side channel does not contain "+e(m))},delete:function(m){var b=g&&g.next,v=d(g,m);return v&&b&&b===v&&(g=void 0),!!v},get:function(m){return r(g,m)},has:function(m){return a(g,m)},set:function(m,b){g||(g={next:void 0}),i(g,m,b)}};return h},Id}var Pd,A1;function Fm(){return A1||(A1=1,Pd=Object),Pd}var Rd,k1;function aw(){return k1||(k1=1,Rd=Error),Rd}var Od,B1;function lw(){return B1||(B1=1,Od=EvalError),Od}var Nd,_1;function dw(){return _1||(_1=1,Nd=RangeError),Nd}var $d,D1;function cw(){return D1||(D1=1,$d=ReferenceError),$d}var Ld,S1;function uw(){return S1||(S1=1,Ld=SyntaxError),Ld}var jd,F1;function xw(){return F1||(F1=1,jd=URIError),jd}var Ud,T1;function fw(){return T1||(T1=1,Ud=Math.abs),Ud}var Hd,M1;function hw(){return M1||(M1=1,Hd=Math.floor),Hd}var zd,I1;function gw(){return I1||(I1=1,zd=Math.max),zd}var Vd,P1;function pw(){return P1||(P1=1,Vd=Math.min),Vd}var qd,R1;function mw(){return R1||(R1=1,qd=Math.pow),qd}var Wd,O1;function bw(){return O1||(O1=1,Wd=Math.round),Wd}var Qd,N1;function yw(){return N1||(N1=1,Qd=Number.isNaN||function(t){return t!==t}),Qd}var Gd,$1;function vw(){if($1)return Gd;$1=1;var e=yw();return Gd=function(s){return e(s)||s===0?s:s<0?-1:1},Gd}var Kd,L1;function ww(){return L1||(L1=1,Kd=Object.getOwnPropertyDescriptor),Kd}var Yd,j1;function Tm(){if(j1)return Yd;j1=1;var e=ww();if(e)try{e([],"length")}catch{e=null}return Yd=e,Yd}var Xd,U1;function Ew(){if(U1)return Xd;U1=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Xd=e,Xd}var Jd,H1;function Cw(){return H1||(H1=1,Jd=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},s=Symbol("test"),r=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[s]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var d=Object.getOwnPropertySymbols(t);if(d.length!==1||d[0]!==s||!Object.prototype.propertyIsEnumerable.call(t,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,s);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),Jd}var Zd,z1;function Aw(){if(z1)return Zd;z1=1;var e=typeof Symbol<"u"&&Symbol,t=Cw();return Zd=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Zd}var ec,V1;function Mm(){return V1||(V1=1,ec=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),ec}var tc,q1;function Im(){if(q1)return tc;q1=1;var e=Fm();return tc=e.getPrototypeOf||null,tc}var sc,W1;function kw(){if(W1)return sc;W1=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,s=Math.max,r="[object Function]",i=function(g,h){for(var m=[],b=0;b<g.length;b+=1)m[b]=g[b];for(var v=0;v<h.length;v+=1)m[v+g.length]=h[v];return m},a=function(g,h){for(var m=[],b=h,v=0;b<g.length;b+=1,v+=1)m[v]=g[b];return m},d=function(u,g){for(var h="",m=0;m<u.length;m+=1)h+=u[m],m+1<u.length&&(h+=g);return h};return sc=function(g){var h=this;if(typeof h!="function"||t.apply(h)!==r)throw new TypeError(e+h);for(var m=a(arguments,1),b,v=function(){if(this instanceof b){var D=h.apply(this,i(m,arguments));return Object(D)===D?D:this}return h.apply(g,i(m,arguments))},C=s(0,h.length-m.length),_=[],F=0;F<C;F++)_[F]="$"+F;if(b=Function("binder","return function ("+d(_,",")+"){ return binder.apply(this,arguments); }")(v),h.prototype){var S=function(){};S.prototype=h.prototype,b.prototype=new S,S.prototype=null}return b},sc}var nc,Q1;function Q0(){if(Q1)return nc;Q1=1;var e=kw();return nc=Function.prototype.bind||e,nc}var rc,G1;function Cx(){return G1||(G1=1,rc=Function.prototype.call),rc}var oc,K1;function Pm(){return K1||(K1=1,oc=Function.prototype.apply),oc}var ic,Y1;function Bw(){return Y1||(Y1=1,ic=typeof Reflect<"u"&&Reflect&&Reflect.apply),ic}var ac,X1;function _w(){if(X1)return ac;X1=1;var e=Q0(),t=Pm(),s=Cx(),r=Bw();return ac=r||e.call(s,t),ac}var lc,J1;function Rm(){if(J1)return lc;J1=1;var e=Q0(),t=Gi(),s=Cx(),r=_w();return lc=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,s,a)},lc}var dc,Z1;function Dw(){if(Z1)return dc;Z1=1;var e=Rm(),t=Tm(),s;try{s=[].__proto__===Array.prototype}catch(d){if(!d||typeof d!="object"||!("code"in d)||d.code!=="ERR_PROTO_ACCESS")throw d}var r=!!s&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return dc=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(u){return a(u==null?u:i(u))}:!1,dc}var cc,eh;function Sw(){if(eh)return cc;eh=1;var e=Mm(),t=Im(),s=Dw();return cc=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:s?function(i){return s(i)}:null,cc}var uc,th;function Fw(){if(th)return uc;th=1;const e=(async function(){}).constructor;return uc=()=>e,uc}var xc,sh;function Tw(){if(sh)return xc;sh=1;const e=(function*(){}).constructor;return xc=()=>e,xc}var fc,nh;function Mw(){if(nh)return fc;nh=1;const e=(async function*(){}).constructor;return fc=()=>e,fc}var hc,rh;function Iw(){if(rh)return hc;rh=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,s=Q0();return hc=s.call(e,t),hc}var gc,oh;function Ax(){if(oh)return gc;oh=1;var e,t=Fm(),s=aw(),r=lw(),i=dw(),a=cw(),d=uw(),u=Gi(),g=xw(),h=fw(),m=hw(),b=gw(),v=pw(),C=mw(),_=bw(),F=vw(),S=Tm(),D=Ew(),O=function(){throw new u},P=S?(function(){try{return arguments.callee,O}catch{try{return S(arguments,"callee").get}catch{return O}}})():O,B=Aw()(),U=Sw(),z=Im(),j=Mm(),H=Pm(),I=Cx(),$={},J=typeof Uint8Array>"u"||!U?e:U(Uint8Array),K={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":B&&U?U([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":Function,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&U?U(U([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!U?e:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!U?e:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&U?U(""[Symbol.iterator]()):e,"%Symbol%":B?Symbol:e,"%SyntaxError%":d,"%ThrowTypeError%":P,"%TypedArray%":J,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":I,"%Function.prototype.apply%":H,"%Object.defineProperty%":D,"%Object.getPrototypeOf%":z,"%Math.abs%":h,"%Math.floor%":m,"%Math.max%":b,"%Math.min%":v,"%Math.pow%":C,"%Math.round%":_,"%Math.sign%":F,"%Reflect.getPrototypeOf%":j};if(U)try{null.error}catch(vt){var ie=U(U(vt));K["%Error.prototype%"]=ie}var fe=Fw(),q=Tw(),le=Mw(),he=function vt(it){var Et;if(it==="%AsyncFunction%")Et=fe()||void 0;else if(it==="%GeneratorFunction%")Et=q()||void 0;else if(it==="%AsyncGeneratorFunction%")Et=le()||void 0;else if(it==="%AsyncGenerator%"){var ne=vt("%AsyncGeneratorFunction%");ne&&(Et=ne.prototype)}else if(it==="%AsyncIteratorPrototype%"){var ge=vt("%AsyncGenerator%");ge&&U&&(Et=U(ge.prototype))}return K[it]=Et,Et},ve={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ie=Q0(),Ue=Iw(),be=Ie.call(I,Array.prototype.concat),qe=Ie.call(H,Array.prototype.splice),ot=Ie.call(I,String.prototype.replace),Ge=Ie.call(I,String.prototype.slice),dt=Ie.call(I,RegExp.prototype.exec),ze=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xt=/\\(\\)?/g,ft=function(it){var Et=Ge(it,0,1),ne=Ge(it,-1);if(Et==="%"&&ne!=="%")throw new d("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&Et!=="%")throw new d("invalid intrinsic syntax, expected opening `%`");var ge=[];return ot(it,ze,function(Te,He,xe,ee){ge[ge.length]=xe?ot(ee,xt,"$1"):He||Te}),ge},yt=function(it,Et){var ne=it,ge;if(Ue(ve,ne)&&(ge=ve[ne],ne="%"+ge[0]+"%"),Ue(K,ne)){var Te=K[ne];if(Te===$&&(Te=he(ne)),typeof Te>"u"&&!Et)throw new u("intrinsic "+it+" exists, but is not available. Please file an issue!");return{alias:ge,name:ne,value:Te}}throw new d("intrinsic "+it+" does not exist!")};return gc=function(it,Et){if(typeof it!="string"||it.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Et!="boolean")throw new u('"allowMissing" argument must be a boolean');if(dt(/^%?[^%]*%?$/,it)===null)throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=ft(it),ge=ne.length>0?ne[0]:"",Te=yt("%"+ge+"%",Et),He=Te.name,xe=Te.value,ee=!1,N=Te.alias;N&&(ge=N[0],qe(ne,be([0,1],N)));for(var E=1,M=!0;E<ne.length;E+=1){var ae=ne[E],Fe=Ge(ae,0,1),Qe=Ge(ae,-1);if((Fe==='"'||Fe==="'"||Fe==="`"||Qe==='"'||Qe==="'"||Qe==="`")&&Fe!==Qe)throw new d("property names with quotes must have matching quotes");if((ae==="constructor"||!M)&&(ee=!0),ge+="."+ae,He="%"+ge+"%",Ue(K,He))xe=K[He];else if(xe!=null){if(!(ae in xe)){if(!Et)throw new u("base intrinsic for "+it+" exists, but the property is not available.");return}if(S&&E+1>=ne.length){var Je=S(xe,ae);M=!!Je,M&&"get"in Je&&!("originalValue"in Je.get)?xe=Je.get:xe=xe[ae]}else M=Ue(xe,ae),xe=xe[ae];M&&!ee&&(K[He]=xe)}}return xe},gc}var pc,ih;function Om(){if(ih)return pc;ih=1;var e=Ax(),t=Rm(),s=t([e("%String.prototype.indexOf%")]);return pc=function(i,a){var d=e(i,!!a);return typeof d=="function"&&s(i,".prototype.")>-1?t([d]):d},pc}var mc,ah;function Nm(){if(ah)return mc;ah=1;var e=Ax(),t=Om(),s=W0(),r=Gi(),i=e("%Map%",!0),a=t("Map.prototype.get",!0),d=t("Map.prototype.set",!0),u=t("Map.prototype.has",!0),g=t("Map.prototype.delete",!0),h=t("Map.prototype.size",!0);return mc=!!i&&function(){var b,v={assert:function(C){if(!v.has(C))throw new r("Side channel does not contain "+s(C))},delete:function(C){if(b){var _=g(b,C);return h(b)===0&&(b=void 0),_}return!1},get:function(C){if(b)return a(b,C)},has:function(C){return b?u(b,C):!1},set:function(C,_){b||(b=new i),d(b,C,_)}};return v},mc}var bc,lh;function Pw(){if(lh)return bc;lh=1;var e=Ax(),t=Om(),s=W0(),r=Nm(),i=Gi(),a=e("%WeakMap%",!0),d=t("WeakMap.prototype.get",!0),u=t("WeakMap.prototype.set",!0),g=t("WeakMap.prototype.has",!0),h=t("WeakMap.prototype.delete",!0);return bc=a?function(){var b,v,C={assert:function(_){if(!C.has(_))throw new i("Side channel does not contain "+s(_))},delete:function(_){if(a&&_&&(typeof _=="object"||typeof _=="function")){if(b)return h(b,_)}else if(r&&v)return v.delete(_);return!1},get:function(_){return a&&_&&(typeof _=="object"||typeof _=="function")&&b?d(b,_):v&&v.get(_)},has:function(_){return a&&_&&(typeof _=="object"||typeof _=="function")&&b?g(b,_):!!v&&v.has(_)},set:function(_,F){a&&_&&(typeof _=="object"||typeof _=="function")?(b||(b=new a),u(b,_,F)):r&&(v||(v=r()),v.set(_,F))}};return C}:r,bc}var yc,dh;function Rw(){if(dh)return yc;dh=1;var e=Gi(),t=W0(),s=iw(),r=Nm(),i=Pw(),a=i||r||s;return yc=function(){var u,g={assert:function(h){if(!g.has(h))throw new e("Side channel does not contain "+t(h))},delete:function(h){return!!u&&u.delete(h)},get:function(h){return u&&u.get(h)},has:function(h){return!!u&&u.has(h)},set:function(h,m){u||(u=a()),u.set(h,m)}};return g},yc}var vc,ch;function kx(){if(ch)return vc;ch=1;var e=String.prototype.replace,t=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};return vc={default:s.RFC3986,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986},vc}var wc,uh;function $m(){if(uh)return wc;uh=1;var e=kx(),t=Object.prototype.hasOwnProperty,s=Array.isArray,r=(function(){for(var S=[],D=0;D<256;++D)S.push("%"+((D<16?"0":"")+D.toString(16)).toUpperCase());return S})(),i=function(D){for(;D.length>1;){var O=D.pop(),P=O.obj[O.prop];if(s(P)){for(var B=[],U=0;U<P.length;++U)typeof P[U]<"u"&&B.push(P[U]);O.obj[O.prop]=B}}},a=function(D,O){for(var P=O&&O.plainObjects?{__proto__:null}:{},B=0;B<D.length;++B)typeof D[B]<"u"&&(P[B]=D[B]);return P},d=function S(D,O,P){if(!O)return D;if(typeof O!="object"&&typeof O!="function"){if(s(D))D.push(O);else if(D&&typeof D=="object")(P&&(P.plainObjects||P.allowPrototypes)||!t.call(Object.prototype,O))&&(D[O]=!0);else return[D,O];return D}if(!D||typeof D!="object")return[D].concat(O);var B=D;return s(D)&&!s(O)&&(B=a(D,P)),s(D)&&s(O)?(O.forEach(function(U,z){if(t.call(D,z)){var j=D[z];j&&typeof j=="object"&&U&&typeof U=="object"?D[z]=S(j,U,P):D.push(U)}else D[z]=U}),D):Object.keys(O).reduce(function(U,z){var j=O[z];return t.call(U,z)?U[z]=S(U[z],j,P):U[z]=j,U},B)},u=function(D,O){return Object.keys(O).reduce(function(P,B){return P[B]=O[B],P},D)},g=function(S,D,O){var P=S.replace(/\+/g," ");if(O==="iso-8859-1")return P.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(P)}catch{return P}},h=1024,m=function(D,O,P,B,U){if(D.length===0)return D;var z=D;if(typeof D=="symbol"?z=Symbol.prototype.toString.call(D):typeof D!="string"&&(z=String(D)),P==="iso-8859-1")return escape(z).replace(/%u[0-9a-f]{4}/gi,function(ie){return"%26%23"+parseInt(ie.slice(2),16)+"%3B"});for(var j="",H=0;H<z.length;H+=h){for(var I=z.length>=h?z.slice(H,H+h):z,$=[],J=0;J<I.length;++J){var K=I.charCodeAt(J);if(K===45||K===46||K===95||K===126||K>=48&&K<=57||K>=65&&K<=90||K>=97&&K<=122||U===e.RFC1738&&(K===40||K===41)){$[$.length]=I.charAt(J);continue}if(K<128){$[$.length]=r[K];continue}if(K<2048){$[$.length]=r[192|K>>6]+r[128|K&63];continue}if(K<55296||K>=57344){$[$.length]=r[224|K>>12]+r[128|K>>6&63]+r[128|K&63];continue}J+=1,K=65536+((K&1023)<<10|I.charCodeAt(J)&1023),$[$.length]=r[240|K>>18]+r[128|K>>12&63]+r[128|K>>6&63]+r[128|K&63]}j+=$.join("")}return j},b=function(D){for(var O=[{obj:{o:D},prop:"o"}],P=[],B=0;B<O.length;++B)for(var U=O[B],z=U.obj[U.prop],j=Object.keys(z),H=0;H<j.length;++H){var I=j[H],$=z[I];typeof $=="object"&&$!==null&&P.indexOf($)===-1&&(O.push({obj:z,prop:I}),P.push($))}return i(O),D},v=function(D){return Object.prototype.toString.call(D)==="[object RegExp]"},C=function(D){return!D||typeof D!="object"?!1:!!(D.constructor&&D.constructor.isBuffer&&D.constructor.isBuffer(D))},_=function(D,O){return[].concat(D,O)},F=function(D,O){if(s(D)){for(var P=[],B=0;B<D.length;B+=1)P.push(O(D[B]));return P}return O(D)};return wc={arrayToObject:a,assign:u,combine:_,compact:b,decode:g,encode:m,isBuffer:C,isRegExp:v,maybeMap:F,merge:d},wc}var Ec,xh;function Ow(){if(xh)return Ec;xh=1;var e=Rw(),t=$m(),s=kx(),r=Object.prototype.hasOwnProperty,i={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,D){return S+"["+D+"]"},repeat:function(S){return S}},a=Array.isArray,d=Array.prototype.push,u=function(F,S){d.apply(F,a(S)?S:[S])},g=Date.prototype.toISOString,h=s.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:h,formatter:s.formatters[h],indices:!1,serializeDate:function(S){return g.call(S)},skipNulls:!1,strictNullHandling:!1},b=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},v={},C=function F(S,D,O,P,B,U,z,j,H,I,$,J,K,ie,fe,q,le,he){for(var ve=S,Ie=he,Ue=0,be=!1;(Ie=Ie.get(v))!==void 0&&!be;){var qe=Ie.get(S);if(Ue+=1,typeof qe<"u"){if(qe===Ue)throw new RangeError("Cyclic object value");be=!0}typeof Ie.get(v)>"u"&&(Ue=0)}if(typeof I=="function"?ve=I(D,ve):ve instanceof Date?ve=K(ve):O==="comma"&&a(ve)&&(ve=t.maybeMap(ve,function(Te){return Te instanceof Date?K(Te):Te})),ve===null){if(U)return H&&!q?H(D,m.encoder,le,"key",ie):D;ve=""}if(b(ve)||t.isBuffer(ve)){if(H){var ot=q?D:H(D,m.encoder,le,"key",ie);return[fe(ot)+"="+fe(H(ve,m.encoder,le,"value",ie))]}return[fe(D)+"="+fe(String(ve))]}var Ge=[];if(typeof ve>"u")return Ge;var dt;if(O==="comma"&&a(ve))q&&H&&(ve=t.maybeMap(ve,H)),dt=[{value:ve.length>0?ve.join(",")||null:void 0}];else if(a(I))dt=I;else{var ze=Object.keys(ve);dt=$?ze.sort($):ze}var xt=j?String(D).replace(/\./g,"%2E"):String(D),ft=P&&a(ve)&&ve.length===1?xt+"[]":xt;if(B&&a(ve)&&ve.length===0)return ft+"[]";for(var yt=0;yt<dt.length;++yt){var vt=dt[yt],it=typeof vt=="object"&&vt&&typeof vt.value<"u"?vt.value:ve[vt];if(!(z&&it===null)){var Et=J&&j?String(vt).replace(/\./g,"%2E"):String(vt),ne=a(ve)?typeof O=="function"?O(ft,Et):ft:ft+(J?"."+Et:"["+Et+"]");he.set(S,Ue);var ge=e();ge.set(v,he),u(Ge,F(it,ne,O,P,B,U,z,j,O==="comma"&&q&&a(ve)?null:H,I,$,J,K,ie,fe,q,le,ge))}}return Ge},_=function(S){if(!S)return m;if(typeof S.allowEmptyArrays<"u"&&typeof S.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof S.encodeDotInKeys<"u"&&typeof S.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(S.encoder!==null&&typeof S.encoder<"u"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var D=S.charset||m.charset;if(typeof S.charset<"u"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=s.default;if(typeof S.format<"u"){if(!r.call(s.formatters,S.format))throw new TypeError("Unknown format option provided.");O=S.format}var P=s.formatters[O],B=m.filter;(typeof S.filter=="function"||a(S.filter))&&(B=S.filter);var U;if(S.arrayFormat in i?U=S.arrayFormat:"indices"in S?U=S.indices?"indices":"repeat":U=m.arrayFormat,"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var z=typeof S.allowDots>"u"?S.encodeDotInKeys===!0?!0:m.allowDots:!!S.allowDots;return{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:m.addQueryPrefix,allowDots:z,allowEmptyArrays:typeof S.allowEmptyArrays=="boolean"?!!S.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:U,charset:D,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!S.commaRoundTrip,delimiter:typeof S.delimiter>"u"?m.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:m.encode,encodeDotInKeys:typeof S.encodeDotInKeys=="boolean"?S.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof S.encoder=="function"?S.encoder:m.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:m.encodeValuesOnly,filter:B,format:O,formatter:P,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:m.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:m.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:m.strictNullHandling}};return Ec=function(F,S){var D=F,O=_(S),P,B;typeof O.filter=="function"?(B=O.filter,D=B("",D)):a(O.filter)&&(B=O.filter,P=B);var U=[];if(typeof D!="object"||D===null)return"";var z=i[O.arrayFormat],j=z==="comma"&&O.commaRoundTrip;P||(P=Object.keys(D)),O.sort&&P.sort(O.sort);for(var H=e(),I=0;I<P.length;++I){var $=P[I],J=D[$];O.skipNulls&&J===null||u(U,C(J,$,z,j,O.allowEmptyArrays,O.strictNullHandling,O.skipNulls,O.encodeDotInKeys,O.encode?O.encoder:null,O.filter,O.sort,O.allowDots,O.serializeDate,O.format,O.formatter,O.encodeValuesOnly,O.charset,H))}var K=U.join(O.delimiter),ie=O.addQueryPrefix===!0?"?":"";return O.charsetSentinel&&(O.charset==="iso-8859-1"?ie+="utf8=%26%2310003%3B&":ie+="utf8=%E2%9C%93&"),K.length>0?ie+K:""},Ec}var Cc,fh;function Nw(){if(fh)return Cc;fh=1;var e=$m(),t=Object.prototype.hasOwnProperty,s=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(v){return v.replace(/&#(\d+);/g,function(C,_){return String.fromCharCode(parseInt(_,10))})},a=function(v,C,_){if(v&&typeof v=="string"&&C.comma&&v.indexOf(",")>-1)return v.split(",");if(C.throwOnLimitExceeded&&_>=C.arrayLimit)throw new RangeError("Array limit exceeded. Only "+C.arrayLimit+" element"+(C.arrayLimit===1?"":"s")+" allowed in an array.");return v},d="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",g=function(C,_){var F={__proto__:null},S=_.ignoreQueryPrefix?C.replace(/^\?/,""):C;S=S.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var D=_.parameterLimit===1/0?void 0:_.parameterLimit,O=S.split(_.delimiter,_.throwOnLimitExceeded?D+1:D);if(_.throwOnLimitExceeded&&O.length>D)throw new RangeError("Parameter limit exceeded. Only "+D+" parameter"+(D===1?"":"s")+" allowed.");var P=-1,B,U=_.charset;if(_.charsetSentinel)for(B=0;B<O.length;++B)O[B].indexOf("utf8=")===0&&(O[B]===u?U="utf-8":O[B]===d&&(U="iso-8859-1"),P=B,B=O.length);for(B=0;B<O.length;++B)if(B!==P){var z=O[B],j=z.indexOf("]="),H=j===-1?z.indexOf("="):j+1,I,$;H===-1?(I=_.decoder(z,r.decoder,U,"key"),$=_.strictNullHandling?null:""):(I=_.decoder(z.slice(0,H),r.decoder,U,"key"),$=e.maybeMap(a(z.slice(H+1),_,s(F[I])?F[I].length:0),function(K){return _.decoder(K,r.decoder,U,"value")})),$&&_.interpretNumericEntities&&U==="iso-8859-1"&&($=i(String($))),z.indexOf("[]=")>-1&&($=s($)?[$]:$);var J=t.call(F,I);J&&_.duplicates==="combine"?F[I]=e.combine(F[I],$):(!J||_.duplicates==="last")&&(F[I]=$)}return F},h=function(v,C,_,F){var S=0;if(v.length>0&&v[v.length-1]==="[]"){var D=v.slice(0,-1).join("");S=Array.isArray(C)&&C[D]?C[D].length:0}for(var O=F?C:a(C,_,S),P=v.length-1;P>=0;--P){var B,U=v[P];if(U==="[]"&&_.parseArrays)B=_.allowEmptyArrays&&(O===""||_.strictNullHandling&&O===null)?[]:e.combine([],O);else{B=_.plainObjects?{__proto__:null}:{};var z=U.charAt(0)==="["&&U.charAt(U.length-1)==="]"?U.slice(1,-1):U,j=_.decodeDotInKeys?z.replace(/%2E/g,"."):z,H=parseInt(j,10);!_.parseArrays&&j===""?B={0:O}:!isNaN(H)&&U!==j&&String(H)===j&&H>=0&&_.parseArrays&&H<=_.arrayLimit?(B=[],B[H]=O):j!=="__proto__"&&(B[j]=O)}O=B}return O},m=function(C,_,F,S){if(C){var D=F.allowDots?C.replace(/\.([^.[]+)/g,"[$1]"):C,O=/(\[[^[\]]*])/,P=/(\[[^[\]]*])/g,B=F.depth>0&&O.exec(D),U=B?D.slice(0,B.index):D,z=[];if(U){if(!F.plainObjects&&t.call(Object.prototype,U)&&!F.allowPrototypes)return;z.push(U)}for(var j=0;F.depth>0&&(B=P.exec(D))!==null&&j<F.depth;){if(j+=1,!F.plainObjects&&t.call(Object.prototype,B[1].slice(1,-1))&&!F.allowPrototypes)return;z.push(B[1])}if(B){if(F.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+F.depth+" and strictDepth is true");z.push("["+D.slice(B.index)+"]")}return h(z,_,F,S)}},b=function(C){if(!C)return r;if(typeof C.allowEmptyArrays<"u"&&typeof C.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof C.decodeDotInKeys<"u"&&typeof C.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(C.decoder!==null&&typeof C.decoder<"u"&&typeof C.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof C.charset<"u"&&C.charset!=="utf-8"&&C.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof C.throwOnLimitExceeded<"u"&&typeof C.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var _=typeof C.charset>"u"?r.charset:C.charset,F=typeof C.duplicates>"u"?r.duplicates:C.duplicates;if(F!=="combine"&&F!=="first"&&F!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var S=typeof C.allowDots>"u"?C.decodeDotInKeys===!0?!0:r.allowDots:!!C.allowDots;return{allowDots:S,allowEmptyArrays:typeof C.allowEmptyArrays=="boolean"?!!C.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof C.allowPrototypes=="boolean"?C.allowPrototypes:r.allowPrototypes,allowSparse:typeof C.allowSparse=="boolean"?C.allowSparse:r.allowSparse,arrayLimit:typeof C.arrayLimit=="number"?C.arrayLimit:r.arrayLimit,charset:_,charsetSentinel:typeof C.charsetSentinel=="boolean"?C.charsetSentinel:r.charsetSentinel,comma:typeof C.comma=="boolean"?C.comma:r.comma,decodeDotInKeys:typeof C.decodeDotInKeys=="boolean"?C.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof C.decoder=="function"?C.decoder:r.decoder,delimiter:typeof C.delimiter=="string"||e.isRegExp(C.delimiter)?C.delimiter:r.delimiter,depth:typeof C.depth=="number"||C.depth===!1?+C.depth:r.depth,duplicates:F,ignoreQueryPrefix:C.ignoreQueryPrefix===!0,interpretNumericEntities:typeof C.interpretNumericEntities=="boolean"?C.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof C.parameterLimit=="number"?C.parameterLimit:r.parameterLimit,parseArrays:C.parseArrays!==!1,plainObjects:typeof C.plainObjects=="boolean"?C.plainObjects:r.plainObjects,strictDepth:typeof C.strictDepth=="boolean"?!!C.strictDepth:r.strictDepth,strictNullHandling:typeof C.strictNullHandling=="boolean"?C.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof C.throwOnLimitExceeded=="boolean"?C.throwOnLimitExceeded:!1}};return Cc=function(v,C){var _=b(C);if(v===""||v===null||typeof v>"u")return _.plainObjects?{__proto__:null}:{};for(var F=typeof v=="string"?g(v,_):v,S=_.plainObjects?{__proto__:null}:{},D=Object.keys(F),O=0;O<D.length;++O){var P=D[O],B=m(P,F[P],_,typeof v=="string");S=e.merge(S,B,_)}return _.allowSparse===!0?S:e.compact(S)},Cc}var Ac,hh;function $w(){if(hh)return Ac;hh=1;var e=Ow(),t=Nw(),s=kx();return Ac={formats:s,parse:t,stringify:e},Ac}var gh=$w();function Lm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Lw}=Object.prototype,{getPrototypeOf:Bx}=Object,{iterator:G0,toStringTag:jm}=Symbol,K0=(e=>t=>{const s=Lw.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),mr=e=>(e=e.toLowerCase(),t=>K0(t)===e),Y0=e=>t=>typeof t===e,{isArray:Ki}=Array,Hi=Y0("undefined");function ll(e){return e!==null&&!Hi(e)&&e.constructor!==null&&!Hi(e.constructor)&&Tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Um=mr("ArrayBuffer");function jw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Um(e.buffer),t}const Uw=Y0("string"),Tn=Y0("function"),Hm=Y0("number"),dl=e=>e!==null&&typeof e=="object",Hw=e=>e===!0||e===!1,Zl=e=>{if(K0(e)!=="object")return!1;const t=Bx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jm in e)&&!(G0 in e)},zw=e=>{if(!dl(e)||ll(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Vw=mr("Date"),qw=mr("File"),Ww=mr("Blob"),Qw=mr("FileList"),Gw=e=>dl(e)&&Tn(e.pipe),Kw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tn(e.append)&&((t=K0(e))==="formdata"||t==="object"&&Tn(e.toString)&&e.toString()==="[object FormData]"))},Yw=mr("URLSearchParams"),[Xw,Jw,Zw,eE]=["ReadableStream","Request","Response","Headers"].map(mr),tE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cl(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ki(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(ll(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let u;for(r=0;r<d;r++)u=a[r],t.call(null,e[u],u,e)}}function zm(e,t){if(ll(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,i;for(;r-- >0;)if(i=s[r],t===i.toLowerCase())return i;return null}const qo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vm=e=>!Hi(e)&&e!==qo;function Su(){const{caseless:e,skipUndefined:t}=Vm(this)&&this||{},s={},r=(i,a)=>{const d=e&&zm(s,a)||a;Zl(s[d])&&Zl(i)?s[d]=Su(s[d],i):Zl(i)?s[d]=Su({},i):Ki(i)?s[d]=i.slice():(!t||!Hi(i))&&(s[d]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&cl(arguments[i],r);return s}const sE=(e,t,s,{allOwnKeys:r}={})=>(cl(t,(i,a)=>{s&&Tn(i)?e[a]=Lm(i,s):e[a]=i},{allOwnKeys:r}),e),nE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rE=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},oE=(e,t,s,r)=>{let i,a,d;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)d=i[a],(!r||r(d,e,t))&&!u[d]&&(t[d]=e[d],u[d]=!0);e=s!==!1&&Bx(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},iE=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},aE=e=>{if(!e)return null;if(Ki(e))return e;let t=e.length;if(!Hm(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},lE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bx(Uint8Array)),dE=(e,t)=>{const r=(e&&e[G0]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},cE=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},uE=mr("HTMLFormElement"),xE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,i){return r.toUpperCase()+i}),ph=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),fE=mr("RegExp"),qm=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};cl(s,(i,a)=>{let d;(d=t(i,a,e))!==!1&&(r[a]=d||i)}),Object.defineProperties(e,r)},hE=e=>{qm(e,(t,s)=>{if(Tn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Tn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},gE=(e,t)=>{const s={},r=i=>{i.forEach(a=>{s[a]=!0})};return Ki(e)?r(e):r(String(e).split(t)),s},pE=()=>{},mE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bE(e){return!!(e&&Tn(e.append)&&e[jm]==="FormData"&&e[G0])}const yE=e=>{const t=new Array(10),s=(r,i)=>{if(dl(r)){if(t.indexOf(r)>=0)return;if(ll(r))return r;if(!("toJSON"in r)){t[i]=r;const a=Ki(r)?[]:{};return cl(r,(d,u)=>{const g=s(d,i+1);!Hi(g)&&(a[u]=g)}),t[i]=void 0,a}}return r};return s(e,0)},vE=mr("AsyncFunction"),wE=e=>e&&(dl(e)||Tn(e))&&Tn(e.then)&&Tn(e.catch),Wm=((e,t)=>e?setImmediate:t?((s,r)=>(qo.addEventListener("message",({source:i,data:a})=>{i===qo&&a===s&&r.length&&r.shift()()},!1),i=>{r.push(i),qo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Tn(qo.postMessage)),EE=typeof queueMicrotask<"u"?queueMicrotask.bind(qo):typeof process<"u"&&process.nextTick||Wm,CE=e=>e!=null&&Tn(e[G0]),je={isArray:Ki,isArrayBuffer:Um,isBuffer:ll,isFormData:Kw,isArrayBufferView:jw,isString:Uw,isNumber:Hm,isBoolean:Hw,isObject:dl,isPlainObject:Zl,isEmptyObject:zw,isReadableStream:Xw,isRequest:Jw,isResponse:Zw,isHeaders:eE,isUndefined:Hi,isDate:Vw,isFile:qw,isBlob:Ww,isRegExp:fE,isFunction:Tn,isStream:Gw,isURLSearchParams:Yw,isTypedArray:lE,isFileList:Qw,forEach:cl,merge:Su,extend:sE,trim:tE,stripBOM:nE,inherits:rE,toFlatObject:oE,kindOf:K0,kindOfTest:mr,endsWith:iE,toArray:aE,forEachEntry:dE,matchAll:cE,isHTMLForm:uE,hasOwnProperty:ph,hasOwnProp:ph,reduceDescriptors:qm,freezeMethods:hE,toObjectSet:gE,toCamelCase:xE,noop:pE,toFiniteNumber:mE,findKey:zm,global:qo,isContextDefined:Vm,isSpecCompliantForm:bE,toJSONObject:yE,isAsyncFn:vE,isThenable:wE,setImmediate:Wm,asap:EE,isIterable:CE};function Wt(e,t,s,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}je.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const Qm=Wt.prototype,Gm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gm[e]={value:e}});Object.defineProperties(Wt,Gm);Object.defineProperty(Qm,"isAxiosError",{value:!0});Wt.from=(e,t,s,r,i,a)=>{const d=Object.create(Qm);je.toFlatObject(e,d,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return Wt.call(d,u,g,s,r,i),e&&d.cause==null&&Object.defineProperty(d,"cause",{value:e,configurable:!0}),d.name=e&&e.name||"Error",a&&Object.assign(d,a),d};const AE=null;function Fu(e){return je.isPlainObject(e)||je.isArray(e)}function Km(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function mh(e,t,s){return e?e.concat(t).map(function(i,a){return i=Km(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function kE(e){return je.isArray(e)&&!e.some(Fu)}const BE=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function X0(e,t,s){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=je.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,S){return!je.isUndefined(S[F])});const r=s.metaTokens,i=s.visitor||m,a=s.dots,d=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(je.isDate(_))return _.toISOString();if(je.isBoolean(_))return _.toString();if(!g&&je.isBlob(_))throw new Wt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(_)||je.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,F,S){let D=_;if(_&&!S&&typeof _=="object"){if(je.endsWith(F,"{}"))F=r?F:F.slice(0,-2),_=JSON.stringify(_);else if(je.isArray(_)&&kE(_)||(je.isFileList(_)||je.endsWith(F,"[]"))&&(D=je.toArray(_)))return F=Km(F),D.forEach(function(P,B){!(je.isUndefined(P)||P===null)&&t.append(d===!0?mh([F],B,a):d===null?F:F+"[]",h(P))}),!1}return Fu(_)?!0:(t.append(mh(S,F,a),h(_)),!1)}const b=[],v=Object.assign(BE,{defaultVisitor:m,convertValue:h,isVisitable:Fu});function C(_,F){if(!je.isUndefined(_)){if(b.indexOf(_)!==-1)throw Error("Circular reference detected in "+F.join("."));b.push(_),je.forEach(_,function(D,O){(!(je.isUndefined(D)||D===null)&&i.call(t,D,je.isString(O)?O.trim():O,F,v))===!0&&C(D,F?F.concat(O):[O])}),b.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return C(e),t}function bh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _x(e,t){this._pairs=[],e&&X0(e,this,t)}const Ym=_x.prototype;Ym.append=function(t,s){this._pairs.push([t,s])};Ym.toString=function(t){const s=t?function(r){return t.call(this,r,bh)}:bh;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function _E(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xm(e,t,s){if(!t)return e;const r=s&&s.encode||_E;je.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=je.isURLSearchParams(t)?t.toString():new _x(t,s).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class yh{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Jm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DE=typeof URLSearchParams<"u"?URLSearchParams:_x,SE=typeof FormData<"u"?FormData:null,FE=typeof Blob<"u"?Blob:null,TE={isBrowser:!0,classes:{URLSearchParams:DE,FormData:SE,Blob:FE},protocols:["http","https","file","blob","url","data"]},Dx=typeof window<"u"&&typeof document<"u",Tu=typeof navigator=="object"&&navigator||void 0,ME=Dx&&(!Tu||["ReactNative","NativeScript","NS"].indexOf(Tu.product)<0),IE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PE=Dx&&window.location.href||"http://localhost",RE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dx,hasStandardBrowserEnv:ME,hasStandardBrowserWebWorkerEnv:IE,navigator:Tu,origin:PE},Symbol.toStringTag,{value:"Module"})),un={...RE,...TE};function OE(e,t){return X0(e,new un.classes.URLSearchParams,{visitor:function(s,r,i,a){return un.isNode&&je.isBuffer(s)?(this.append(r,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function NE(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $E(e){const t={},s=Object.keys(e);let r;const i=s.length;let a;for(r=0;r<i;r++)a=s[r],t[a]=e[a];return t}function Zm(e){function t(s,r,i,a){let d=s[a++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),g=a>=s.length;return d=!d&&je.isArray(i)?i.length:d,g?(je.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!u):((!i[d]||!je.isObject(i[d]))&&(i[d]=[]),t(s,r,i[d],a)&&je.isArray(i[d])&&(i[d]=$E(i[d])),!u)}if(je.isFormData(e)&&je.isFunction(e.entries)){const s={};return je.forEachEntry(e,(r,i)=>{t(NE(r),i,s,0)}),s}return null}function LE(e,t,s){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const ul={transitional:Jm,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",i=r.indexOf("application/json")>-1,a=je.isObject(t);if(a&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return i?JSON.stringify(Zm(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t)||je.isReadableStream(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OE(t,this.formSerializer).toString();if((u=je.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return X0(u?{"files[]":t}:t,g&&new g,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),LE(t)):t}],transformResponse:[function(t){const s=this.transitional||ul.transitional,r=s&&s.forcedJSONParsing,i=this.responseType==="json";if(je.isResponse(t)||je.isReadableStream(t))return t;if(t&&je.isString(t)&&(r&&!this.responseType||i)){const d=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(d)throw u.name==="SyntaxError"?Wt.from(u,Wt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:un.classes.FormData,Blob:un.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{ul.headers[e]={}});const jE=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UE=e=>{const t={};let s,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),s=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!s||t[s]&&jE[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},vh=Symbol("internals");function xa(e){return e&&String(e).trim().toLowerCase()}function e0(e){return e===!1||e==null?e:je.isArray(e)?e.map(e0):String(e)}function HE(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const zE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kc(e,t,s,r,i){if(je.isFunction(r))return r.call(this,t,s);if(i&&(t=s),!!je.isString(t)){if(je.isString(r))return t.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(t)}}function VE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function qE(e,t){const s=je.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(i,a,d){return this[r].call(this,t,i,a,d)},configurable:!0})})}let Mn=class{constructor(t){t&&this.set(t)}set(t,s,r){const i=this;function a(u,g,h){const m=xa(g);if(!m)throw new Error("header name must be a non-empty string");const b=je.findKey(i,m);(!b||i[b]===void 0||h===!0||h===void 0&&i[b]!==!1)&&(i[b||g]=e0(u))}const d=(u,g)=>je.forEach(u,(h,m)=>a(h,m,g));if(je.isPlainObject(t)||t instanceof this.constructor)d(t,s);else if(je.isString(t)&&(t=t.trim())&&!zE(t))d(UE(t),s);else if(je.isObject(t)&&je.isIterable(t)){let u={},g,h;for(const m of t){if(!je.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(g=u[h])?je.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}d(u,s)}else t!=null&&a(s,t,r);return this}get(t,s){if(t=xa(t),t){const r=je.findKey(this,t);if(r){const i=this[r];if(!s)return i;if(s===!0)return HE(i);if(je.isFunction(s))return s.call(this,i,r);if(je.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=xa(t),t){const r=je.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||kc(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let i=!1;function a(d){if(d=xa(d),d){const u=je.findKey(r,d);u&&(!s||kc(r,r[u],u,s))&&(delete r[u],i=!0)}}return je.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let r=s.length,i=!1;for(;r--;){const a=s[r];(!t||kc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,r={};return je.forEach(this,(i,a)=>{const d=je.findKey(r,a);if(d){s[d]=e0(i),delete s[a];return}const u=t?VE(a):String(a).trim();u!==a&&delete s[a],s[u]=e0(i),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return je.forEach(this,(r,i)=>{r!=null&&r!==!1&&(s[i]=t&&je.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[vh]=this[vh]={accessors:{}}).accessors,i=this.prototype;function a(d){const u=xa(d);r[u]||(qE(i,d),r[u]=!0)}return je.isArray(t)?t.forEach(a):a(t),this}};Mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Mn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});je.freezeMethods(Mn);function Bc(e,t){const s=this||ul,r=t||s,i=Mn.from(r.headers);let a=r.data;return je.forEach(e,function(u){a=u.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function eb(e){return!!(e&&e.__CANCEL__)}function Yi(e,t,s){Wt.call(this,e??"canceled",Wt.ERR_CANCELED,t,s),this.name="CanceledError"}je.inherits(Yi,Wt,{__CANCEL__:!0});function tb(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new Wt("Request failed with status code "+s.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function WE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function QE(e,t){e=e||10;const s=new Array(e),r=new Array(e);let i=0,a=0,d;return t=t!==void 0?t:1e3,function(g){const h=Date.now(),m=r[a];d||(d=h),s[i]=g,r[i]=h;let b=a,v=0;for(;b!==i;)v+=s[b++],b=b%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),h-d<t)return;const C=m&&h-m;return C?Math.round(v*1e3/C):void 0}}function GE(e,t){let s=0,r=1e3/t,i,a;const d=(h,m=Date.now())=>{s=m,i=null,a&&(clearTimeout(a),a=null),e(...h)};return[(...h)=>{const m=Date.now(),b=m-s;b>=r?d(h,m):(i=h,a||(a=setTimeout(()=>{a=null,d(i)},r-b)))},()=>i&&d(i)]}const E0=(e,t,s=3)=>{let r=0;const i=QE(50,250);return GE(a=>{const d=a.loaded,u=a.lengthComputable?a.total:void 0,g=d-r,h=i(g),m=d<=u;r=d;const b={loaded:d,total:u,progress:u?d/u:void 0,bytes:g,rate:h||void 0,estimated:h&&u&&m?(u-d)/h:void 0,event:a,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(b)},s)},wh=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Eh=e=>(...t)=>je.asap(()=>e(...t)),KE=un.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,un.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(un.origin),un.navigator&&/(msie|trident)/i.test(un.navigator.userAgent)):()=>!0,YE=un.hasStandardBrowserEnv?{write(e,t,s,r,i,a){const d=[e+"="+encodeURIComponent(t)];je.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),je.isString(r)&&d.push("path="+r),je.isString(i)&&d.push("domain="+i),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sb(e,t,s){let r=!XE(t);return e&&(r||s==!1)?JE(e,t):t}const Ch=e=>e instanceof Mn?{...e}:e;function ii(e,t){t=t||{};const s={};function r(h,m,b,v){return je.isPlainObject(h)&&je.isPlainObject(m)?je.merge.call({caseless:v},h,m):je.isPlainObject(m)?je.merge({},m):je.isArray(m)?m.slice():m}function i(h,m,b,v){if(je.isUndefined(m)){if(!je.isUndefined(h))return r(void 0,h,b,v)}else return r(h,m,b,v)}function a(h,m){if(!je.isUndefined(m))return r(void 0,m)}function d(h,m){if(je.isUndefined(m)){if(!je.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,b){if(b in t)return r(h,m);if(b in e)return r(void 0,h)}const g={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(h,m,b)=>i(Ch(h),Ch(m),b,!0)};return je.forEach(Object.keys({...e,...t}),function(m){const b=g[m]||i,v=b(e[m],t[m],m);je.isUndefined(v)&&b!==u||(s[m]=v)}),s}const nb=e=>{const t=ii({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:d,auth:u}=t;if(t.headers=d=Mn.from(d),t.url=Xm(sb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),je.isFormData(s)){if(un.hasStandardBrowserEnv||un.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(je.isFunction(s.getHeaders)){const g=s.getHeaders(),h=["content-type","content-length"];Object.entries(g).forEach(([m,b])=>{h.includes(m.toLowerCase())&&d.set(m,b)})}}if(un.hasStandardBrowserEnv&&(r&&je.isFunction(r)&&(r=r(t)),r||r!==!1&&KE(t.url))){const g=i&&a&&YE.read(a);g&&d.set(i,g)}return t},ZE=typeof XMLHttpRequest<"u",eC=ZE&&function(e){return new Promise(function(s,r){const i=nb(e);let a=i.data;const d=Mn.from(i.headers).normalize();let{responseType:u,onUploadProgress:g,onDownloadProgress:h}=i,m,b,v,C,_;function F(){C&&C(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function D(){if(!S)return;const P=Mn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:P,config:e,request:S};tb(function(j){s(j),F()},function(j){r(j),F()},U),S=null}"onloadend"in S?S.onloadend=D:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(D)},S.onabort=function(){S&&(r(new Wt("Request aborted",Wt.ECONNABORTED,e,S)),S=null)},S.onerror=function(B){const U=B&&B.message?B.message:"Network Error",z=new Wt(U,Wt.ERR_NETWORK,e,S);z.event=B||null,r(z),S=null},S.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||Jm;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new Wt(B,U.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,e,S)),S=null},a===void 0&&d.setContentType(null),"setRequestHeader"in S&&je.forEach(d.toJSON(),function(B,U){S.setRequestHeader(U,B)}),je.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),u&&u!=="json"&&(S.responseType=i.responseType),h&&([v,_]=E0(h,!0),S.addEventListener("progress",v)),g&&S.upload&&([b,C]=E0(g),S.upload.addEventListener("progress",b),S.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(m=P=>{S&&(r(!P||P.type?new Yi(null,e,S):P),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const O=WE(i.url);if(O&&un.protocols.indexOf(O)===-1){r(new Wt("Unsupported protocol "+O+":",Wt.ERR_BAD_REQUEST,e));return}S.send(a||null)})},tC=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,i;const a=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Wt?m:new Yi(m instanceof Error?m.message:m))}};let d=t&&setTimeout(()=>{d=null,a(new Wt(`timeout ${t} of ms exceeded`,Wt.ETIMEDOUT))},t);const u=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),e=null)};e.forEach(h=>h.addEventListener("abort",a));const{signal:g}=r;return g.unsubscribe=()=>je.asap(u),g}},sC=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,i;for(;r<s;)i=r+t,yield e.slice(r,i),r=i},nC=async function*(e,t){for await(const s of rC(e))yield*sC(s,t)},rC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Ah=(e,t,s,r)=>{const i=nC(e,t);let a=0,d,u=g=>{d||(d=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:h,value:m}=await i.next();if(h){u(),g.close();return}let b=m.byteLength;if(s){let v=a+=b;s(v)}g.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(g){return u(g),i.return()}},{highWaterMark:2})},kh=64*1024,{isFunction:Tl}=je,oC=(({Request:e,Response:t})=>({Request:e,Response:t}))(je.global),{ReadableStream:Bh,TextEncoder:_h}=je.global,Dh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iC=e=>{e=je.merge.call({skipUndefined:!0},oC,e);const{fetch:t,Request:s,Response:r}=e,i=t?Tl(t):typeof fetch=="function",a=Tl(s),d=Tl(r);if(!i)return!1;const u=i&&Tl(Bh),g=i&&(typeof _h=="function"?(_=>F=>_.encode(F))(new _h):async _=>new Uint8Array(await new s(_).arrayBuffer())),h=a&&u&&Dh(()=>{let _=!1;const F=new s(un.origin,{body:new Bh,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!F}),m=d&&u&&Dh(()=>je.isReadableStream(new r("").body)),b={stream:m&&(_=>_.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!b[_]&&(b[_]=(F,S)=>{let D=F&&F[_];if(D)return D.call(F);throw new Wt(`Response type '${_}' is not supported`,Wt.ERR_NOT_SUPPORT,S)})});const v=async _=>{if(_==null)return 0;if(je.isBlob(_))return _.size;if(je.isSpecCompliantForm(_))return(await new s(un.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(je.isArrayBufferView(_)||je.isArrayBuffer(_))return _.byteLength;if(je.isURLSearchParams(_)&&(_=_+""),je.isString(_))return(await g(_)).byteLength},C=async(_,F)=>{const S=je.toFiniteNumber(_.getContentLength());return S??v(F)};return async _=>{let{url:F,method:S,data:D,signal:O,cancelToken:P,timeout:B,onDownloadProgress:U,onUploadProgress:z,responseType:j,headers:H,withCredentials:I="same-origin",fetchOptions:$}=nb(_),J=t||fetch;j=j?(j+"").toLowerCase():"text";let K=tC([O,P&&P.toAbortSignal()],B),ie=null;const fe=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let q;try{if(z&&h&&S!=="get"&&S!=="head"&&(q=await C(H,D))!==0){let be=new s(F,{method:"POST",body:D,duplex:"half"}),qe;if(je.isFormData(D)&&(qe=be.headers.get("content-type"))&&H.setContentType(qe),be.body){const[ot,Ge]=wh(q,E0(Eh(z)));D=Ah(be.body,kh,ot,Ge)}}je.isString(I)||(I=I?"include":"omit");const le=a&&"credentials"in s.prototype,he={...$,signal:K,method:S.toUpperCase(),headers:H.normalize().toJSON(),body:D,duplex:"half",credentials:le?I:void 0};ie=a&&new s(F,he);let ve=await(a?J(ie,$):J(F,he));const Ie=m&&(j==="stream"||j==="response");if(m&&(U||Ie&&fe)){const be={};["status","statusText","headers"].forEach(dt=>{be[dt]=ve[dt]});const qe=je.toFiniteNumber(ve.headers.get("content-length")),[ot,Ge]=U&&wh(qe,E0(Eh(U),!0))||[];ve=new r(Ah(ve.body,kh,ot,()=>{Ge&&Ge(),fe&&fe()}),be)}j=j||"text";let Ue=await b[je.findKey(b,j)||"text"](ve,_);return!Ie&&fe&&fe(),await new Promise((be,qe)=>{tb(be,qe,{data:Ue,headers:Mn.from(ve.headers),status:ve.status,statusText:ve.statusText,config:_,request:ie})})}catch(le){throw fe&&fe(),le&&le.name==="TypeError"&&/Load failed|fetch/i.test(le.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,_,ie),{cause:le.cause||le}):Wt.from(le,le&&le.code,_,ie)}}},aC=new Map,rb=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:i}=t,a=[r,i,s];let d=a.length,u=d,g,h,m=aC;for(;u--;)g=a[u],h=m.get(g),h===void 0&&m.set(g,h=u?new Map:iC(t)),m=h;return h};rb();const Mu={http:AE,xhr:eC,fetch:{get:rb}};je.forEach(Mu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sh=e=>`- ${e}`,lC=e=>je.isFunction(e)||e===null||e===!1,ob={getAdapter:(e,t)=>{e=je.isArray(e)?e:[e];const{length:s}=e;let r,i;const a={};for(let d=0;d<s;d++){r=e[d];let u;if(i=r,!lC(r)&&(i=Mu[(u=String(r)).toLowerCase()],i===void 0))throw new Wt(`Unknown adapter '${u}'`);if(i&&(je.isFunction(i)||(i=i.get(t))))break;a[u||"#"+d]=i}if(!i){const d=Object.entries(a).map(([g,h])=>`adapter ${g} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=s?d.length>1?`since :
`+d.map(Sh).join(`
`):" "+Sh(d[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Mu};function _c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yi(null,e)}function Fh(e){return _c(e),e.headers=Mn.from(e.headers),e.data=Bc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ob.getAdapter(e.adapter||ul.adapter,e)(e).then(function(r){return _c(e),r.data=Bc.call(e,e.transformResponse,r),r.headers=Mn.from(r.headers),r},function(r){return eb(r)||(_c(e),r&&r.response&&(r.response.data=Bc.call(e,e.transformResponse,r.response),r.response.headers=Mn.from(r.response.headers))),Promise.reject(r)})}const ib="1.12.2",J0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{J0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Th={};J0.transitional=function(t,s,r){function i(a,d){return"[Axios v"+ib+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,u)=>{if(t===!1)throw new Wt(i(d," has been removed"+(s?" in "+s:"")),Wt.ERR_DEPRECATED);return s&&!Th[d]&&(Th[d]=!0,console.warn(i(d," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,d,u):!0}};J0.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function dC(e,t,s){if(typeof e!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],d=t[a];if(d){const u=e[a],g=u===void 0||d(u,a,e);if(g!==!0)throw new Wt("option "+a+" must be "+g,Wt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Wt("Unknown option "+a,Wt.ERR_BAD_OPTION)}}const t0={assertOptions:dC,validators:J0},wr=t0.validators;let Zo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new yh,response:new yh}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ii(this.defaults,s);const{transitional:r,paramsSerializer:i,headers:a}=s;r!==void 0&&t0.assertOptions(r,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),i!=null&&(je.isFunction(i)?s.paramsSerializer={serialize:i}:t0.assertOptions(i,{encode:wr.function,serialize:wr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),t0.assertOptions(s,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=a&&je.merge(a.common,a[s.method]);a&&je.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),s.headers=Mn.concat(d,a);const u=[];let g=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(s)===!1||(g=g&&F.synchronous,u.unshift(F.fulfilled,F.rejected))});const h=[];this.interceptors.response.forEach(function(F){h.push(F.fulfilled,F.rejected)});let m,b=0,v;if(!g){const _=[Fh.bind(this),void 0];for(_.unshift(...u),_.push(...h),v=_.length,m=Promise.resolve(s);b<v;)m=m.then(_[b++],_[b++]);return m}v=u.length;let C=s;for(;b<v;){const _=u[b++],F=u[b++];try{C=_(C)}catch(S){F.call(this,S);break}}try{m=Fh.call(this,C)}catch(_){return Promise.reject(_)}for(b=0,v=h.length;b<v;)m=m.then(h[b++],h[b++]);return m}getUri(t){t=ii(this.defaults,t);const s=sb(t.baseURL,t.url,t.allowAbsoluteUrls);return Xm(s,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){Zo.prototype[t]=function(s,r){return this.request(ii(r||{},{method:t,url:s,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(t){function s(r){return function(a,d,u){return this.request(ii(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}Zo.prototype[t]=s(),Zo.prototype[t+"Form"]=s(!0)});let cC=class ab{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const d=new Promise(u=>{r.subscribe(u),a=u}).then(i);return d.cancel=function(){r.unsubscribe(a)},d},t(function(a,d,u){r.reason||(r.reason=new Yi(a,d,u),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new ab(function(i){t=i}),cancel:t}}};function uC(e){return function(s){return e.apply(null,s)}}function xC(e){return je.isObject(e)&&e.isAxiosError===!0}const Iu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Iu).forEach(([e,t])=>{Iu[t]=e});function lb(e){const t=new Zo(e),s=Lm(Zo.prototype.request,t);return je.extend(s,Zo.prototype,t,{allOwnKeys:!0}),je.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return lb(ii(e,i))},s}const Rt=lb(ul);Rt.Axios=Zo;Rt.CanceledError=Yi;Rt.CancelToken=cC;Rt.isCancel=eb;Rt.VERSION=ib;Rt.toFormData=X0;Rt.AxiosError=Wt;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=uC;Rt.isAxiosError=xC;Rt.mergeConfig=ii;Rt.AxiosHeaders=Mn;Rt.formToJSON=e=>Zm(je.isHTMLForm(e)?new FormData(e):e);Rt.getAdapter=ob.getAdapter;Rt.HttpStatusCode=Iu;Rt.default=Rt;const{Axios:Afe,AxiosError:kfe,CanceledError:Bfe,isCancel:_fe,CancelToken:Dfe,VERSION:Sfe,all:Ffe,Cancel:Tfe,isAxiosError:Mfe,spread:Ife,toFormData:Pfe,AxiosHeaders:Rfe,HttpStatusCode:Ofe,formToJSON:Nfe,getAdapter:$fe,mergeConfig:Lfe}=Rt;function Pu(e,t){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>e.apply(this,r),t)}}function or(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var Mh=e=>or("before",{cancelable:!0,detail:{visit:e}}),fC=e=>or("error",{detail:{errors:e}}),hC=e=>or("exception",{cancelable:!0,detail:{exception:e}}),gC=e=>or("finish",{detail:{visit:e}}),pC=e=>or("invalid",{cancelable:!0,detail:{response:e}}),mC=e=>or("beforeUpdate",{detail:{page:e}}),Ia=e=>or("navigate",{detail:{page:e}}),bC=e=>or("progress",{detail:{progress:e}}),yC=e=>or("start",{detail:{visit:e}}),vC=e=>or("success",{detail:{page:e}}),wC=(e,t)=>or("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),EC=e=>or("prefetching",{detail:{visit:e}}),yn=class{static set(e,t){typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const s=this.get(e);s===null?this.set(e,t):this.set(e,{...s,...t})}static remove(e){typeof window<"u"&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const s=this.get(e);s!==null&&(delete s[t],this.set(e,s))}static exists(e){try{return this.get(e)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};yn.locationVisitKey="inertiaLocationVisit";var CC=async e=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const t=db(),s=await cb(),r=await SC(s);if(!r)throw new Error("Unable to encrypt history");return await kC(t,r,e)},zi={key:"historyKey",iv:"historyIv"},AC=async e=>{const t=db(),s=await cb();if(!s)throw new Error("Unable to decrypt history");return await BC(t,s,e)},kC=async(e,t,s)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(s);const r=new TextEncoder,i=JSON.stringify(s),a=new Uint8Array(i.length*3),d=r.encodeInto(i,a);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,a.subarray(0,d.written))},BC=async(e,t,s)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(s);const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,s);return JSON.parse(new TextDecoder().decode(r))},db=()=>{const e=yn.get(zi.iv);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return yn.set(zi.iv,Array.from(t)),t},_C=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),DC=async e=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);yn.set(zi.key,Array.from(new Uint8Array(t)))},SC=async e=>{if(e)return e;const t=await _C();return t?(await DC(t),t):null},cb=async()=>{const e=yn.get(zi.key);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},fr=class{static save(){ls.saveScrollPositions(Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft})))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){const e=typeof window<"u"?window.location.hash:null;e||window.scrollTo(0,0),this.regions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.save(),e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){this.restoreDocument(),this.regions().forEach((t,s)=>{const r=e[s];r&&(typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left))})}static restoreDocument(){const e=ls.getDocumentScrollPosition();typeof window<"u"&&window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;typeof t.hasAttribute=="function"&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){ls.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}};function Ru(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(t=>Ru(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>Ru(t))}var Ou=e=>e instanceof FormData;function ub(e,t=new FormData,s=null){e=e||{};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&fb(t,xb(s,r),e[r]);return t}function xb(e,t){return e?e+"["+t+"]":t}function fb(e,t,s){if(Array.isArray(s))return Array.from(s.keys()).forEach(r=>fb(e,xb(t,r.toString()),s[r]));if(s instanceof Date)return e.append(t,s.toISOString());if(s instanceof File)return e.append(t,s,s.name);if(s instanceof Blob)return e.append(t,s);if(typeof s=="boolean")return e.append(t,s?"1":"0");if(typeof s=="string")return e.append(t,s);if(typeof s=="number")return e.append(t,`${s}`);if(s==null)return e.append(t,"");ub(s,e,t)}function mo(e){return new URL(e.toString(),typeof window>"u"?void 0:window.location.toString())}var FC=(e,t,s,r,i)=>{let a=typeof e=="string"?mo(e):e;if((Ru(t)||r)&&!Ou(t)&&(t=ub(t)),Ou(t))return[a,t];const[d,u]=hb(s,a,t,i);return[mo(d),u]};function hb(e,t,s,r="brackets"){const i=e==="get"&&!Ou(s)&&Object.keys(s).length>0,a=/^[a-z][a-z0-9+.-]*:\/\//i.test(t.toString()),d=a||t.toString().startsWith("/")||t.toString()==="",u=!d&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),g=/^[.]{1,2}([/]|$)/.test(t.toString()),h=t.toString().includes("?")||i,m=t.toString().includes("#"),b=new URL(t.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(i){const v={ignoreQueryPrefix:!0,parseArrays:!1};b.search=gh.stringify({...gh.parse(b.search,v),...s},{encodeValuesOnly:!0,arrayFormat:r})}return[[a?`${b.protocol}//${b.host}`:"",d?b.pathname:"",u?b.pathname.substring(g?0:1):"",h?b.search:"",m?b.hash:""].join(""),i?{}:s]}function C0(e){return e=new URL(e.href),e.hash="",e}var Ih=(e,t)=>{e.hash&&!t.hash&&C0(e).href===t.href&&(t.hash=e.hash)},Nu=(e,t)=>C0(e).href===C0(t).href;function A0(e){return e!==null&&typeof e=="object"&&e!==void 0&&"url"in e&&"method"in e}var TC=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:t,resolveComponent:s}){return this.page=e,this.swapComponent=t,this.resolveComponent=s,this}set(e,{replace:t=!1,preserveScroll:s=!1,preserveState:r=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const i=this.componentId;return e.clearHistory&&ls.clear(),this.resolve(e.component).then(a=>{if(i!==this.componentId)return;e.rememberedState??(e.rememberedState={});const d=typeof window<"u"?window.location:new URL(e.url);return t=t||Nu(mo(e.url),d),new Promise(u=>{t?ls.replaceState(e,()=>u(null)):ls.pushState(e,()=>u(null))}).then(()=>{const u=!this.isTheSame(e);return this.page=e,this.cleared=!1,u&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:a,page:e,preserveState:r}).then(()=>{s||fr.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&Wo.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||Ia(e)})})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(s=>(this.page=e,this.cleared=!1,ls.setCurrent(e),this.swap({component:s,page:e,preserveState:t})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}merge(e){this.page={...this.page,...e}}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:s}){return this.swapComponent({component:e,page:t,preserveState:s})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(s=>s.event!==e&&s.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(t=>t.callback())}},Nt=new TC,gb=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},wa=typeof window>"u",fa=new gb,Ph=!wa&&/CriOS/.test(window.navigator.userAgent),MC=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({...Nt.get(),rememberedState:{...Nt.get()?.rememberedState??{},[t]:e}})}restore(e){if(!wa)return this.current[this.rememberedState]?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){if(!wa){if(this.preserveUrl){t&&t();return}this.current=e,fa.add(()=>this.getPageData(e).then(s=>{const r=()=>{this.doPushState({page:s},e.url),t&&t()};Ph?setTimeout(r):r()}))}}getPageData(e){return new Promise(t=>e.encryptHistory?CC(e).then(t):t(e))}processQueue(){return fa.process()}decrypt(e=null){if(wa)return Promise.resolve(e??Nt.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(s=>{if(!s)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=s??void 0:this.current=s??{},s})}decryptPageData(e){return e instanceof ArrayBuffer?AC(e):Promise.resolve(e)}saveScrollPositions(e){fa.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){fa.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){if(Nt.merge(e),!wa){if(this.preserveUrl){t&&t();return}this.current=e,fa.add(()=>this.getPageData(e).then(s=>{const r=()=>{this.doReplaceState({page:s},e.url),t&&t()};Ph?setTimeout(r):r()}))}}doReplaceState(e,t){window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t)}doPushState(e,t){window.history.pushState(e,"",t)}getState(e,t){return this.current?.[e]??t}deleteState(e){this.current[e]!==void 0&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&this.initialState[e]!==void 0&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){yn.remove(zi.key),yn.remove(zi.iv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var ls=new MC,IC=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",Pu(fr.onWindowScroll.bind(fr),100),!0)),typeof document<"u"&&document.addEventListener("scroll",Pu(fr.onScroll.bind(fr),100),!0)}onGlobalEvent(e,t){const s=(r=>{const i=t(r);r.cancelable&&!r.defaultPrevented&&i===!1&&r.preventDefault()});return this.registerListener(`inertia:${e}`,s)}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(s=>s.listener!==t)}}onMissingHistoryItem(){Nt.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(s=>s.event===e).forEach(s=>s.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(t===null){const s=mo(Nt.get().url);s.hash=window.location.hash,ls.replaceState({...Nt.get(),url:s.href}),fr.reset();return}if(!ls.isValidState(t))return this.onMissingHistoryItem();ls.decrypt(t.page).then(s=>{if(Nt.get().version!==s.version){this.onMissingHistoryItem();return}Bt.cancelAll(),Nt.setQuietly(s,{preserveState:!1}).then(()=>{window.requestAnimationFrame(()=>{fr.restore(ls.getScrollRegions())}),Ia(Nt.get())})}).catch(()=>{this.onMissingHistoryItem()})}},Wo=new IC,PC=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},Dc=new PC,RC=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(t=>t.bind(this)())}static clearRememberedStateOnReload(){Dc.isReload()&&(ls.deleteState(ls.rememberedState),ls.clearInitialState(ls.rememberedState))}static handleBackForward(){if(!Dc.isBackForward()||!ls.hasAnyState())return!1;const e=ls.getScrollRegions();return ls.decrypt().then(t=>{Nt.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{fr.restore(e),Ia(Nt.get())})}).catch(()=>{Wo.onMissingHistoryItem()}),!0}static handleLocation(){if(!yn.exists(yn.locationVisitKey))return!1;const e=yn.get(yn.locationVisitKey)||{};return yn.remove(yn.locationVisitKey),typeof window<"u"&&Nt.setUrlHash(window.location.hash),ls.decrypt(Nt.get()).then(()=>{const t=ls.getState(ls.rememberedState,{}),s=ls.getScrollRegions();Nt.remember(t),Nt.set(Nt.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&fr.restore(s),Ia(Nt.get())})}).catch(()=>{Wo.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&Nt.setUrlHash(window.location.hash),Nt.set(Nt.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{Dc.isReload()&&fr.restore(ls.getScrollRegions()),Ia(Nt.get())})}},OC=class{constructor(e,t,s){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=s.keepAlive??!1,this.cb=t,this.interval=e,(s.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=this.keepAlive?!1:e,this.throttle&&(this.cbCount=0)}},NC=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,s){const r=new OC(e,t,s);return this.polls.push(r),{stop:()=>r.stop(),start:()=>r.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},$C=new NC,pb=(e,t,s)=>{if(e===t)return!0;for(const r in e)if(!s.includes(r)&&e[r]!==t[r]&&!LC(e[r],t[r]))return!1;return!0},LC=(e,t)=>{switch(typeof e){case"object":return pb(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},jC={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},Rh=e=>{if(typeof e=="number")return e;for(const[t,s]of Object.entries(jC))if(e.endsWith(t))return parseFloat(e)*s;return parseInt(e)},UC=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:s,cacheTags:r}){if(this.findInFlight(e))return Promise.resolve();const a=this.findCached(e);if(!e.fresh&&a&&a.staleTimestamp>Date.now())return Promise.resolve();const[d,u]=this.extractStaleValues(s),g=new Promise((h,m)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),m()},onError:b=>{this.remove(e),e.onError(b),m()},onPrefetching(b){e.onPrefetching(b)},onPrefetched(b,v){e.onPrefetched(b,v)},onPrefetchResponse(b){h(b)},onPrefetchError(b){jr.removeFromInFlight(e),m(b)}})}).then(h=>(this.remove(e),this.cached.push({params:{...e},staleTimestamp:Date.now()+d,response:g,singleUse:u===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(r)?r:[r]}),this.scheduleForRemoval(e,u),this.removeFromInFlight(e),h.handlePrefetch(),h));return this.inFlightRequests.push({params:{...e},response:g,staleTimestamp:null,inFlight:!0}),g}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(s=>e.includes(s)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,s]=this.cacheForToStaleAndExpires(e);return[Rh(t),Rh(s)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(s=>this.paramsAreEqual(s.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(s=>s!==t))}scheduleForRemoval(e,t){if(!(typeof window>"u")&&(this.clearTimer(e),t>0)){const s=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:s})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const s=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=s,e.response.then(r=>{if(this.currentUseId===s)return r.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),r.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>this.paramsAreEqual(t.params,e)?!t.singleUse:!0)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=kn(e);return t.headers.Purpose==="prefetch"&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return pb(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onPrefetched","onCancelToken","onPrefetching","async"])}},jr=new UC,HC=class mb{constructor(t){if(this.callbacks=[],!t.prefetch)this.params=t;else{const s={onBefore:this.wrapCallback(t,"onBefore"),onBeforeUpdate:this.wrapCallback(t,"onBeforeUpdate"),onStart:this.wrapCallback(t,"onStart"),onProgress:this.wrapCallback(t,"onProgress"),onFinish:this.wrapCallback(t,"onFinish"),onCancel:this.wrapCallback(t,"onCancel"),onSuccess:this.wrapCallback(t,"onSuccess"),onError:this.wrapCallback(t,"onError"),onCancelToken:this.wrapCallback(t,"onCancelToken"),onPrefetched:this.wrapCallback(t,"onPrefetched"),onPrefetching:this.wrapCallback(t,"onPrefetching")};this.params={...t,...s,onPrefetchResponse:t.onPrefetchResponse||(()=>{}),onPrefetchError:t.onPrefetchError||(()=>{})}}}static create(t){return new mb(t)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}onCancelToken(t){this.params.onCancelToken({cancel:t})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:t=!0,interrupted:s=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=t,this.params.interrupted=s}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(t){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(t)}onPrefetchError(t){this.params.onPrefetchError&&this.params.onPrefetchError(t)}all(){return this.params}headers(){const t={...this.params.headers};this.isPartial()&&(t["X-Inertia-Partial-Component"]=Nt.get().component);const s=this.params.only.concat(this.params.reset);return s.length>0&&(t["X-Inertia-Partial-Data"]=s.join(",")),this.params.except.length>0&&(t["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(t["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(t["X-Inertia-Error-Bag"]=this.params.errorBag),t}setPreserveOptions(t){this.params.preserveScroll=this.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=this.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:t,args:s})=>{this.params[t](...s)})}merge(t){this.params={...this.params,...t}}wrapCallback(t,s){return(...r)=>{this.recordCallback(s,r),t[s](...r)}}recordCallback(t,s){this.callbacks.push({name:t,args:s})}resolvePreserveOption(t,s){return typeof t=="function"?t(s):t==="errors"?Object.keys(s.props.errors||{}).length>0:t}},zC={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());const s=document.createElement("iframe");if(s.style.backgroundColor="white",s.style.borderRadius="5px",s.style.width="100%",s.style.height="100%",this.modal.appendChild(s),document.body.prepend(this.modal),document.body.style.overflow="hidden",!s.contentWindow)throw new Error("iframe not yet ready.");s.contentWindow.document.open(),s.contentWindow.document.write(t.outerHTML),s.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}},VC=new gb,Oh=class bb{constructor(t,s,r){this.requestParams=t,this.response=s,this.originatingPage=r,this.wasPrefetched=!1}static create(t,s,r){return new bb(t,s,r)}async handlePrefetch(){Nu(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return VC.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),wC(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await ls.processQueue(),ls.preserveUrl=this.requestParams.all().preserveUrl,await this.setPage();const t=Nt.get().props.errors||{};if(Object.keys(t).length>0){const s=this.getScopedErrors(t);return fC(s),this.requestParams.all().onError(s)}Bt.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||Bt.flush(Nt.get().url),vC(Nt.get()),await this.requestParams.all().onSuccess(Nt.get()),ls.preserveUrl=!1}mergeParams(t){this.requestParams.merge(t)}async handleNonInertiaResponse(){if(this.isLocationVisit()){const s=mo(this.getHeader("x-inertia-location"));return Ih(this.requestParams.all().url,s),this.locationVisit(s)}const t={...this.response,data:this.getDataFromResponse(this.response.data)};if(pC(t))return zC.show(t.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(t){return this.response.status===t}getHeader(t){return this.response.headers[t]}hasHeader(t){return this.getHeader(t)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(t){try{if(yn.set(yn.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;Nu(window.location,t)?window.location.reload():window.location.href=t.href}catch{return!1}}async setPage(){const t=this.getDataFromResponse(this.response.data);return this.shouldSetPage(t)?(this.mergeProps(t),await this.setRememberedState(t),this.requestParams.setPreserveOptions(t),t.url=ls.preserveUrl?Nt.get().url:this.pageUrl(t),this.requestParams.all().onBeforeUpdate(t),mC(t),Nt.set(t,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState})):Promise.resolve()}getDataFromResponse(t){if(typeof t!="string")return t;try{return JSON.parse(t)}catch{return t}}shouldSetPage(t){if(!this.requestParams.all().async||this.originatingPage.component!==t.component)return!0;if(this.originatingPage.component!==Nt.get().component)return!1;const s=mo(this.originatingPage.url),r=mo(Nt.get().url);return s.origin===r.origin&&s.pathname===r.pathname}pageUrl(t){const s=mo(t.url);return Ih(this.requestParams.all().url,s),s.pathname+s.search+s.hash}mergeProps(t){if(!this.requestParams.isPartial()||t.component!==Nt.get().component)return;const s=t.mergeProps||[],r=t.prependProps||[],i=t.deepMergeProps||[],a=t.matchPropsOn||[],d=(u,g)=>{const h=Ri(Nt.get().props,u),m=Ri(t.props,u);if(Array.isArray(m)){const b=this.mergeOrMatchItems(h||[],m,u,a,g);Vo(t.props,u,b)}else if(typeof m=="object"&&m!==null){const b={...h||{},...m};Vo(t.props,u,b)}};s.forEach(u=>d(u,!0)),r.forEach(u=>d(u,!1)),i.forEach(u=>{const g=Nt.get().props[u],h=t.props[u],m=(b,v,C)=>Array.isArray(v)?this.mergeOrMatchItems(b,v,C,a):typeof v=="object"&&v!==null?Object.keys(v).reduce((_,F)=>(_[F]=m(b?b[F]:void 0,v[F],`${C}.${F}`),_),{...b}):v;t.props[u]=m(g,h,u)}),t.props={...Nt.get().props,...t.props},t.scrollProps&&(t.scrollProps={...Nt.get().scrollProps||{},...t.scrollProps||{}})}mergeOrMatchItems(t,s,r,i,a=!0){const d=Array.isArray(t)?t:[],u=i.find(m=>m.split(".").slice(0,-1).join(".")===r);if(!u)return a?[...d,...s]:[...s,...d];const g=u.split(".").pop()||"",h=new Map;return s.forEach(m=>{this.hasUniqueProperty(m,g)&&h.set(m[g],m)}),a?this.appendWithMatching(d,s,h,g):this.prependWithMatching(d,s,h,g)}appendWithMatching(t,s,r,i){const a=t.map(u=>this.hasUniqueProperty(u,i)&&r.has(u[i])?r.get(u[i]):u),d=s.filter(u=>this.hasUniqueProperty(u,i)?!t.some(g=>this.hasUniqueProperty(g,i)&&g[i]===u[i]):!0);return[...a,...d]}prependWithMatching(t,s,r,i){const a=t.filter(d=>this.hasUniqueProperty(d,i)?!r.has(d[i]):!0);return[...s,...a]}hasUniqueProperty(t,s){return t&&typeof t=="object"&&s in t}async setRememberedState(t){const s=await ls.getState(ls.rememberedState,{});this.requestParams.all().preserveState&&s&&t.component===Nt.get().component&&(t.rememberedState=s)}getScopedErrors(t){return this.requestParams.all().errorBag?t[this.requestParams.all().errorBag||""]||{}:t}},Nh=class yb{constructor(t,s){this.page=s,this.requestHasFinished=!1,this.requestParams=HC.create(t),this.cancelToken=new AbortController}static create(t,s){return new yb(t,s)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),yC(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),EC(this.requestParams.all()));const t=this.requestParams.all().prefetch;return Rt({method:this.requestParams.all().method,url:C0(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(s=>(this.response=Oh.create(this.requestParams,s,this.page),this.response.handle())).catch(s=>s?.response?(this.response=Oh.create(this.requestParams,s.response,this.page),this.response.handle()):Promise.reject(s)).catch(s=>{if(!Rt.isCancel(s)&&hC(s))return t&&this.requestParams.onPrefetchError(s),Promise.reject(s)}).finally(()=>{this.finish(),t&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,gC(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:t=!1,interrupted:s=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:t,interrupted:s}),this.fireFinishEvents())}onProgress(t){this.requestParams.data()instanceof FormData&&(t.percentage=t.progress?Math.round(t.progress*100):0,bC(t),this.requestParams.all().onProgress(t))}getHeaders(){const t={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0};return Nt.get().version&&(t["X-Inertia-Version"]=Nt.get().version),t}},$h=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},s){if(!this.shouldCancel(s))return;this.requests.shift()?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return e?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},qC=class{constructor(){this.syncRequestStream=new $h({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new $h({maxConcurrent:1/0,interruptible:!1})}init({initialPage:e,resolveComponent:t,swapComponent:s}){Nt.init({initialPage:e,resolveComponent:t,swapComponent:s}),RC.handle(),Wo.init(),Wo.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),Wo.on("loadDeferredProps",r=>{this.loadDeferredProps(r)})}get(e,t={},s={}){return this.visit(e,{...s,method:"get",data:t})}post(e,t={},s={}){return this.visit(e,{preserveState:!0,...s,method:"post",data:t})}put(e,t={},s={}){return this.visit(e,{preserveState:!0,...s,method:"put",data:t})}patch(e,t={},s={}){return this.visit(e,{preserveState:!0,...s,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){ls.remember(e,t)}restore(e="default"){return ls.restore(e)}on(e,t){return typeof window>"u"?()=>{}:Wo.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},s={}){return $C.add(e,()=>this.reload(t),{autoStart:s.autoStart??!0,keepAlive:s.keepAlive??!1})}visit(e,t={}){const s=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),r=this.getVisitEvents(t);if(r.onBefore(s)===!1||!Mh(s))return;const i=s.async?this.asyncRequestStream:this.syncRequestStream;i.interruptInFlight(),!Nt.isCleared()&&!s.preserveUrl&&fr.save();const a={...s,...r},d=jr.get(a);d?(Fn.reveal(d.inFlight),jr.use(d,a)):(Fn.reveal(!0),i.send(Nh.create(a,Nt.get())))}getCached(e,t={}){return jr.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){jr.remove(this.getPrefetchParams(e,t))}flushAll(){jr.removeAll()}flushByCacheTags(e){jr.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return jr.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},s={}){if((t.method??(A0(e)?e.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const i=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),a=i.url.origin+i.url.pathname+i.url.search,d=window.location.origin+window.location.pathname+window.location.search;if(a===d)return;const u=this.getVisitEvents(t);if(u.onBefore(i)===!1||!Mh(i))return;Fn.hide(),this.asyncRequestStream.interruptInFlight();const g={...i,...u};new Promise(m=>{const b=()=>{Nt.get()?m():setTimeout(b,50)};b()}).then(()=>{jr.add(g,m=>{this.asyncRequestStream.send(Nh.create(m,Nt.get()))},{cacheFor:3e4,cacheTags:[],...s})})}clearHistory(){ls.clear()}decryptHistory(){return ls.decrypt()}resolveComponent(e){return Nt.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,t,s){this.replace({preserveScroll:!0,preserveState:!0,props(r){const i=typeof t=="function"?t(Ri(r,e),r):t;return Vo(kn(r),e,i)},...s||{}})}appendToProp(e,t,s){this.replaceProp(e,(r,i)=>{const a=typeof t=="function"?t(r,i):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[...r,a]},s)}prependToProp(e,t,s){this.replaceProp(e,(r,i)=>{const a=typeof t=="function"?t(r,i):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[a,...r]},s)}push(e){this.clientVisit(e)}clientVisit(e,{replace:t=!1}={}){const s=Nt.get(),r=typeof e.props=="function"?e.props(s.props):e.props??s.props,{onError:i,onFinish:a,onSuccess:d,...u}=e;Nt.set({...s,...u,props:r},{replace:t,preserveScroll:e.preserveScroll,preserveState:e.preserveState}).then(()=>{const g=Nt.get().props.errors||{};if(Object.keys(g).length===0)return d?.(Nt.get());const h=e.errorBag?g[e.errorBag||""]||{}:g;return i?.(h)}).finally(()=>a?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),...this.getVisitEvents(t)}}getPendingVisit(e,t,s={}){if(A0(e)){const u=e;e=u.url,t.method=t.method??u.method}const r={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],...t},[i,a]=FC(e,r.data,r.method,r.forceFormData,r.queryStringArrayFormat),d={cancelled:!1,completed:!1,interrupted:!1,...r,...s,url:i,data:a};return d.prefetch&&(d.headers.Purpose="prefetch"),d}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([t,s])=>{this.reload({only:s})})}},WC={buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const s=t.content.firstChild;if(!e.startsWith("<script "))return s;const r=document.createElement("script");return r.innerHTML=s.innerHTML,s.getAttributeNames().forEach(i=>{r.setAttribute(i,s.getAttribute(i)||"")}),r},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,t){const s=e.getAttribute("inertia");return s!==null?t.findIndex(r=>r.getAttribute("inertia")===s):-1},update:Pu(function(e){const t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{const i=this.findMatchingElementIndex(r,t);if(i===-1){r?.parentNode?.removeChild(r);return}const a=t.splice(i,1)[0];a&&!r.isEqualNode(a)&&r?.parentNode?.replaceChild(a,r)}),t.forEach(r=>document.head.appendChild(r))},1)};function QC(e,t,s){const r={};let i=0;function a(){const b=i+=1;return r[b]=[],b.toString()}function d(b){b===null||Object.keys(r).indexOf(b)===-1||(delete r[b],m())}function u(b){Object.keys(r).indexOf(b)===-1&&(r[b]=[])}function g(b,v=[]){b!==null&&Object.keys(r).indexOf(b)>-1&&(r[b]=v),m()}function h(){const b=t(""),v={...b?{title:`<title inertia="">${b}</title>`}:{}},C=Object.values(r).reduce((_,F)=>_.concat(F),[]).reduce((_,F)=>{if(F.indexOf("<")===-1)return _;if(F.indexOf("<title ")===0){const D=F.match(/(<title [^>]+>)(.*?)(<\/title>)/);return _.title=D?`${D[1]}${t(D[2])}${D[3]}`:F,_}const S=F.match(/ inertia="[^"]+"/);return S?_[S[0]]=F:_[Object.keys(_).length]=F,_},v);return Object.values(C)}function m(){e?s(h()):WC.update(h())}return m(),{forceUpdate:m,createProvider:function(){const b=a();return{reconnect:()=>u(b),update:v=>g(b,v),disconnect:()=>d(b)}}}}function Ml(e){const t=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e?.target).isContentEditable||e.defaultPrevented||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&e.button!==0)}function Lh(e){const t=e.currentTarget.tagName.toLowerCase()==="button";return e.key==="Enter"||t&&e.key===" "}var Us="nprogress",Xn,Ys={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},Do=null,GC=e=>{Object.assign(Ys,e),Ys.includeCSS&&e7(Ys.color),Xn=document.createElement("div"),Xn.id=Us,Xn.innerHTML=Ys.template},Z0=e=>{const t=vb();e=kb(e,Ys.minimum,1),Do=e===1?null:e;const s=YC(!t),r=s.querySelector(Ys.barSelector),i=Ys.speed,a=Ys.easing;s.offsetWidth,ZC(d=>{const u=Ys.positionUsing==="translate3d"?{transition:`all ${i}ms ${a}`,transform:`translate3d(${s0(e)}%,0,0)`}:Ys.positionUsing==="translate"?{transition:`all ${i}ms ${a}`,transform:`translate(${s0(e)}%,0)`}:{marginLeft:`${s0(e)}%`};for(const g in u)r.style[g]=u[g];if(e!==1)return setTimeout(d,i);s.style.transition="none",s.style.opacity="1",s.offsetWidth,setTimeout(()=>{s.style.transition=`all ${i}ms linear`,s.style.opacity="0",setTimeout(()=>{Ab(),s.style.transition="",s.style.opacity="",d()},i)},i)})},vb=()=>typeof Do=="number",wb=()=>{Do||Z0(0);const e=function(){setTimeout(function(){Do&&(Eb(),e())},Ys.trickleSpeed)};Ys.trickle&&e()},KC=e=>{!e&&!Do||(Eb(.3+.5*Math.random()),Z0(1))},Eb=e=>{const t=Do;if(t===null)return wb();if(!(t>1))return e=typeof e=="number"?e:(()=>{const s={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const r in s)if(t>=s[r][0]&&t<s[r][1])return parseFloat(r);return 0})(),Z0(kb(t+e,0,.994))},YC=e=>{if(XC())return document.getElementById(Us);document.documentElement.classList.add(`${Us}-busy`);const t=Xn.querySelector(Ys.barSelector),s=e?"-100":s0(Do||0),r=Cb();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${s}%,0,0)`,Ys.showSpinner||Xn.querySelector(Ys.spinnerSelector)?.remove(),r!==document.body&&r.classList.add(`${Us}-custom-parent`),r.appendChild(Xn),Xn},Cb=()=>JC(Ys.parent)?Ys.parent:document.querySelector(Ys.parent),Ab=()=>{document.documentElement.classList.remove(`${Us}-busy`),Cb().classList.remove(`${Us}-custom-parent`),Xn?.remove()},XC=()=>document.getElementById(Us)!==null,JC=e=>typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string";function kb(e,t,s){return e<t?t:e>s?s:e}var s0=e=>(-1+e)*100,ZC=(()=>{const e=[],t=()=>{const s=e.shift();s&&s(t)};return s=>{e.push(s),e.length===1&&t()}})(),e7=e=>{const t=document.createElement("style");t.textContent=`
    #${Us} {
      pointer-events: none;
    }

    #${Us} .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${Us} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${Us} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${Us} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      animation: ${Us}-spinner 400ms linear infinite;
    }

    .${Us}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${Us}-custom-parent #${Us} .spinner,
    .${Us}-custom-parent #${Us} .bar {
      position: absolute;
    }

    @keyframes ${Us}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)},t7=()=>{Xn&&(Xn.style.display="")},s7=()=>{Xn&&(Xn.style.display="none")},dr={configure:GC,isStarted:vb,done:KC,set:Z0,remove:Ab,start:wb,status:Do,show:t7,hide:s7},n7=class{constructor(){this.hideCount=0}start(){dr.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||this.hideCount===0)&&dr.show()}hide(){this.hideCount++,dr.hide()}set(e){dr.set(Math.max(0,Math.min(1,e)))}finish(){dr.done()}reset(){dr.set(0)}remove(){dr.done(),dr.remove()}isStarted(){return dr.isStarted()}getStatus(){return dr.status}},Fn=new n7;Fn.reveal;Fn.hide;function r7(e){document.addEventListener("inertia:start",t=>o7(t,e)),document.addEventListener("inertia:progress",i7)}function o7(e,t){e.detail.visit.showProgress||Fn.hide();const s=setTimeout(()=>Fn.start(),t);document.addEventListener("inertia:finish",r=>a7(r,s),{once:!0})}function i7(e){Fn.isStarted()&&e.detail.progress?.percentage&&Fn.set(Math.max(Fn.getStatus(),e.detail.progress.percentage/100*.9))}function a7(e,t){clearTimeout(t),Fn.isStarted()&&(e.detail.visit.completed?Fn.finish():e.detail.visit.interrupted?Fn.reset():e.detail.visit.cancelled&&Fn.remove())}function l7({delay:e=250,color:t="#29d",includeCSS:s=!0,showSpinner:r=!1}={}){r7(e),dr.configure({showSpinner:r,includeCSS:s,color:t})}var Bt=new qC;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var d7={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});const e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=Bt.restore(e),s=this.$options.remember.data.filter(i=>!(this[i]!==null&&typeof this[i]=="object"&&this[i].__rememberable===!1)),r=i=>this[i]!==null&&typeof this[i]=="object"&&typeof this[i].__remember=="function"&&typeof this[i].__restore=="function";s.forEach(i=>{this[i]!==void 0&&t!==void 0&&t[i]!==void 0&&(r(i)?this[i].__restore(t[i]):this[i]=t[i]),this.$watch(i,()=>{Bt.remember(s.reduce((a,d)=>({...a,[d]:kn(r(d)?this[d].__remember():this[d])}),{}),e)},{immediate:!0,deep:!0})})}},c7=d7;function xl(e,t){const s=typeof e=="string"?e:null,r=(typeof e=="string"?t:e)??{},i=s?Bt.restore(s):null;let a=kn(typeof r=="function"?r():r),d=null,u=null,g=b=>b,h=!1;const m=Mr({...i?i.data:kn(a),isDirty:!1,errors:i?i.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(a).reduce((b,v)=>Vo(b,v,Ri(this,v)),{})},transform(b){return g=b,this},defaults(b,v){if(typeof r=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return h=!0,typeof b>"u"?(a=kn(this.data()),this.isDirty=!1):a=typeof b=="string"?Vo(kn(a),b,v):Object.assign({},kn(a),b),this},reset(...b){const v=kn(typeof r=="function"?r():a),C=kn(v);return b.length===0?(a=C,Object.assign(this,v)):b.filter(_=>Z5(C,_)).forEach(_=>{Vo(a,_,Ri(C,_)),Vo(this,_,Ri(v,_))}),this},setError(b,v){return Object.assign(this.errors,typeof b=="string"?{[b]:v}:b),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...b){return this.errors=Object.keys(this.errors).reduce((v,C)=>({...v,...b.length>0&&!b.includes(C)?{[C]:this.errors[C]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},resetAndClearErrors(...b){return this.reset(...b),this.clearErrors(...b),this},submit(...b){const v=b[0]!==null&&typeof b[0]=="object",C=v?b[0].method:b[0],_=v?b[0].url:b[1],F=(v?b[1]:b[2])??{};h=!1;const S=g(this.data()),D={...F,onCancelToken:O=>{if(d=O,F.onCancelToken)return F.onCancelToken(O)},onBefore:O=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(u),F.onBefore)return F.onBefore(O)},onStart:O=>{if(this.processing=!0,F.onStart)return F.onStart(O)},onProgress:O=>{if(this.progress=O,F.onProgress)return F.onProgress(O)},onSuccess:async O=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,u=setTimeout(()=>this.recentlySuccessful=!1,2e3);const P=F.onSuccess?await F.onSuccess(O):null;return h||(a=kn(this.data()),this.isDirty=!1),P},onError:O=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(O),F.onError)return F.onError(O)},onCancel:()=>{if(this.processing=!1,this.progress=null,F.onCancel)return F.onCancel()},onFinish:O=>{if(this.processing=!1,this.progress=null,d=null,F.onFinish)return F.onFinish(O)}};C==="delete"?Bt.delete(_,{...D,data:S}):Bt[C](_,S,D)},get(b,v){this.submit("get",b,v)},post(b,v){this.submit("post",b,v)},put(b,v){this.submit("put",b,v)},patch(b,v){this.submit("patch",b,v)},delete(b,v){this.submit("delete",b,v)},cancel(){d&&d.cancel()},__rememberable:s===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(b){Object.assign(this,b.data),this.setError(b.errors)}});return Hs(m,b=>{m.isDirty=!ew(m.data(),a),s&&Bt.remember(kn(b.__remember()),s)},{immediate:!0,deep:!0}),m}var Pn=de(null),sn=de(null),Sc=ox(null),Il=de(null),$u=null,u7=rr({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:s,titleCallback:r,onHeadUpdate:i}){Pn.value=t?pu(t):null,sn.value=e,Il.value=null;const a=typeof window>"u";return $u=QC(a,r,i),a||(Bt.init({initialPage:e,resolveComponent:s,swapComponent:async d=>{Pn.value=pu(d.component),sn.value=d.page,Il.value=d.preserveState?Il.value:Date.now()}}),Bt.on("navigate",()=>$u.forceUpdate())),()=>{if(Pn.value){Pn.value.inheritAttrs=!!Pn.value.inheritAttrs;const d=Sn(Pn.value,{...sn.value.props,key:Il.value});return Sc.value&&(Pn.value.layout=Sc.value,Sc.value=null),Pn.value.layout?typeof Pn.value.layout=="function"?Pn.value.layout(Sn,d):(Array.isArray(Pn.value.layout)?Pn.value.layout:[Pn.value.layout]).concat(d).reverse().reduce((u,g)=>(g.inheritAttrs=!!g.inheritAttrs,Sn(g,{...sn.value.props},()=>u))):d}}}}),x7=u7,f7={install(e){Bt.form=xl,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>Bt}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>sn.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>$u}),e.mixin(c7)}};function Xs(){return Mr({props:Ze(()=>sn.value?.props),url:Ze(()=>sn.value?.url),component:Ze(()=>sn.value?.component),version:Ze(()=>sn.value?.version),clearHistory:Ze(()=>sn.value?.clearHistory),deferredProps:Ze(()=>sn.value?.deferredProps),mergeProps:Ze(()=>sn.value?.mergeProps),prependProps:Ze(()=>sn.value?.prependProps),deepMergeProps:Ze(()=>sn.value?.deepMergeProps),matchPropsOn:Ze(()=>sn.value?.matchPropsOn),rememberedState:Ze(()=>sn.value?.rememberedState),encryptHistory:Ze(()=>sn.value?.encryptHistory)})}async function h7({id:e="app",resolve:t,setup:s,title:r,progress:i={},page:a,render:d}){const u=typeof window>"u",g=u?null:document.getElementById(e),h=a||JSON.parse(g.dataset.page),m=C=>Promise.resolve(t(C)).then(_=>_.default||_);let b=[];const v=await Promise.all([m(h.component),Bt.decryptHistory().catch(()=>{})]).then(([C])=>s({el:g,App:x7,props:{initialPage:h,initialComponent:C,resolveComponent:m,titleCallback:r,onHeadUpdate:u?_=>b=_:null},plugin:f7}));if(!u&&i&&l7(i),u){const C=await d(L9({render:()=>Sn("div",{id:e,"data-page":JSON.stringify(h),innerHTML:v?d(v):""})}));return{head:b,body:C}}}var Er=()=>{},g7=rr({name:"Link",props:{as:{type:[String,Object],default:"a"},data:{type:Object,default:()=>({})},href:{type:[String,Object],default:""},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},async:{type:Boolean,default:!1},prefetch:{type:[Boolean,String,Array],default:!1},cacheFor:{type:[Number,String,Array],default:0},onStart:{type:Function,default:Er},onProgress:{type:Function,default:Er},onFinish:{type:Function,default:Er},onBefore:{type:Function,default:Er},onCancel:{type:Function,default:Er},onSuccess:{type:Function,default:Er},onError:{type:Function,default:Er},onCancelToken:{type:Function,default:Er},onPrefetching:{type:Function,default:Er},onPrefetched:{type:Function,default:Er},cacheTags:{type:[String,Array],default:()=>[]}},setup(e,{slots:t,attrs:s}){const r=de(0),i=de(null),a=Ze(()=>e.prefetch===!0?["hover"]:e.prefetch===!1?[]:Array.isArray(e.prefetch)?e.prefetch:[e.prefetch]),d=Ze(()=>e.cacheFor!==0?e.cacheFor:a.value.length===1&&a.value[0]==="click"?0:3e4);gn(()=>{a.value.includes("mount")&&F()}),ni(()=>{clearTimeout(i.value)});const u=Ze(()=>A0(e.href)?e.href.method:e.method.toLowerCase()),g=Ze(()=>typeof e.as!="string"||e.as.toLowerCase()!=="a"?e.as:u.value!=="get"?"button":e.as.toLowerCase()),h=Ze(()=>hb(u.value,A0(e.href)?e.href.url:e.href,e.data,e.queryStringArrayFormat)),m=Ze(()=>h.value[0]),b=Ze(()=>h.value[1]),v=Ze(()=>g.value==="button"?{type:"button"}:g.value==="a"||typeof g.value!="string"?{href:m.value}:{}),C=Ze(()=>({data:b.value,method:u.value,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??u.value!=="get",only:e.only,except:e.except,headers:e.headers,async:e.async})),_=Ze(()=>({...C.value,onCancelToken:e.onCancelToken,onBefore:e.onBefore,onStart:P=>{r.value++,e.onStart(P)},onProgress:e.onProgress,onFinish:P=>{r.value--,e.onFinish(P)},onCancel:e.onCancel,onSuccess:e.onSuccess,onError:e.onError})),F=()=>{Bt.prefetch(m.value,{...C.value,onPrefetching:e.onPrefetching,onPrefetched:e.onPrefetched},{cacheFor:d.value,cacheTags:e.cacheTags})},S={onClick:P=>{Ml(P)&&(P.preventDefault(),Bt.visit(m.value,_.value))}},D={onMouseenter:()=>{i.value=setTimeout(()=>{F()},75)},onMouseleave:()=>{clearTimeout(i.value)},onClick:S.onClick},O={onMousedown:P=>{Ml(P)&&(P.preventDefault(),F())},onKeydown:P=>{Ml(P)&&Lh(P)&&(P.preventDefault(),F())},onMouseup:P=>{P.preventDefault(),Bt.visit(m.value,_.value)},onKeyup:P=>{Lh(P)&&(P.preventDefault(),Bt.visit(m.value,_.value))},onClick:P=>{Ml(P)&&P.preventDefault()}};return()=>Sn(g.value,{...s,...v.value,"data-loading":r.value>0?"":void 0,...a.value.includes("hover")?D:a.value.includes("click")?O:S},t)}}),rs=g7;const p7={class:"min-h-screen flex items-center justify-center bg-gradient-to-br px-4 py-8",style:{"background-color":"#035930"}},m7={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl w-full"},b7={class:"bg-white rounded-2xl shadow-2xl p-8 h-fit"},y7={class:"space-y-3"},v7={class:"border border-blue-200 rounded-lg p-4 hover:shadow-md transition"},w7={class:"border border-purple-200 rounded-lg p-4 hover:shadow-md transition"},E7={class:"border border-green-200 rounded-lg p-4 hover:shadow-md transition"},C7={class:"border border-orange-200 rounded-lg p-4 hover:shadow-md transition"},A7={class:"border border-red-200 rounded-lg p-4 hover:shadow-md transition"},k7={class:"border border-indigo-200 rounded-lg p-4 hover:shadow-md transition"},B7={class:"max-w-md w-full"},_7={class:"bg-white rounded-2xl shadow-2xl p-8"},D7={class:"relative"},S7={key:0,class:"text-red-500 text-sm mt-1 flex items-center"},F7={class:"relative"},T7=["type"],M7={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I7={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P7={class:"space-y-2"},R7={class:"flex items-center justify-between"},O7={class:"flex items-center cursor-pointer"},N7=["disabled"],$7={key:0,class:"flex items-center justify-center"},L7={key:1,class:"flex items-center justify-center"},j7={class:"mt-6 text-center"},U7={class:"text-sm text-gray-600"},H7={__name:"Login",setup(e){const t=de(!1),s=xl({identifier:"",password:"",remember:!1,database_connection:"mysql"}),r=()=>{s.post("/login",{onFinish:()=>{Object.keys(s.errors).length>0&&(s.password="")}})},i=(a,d)=>{s.identifier=a,s.password=d,s.remember=!0,s.database_connection="mysql",_n(()=>{r()})};return(a,d)=>(T(),R("div",p7,[n("div",m7,[n("div",b7,[d[18]||(d[18]=n("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),Oe(" Akun Testing ")],-1)),d[19]||(d[19]=n("p",{class:"text-sm text-gray-600 mb-4"},"Pilih salah satu akun di bawah untuk langsung login:",-1)),n("div",y7,[n("div",v7,[d[12]||(d[12]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",null,[n("p",{class:"font-semibold text-blue-700"},"IT"),n("p",{class:"text-xs text-gray-600"},"it@gondowangi.com")]),n("span",{class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-semibold"},"Full Access")],-1)),n("button",{onClick:d[0]||(d[0]=u=>i("it@gondowangi.com","gondowangi-123")),class:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 rounded transition"}," Login ")]),n("div",w7,[d[13]||(d[13]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",null,[n("p",{class:"font-semibold text-purple-700"},"Logistik SPV"),n("p",{class:"text-xs text-gray-600"},"spv.log@gondowangi.com")]),n("span",{class:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded font-semibold"},"Read+Write")],-1)),n("button",{onClick:d[1]||(d[1]=u=>i("spv.log@gondowangi.com","gondowangi-123")),class:"w-full bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold py-2 rounded transition"}," Login ")]),n("div",E7,[d[14]||(d[14]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",null,[n("p",{class:"font-semibold text-green-700"},"Logistik Admin"),n("p",{class:"text-xs text-gray-600"},"adm.log@gondowangi.com")]),n("span",{class:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded font-semibold"},"Admin")],-1)),n("button",{onClick:d[2]||(d[2]=u=>i("adm.log@gondowangi.com","gondowangi-123")),class:"w-full bg-green-600 hover:bg-green-700 text-white text-sm font-semibold py-2 rounded transition"}," Login ")]),n("div",C7,[d[15]||(d[15]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",null,[n("p",{class:"font-semibold text-orange-700"},"Logistik Operator"),n("p",{class:"text-xs text-gray-600"},"op.log@gondowangi.com")]),n("span",{class:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded font-semibold"},"Operator")],-1)),n("button",{onClick:d[3]||(d[3]=u=>i("op.log@gondowangi.com","gondowangi-123")),class:"w-full bg-orange-600 hover:bg-orange-700 text-white text-sm font-semibold py-2 rounded transition"}," Login ")]),n("div",A7,[d[16]||(d[16]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",null,[n("p",{class:"font-semibold text-red-700"},"QAC"),n("p",{class:"text-xs text-gray-600"},"qac@gondowangi.com")]),n("span",{class:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded font-semibold"},"QC Only")],-1)),n("button",{onClick:d[4]||(d[4]=u=>i("qac@gondowangi.com","gondowangi-123")),class:"w-full bg-red-600 hover:bg-red-700 text-white text-sm font-semibold py-2 rounded transition"}," Login ")]),n("div",k7,[d[17]||(d[17]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",null,[n("p",{class:"font-semibold text-indigo-700"},"Produksi"),n("p",{class:"text-xs text-gray-600"},"prod@gondowangi.com")]),n("span",{class:"text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded font-semibold"},"Limited")],-1)),n("button",{onClick:d[5]||(d[5]=u=>i("prod@gondowangi.com","gondowangi-123")),class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2 rounded transition"}," Login ")])]),d[20]||(d[20]=n("div",{class:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},[n("p",{class:"text-xs text-blue-700"},[n("span",{class:"font-semibold"}," Tips:"),Oe(' Klik tombol "Login" untuk langsung login dengan akun tersebut ')])],-1))]),n("div",B7,[n("div",_7,[d[37]||(d[37]=n("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center"},"Login",-1)),n("form",{onSubmit:Os(r,["prevent"]),class:"space-y-5"},[n("div",null,[d[23]||(d[23]=n("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," NIK atau Email ",-1)),n("div",D7,[d[21]||(d[21]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),we(n("input",{"onUpdate:modelValue":d[6]||(d[6]=u=>We(s).identifier=u),type:"text",class:Se(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":We(s).errors.identifier}]),placeholder:"Masukkan NIK atau Email",required:""},null,2),[[Ve,We(s).identifier]])]),We(s).errors.identifier?(T(),R("div",S7,[d[22]||(d[22]=n("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),Oe(" "+A(We(s).errors.identifier),1)])):se("",!0)]),n("div",null,[d[27]||(d[27]=n("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," Password ",-1)),n("div",F7,[d[26]||(d[26]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),we(n("input",{"onUpdate:modelValue":d[7]||(d[7]=u=>We(s).password=u),type:t.value?"text":"password",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Masukkan password",required:""},null,8,T7),[[T9,We(s).password]]),n("button",{type:"button",onClick:d[8]||(d[8]=u=>t.value=!t.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[t.value?(T(),R("svg",I7,[...d[25]||(d[25]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(T(),R("svg",M7,[...d[24]||(d[24]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),n("div",null,[d[30]||(d[30]=n("label",{class:"block text-gray-700 text-sm font-semibold mb-2"},[n("svg",{class:"inline-block w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})]),Oe(" Pilih Database ")],-1)),n("div",P7,[n("label",{class:Se(["flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md",We(s).database_connection==="mysql"?"border-green-500 bg-green-50":"border-gray-300 bg-white hover:border-green-300"])},[we(n("input",{"onUpdate:modelValue":d[9]||(d[9]=u=>We(s).database_connection=u),type:"radio",value:"mysql",class:"w-4 h-4 text-green-600 focus:ring-green-500"},null,512),[[ri,We(s).database_connection]]),d[28]||(d[28]=Bf('<div class="ml-3 flex-1"><div class="flex items-center"><span class="font-semibold text-gray-800">Production Database</span><span class="ml-2 px-2 py-0.5 bg-green-100 text-green-800 text-xs font-semibold rounded">MAIN</span></div><span class="text-xs text-gray-600">Database utama untuk operasional</span></div>',1))],2),n("label",{class:Se(["flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md",We(s).database_connection==="mysql_testing"?"border-orange-500 bg-orange-50":"border-gray-300 bg-white hover:border-orange-300"])},[we(n("input",{"onUpdate:modelValue":d[10]||(d[10]=u=>We(s).database_connection=u),type:"radio",value:"mysql_testing",class:"w-4 h-4 text-orange-600 focus:ring-orange-500"},null,512),[[ri,We(s).database_connection]]),d[29]||(d[29]=Bf('<div class="ml-3 flex-1"><div class="flex items-center"><span class="font-semibold text-gray-800">Testing Database</span><span class="ml-2 px-2 py-0.5 bg-orange-100 text-orange-800 text-xs font-semibold rounded">TEST</span></div><span class="text-xs text-gray-600">Database untuk testing dan percobaan</span></div>',1))],2)])]),n("div",R7,[n("label",O7,[we(n("input",{"onUpdate:modelValue":d[11]||(d[11]=u=>We(s).remember=u),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Yn,We(s).remember]]),d[31]||(d[31]=n("span",{class:"ml-2 text-sm text-gray-700"},"Ingat Saya",-1))]),d[32]||(d[32]=n("a",{href:"#",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"}," Lupa Password? ",-1))]),n("button",{type:"submit",disabled:We(s).processing,class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[We(s).processing?(T(),R("span",$7,[...d[33]||(d[33]=[n("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Oe(" Memproses... ",-1)])])):(T(),R("span",L7,[...d[34]||(d[34]=[n("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),Oe(" Login ",-1)])]))],8,N7)],32),n("div",j7,[n("p",U7,[d[36]||(d[36]=Oe(" Belum punya akun? ",-1)),ss(We(rs),{href:"/register",class:"text-blue-600 hover:text-blue-800 font-semibold hover:underline"},{default:_t(()=>[...d[35]||(d[35]=[Oe(" Daftar Sekarang ",-1)])]),_:1})])])]),d[38]||(d[38]=n("div",{class:"text-center mt-8 text-blue-100 text-sm"},[n("p",null," 2025 Gondowangi WMS. All rights reserved.")],-1))])])]))}},z7=Object.freeze(Object.defineProperty({__proto__:null,default:H7},Symbol.toStringTag,{value:"Module"})),V7={class:"min-h-screen flex items-center justify-center bg-gray-100"},q7={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},W7={class:"mb-4"},Q7={key:0,class:"text-red-500 text-sm mt-1"},G7={class:"mb-4"},K7={key:0,class:"text-red-500 text-sm mt-1"},Y7={class:"mb-4"},X7={key:0,class:"text-red-500 text-sm mt-1"},J7={class:"mb-4"},Z7={key:0,class:"text-red-500 text-sm mt-1"},eA={class:"mb-4"},tA={key:0,class:"text-red-500 text-sm mt-1"},sA={class:"mb-4"},nA={key:0,class:"text-red-500 text-sm mt-1"},rA={class:"mb-6"},oA=["disabled"],iA={key:0},aA={key:1},lA={class:"text-center mt-4"},dA={__name:"Register",setup(e){const t=xl({nik:"",nama_lengkap:"",email:"",departement:"",jabatan:"",password:"",password_confirmation:""}),s=()=>{t.post("/register")};return(r,i)=>(T(),R("div",V7,[n("div",q7,[i[15]||(i[15]=n("h2",{class:"text-2xl font-bold text-center mb-6"},"Daftar Akun WMS [test git]",-1)),n("form",{onSubmit:Os(s,["prevent"])},[n("div",W7,[i[7]||(i[7]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Oe(" NIK "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>We(t).nik=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan NIK",required:""},null,512),[[Ve,We(t).nik]]),We(t).errors.nik?(T(),R("div",Q7,A(We(t).errors.nik),1)):se("",!0)]),n("div",G7,[i[8]||(i[8]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Oe(" Nama Lengkap "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":i[1]||(i[1]=a=>We(t).nama_lengkap=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan nama lengkap",required:""},null,512),[[Ve,We(t).nama_lengkap]]),We(t).errors.nama_lengkap?(T(),R("div",K7,A(We(t).errors.nama_lengkap),1)):se("",!0)]),n("div",Y7,[i[9]||(i[9]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Oe(" Email "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":i[2]||(i[2]=a=>We(t).email=a),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan email",required:""},null,512),[[Ve,We(t).email]]),We(t).errors.email?(T(),R("div",X7,A(We(t).errors.email),1)):se("",!0)]),n("div",J7,[i[10]||(i[10]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Departement ",-1)),we(n("input",{"onUpdate:modelValue":i[3]||(i[3]=a=>We(t).departement=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Produksi, Warehouse, QC"},null,512),[[Ve,We(t).departement]]),We(t).errors.departement?(T(),R("div",Z7,A(We(t).errors.departement),1)):se("",!0)]),n("div",eA,[i[11]||(i[11]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Jabatan ",-1)),we(n("input",{"onUpdate:modelValue":i[4]||(i[4]=a=>We(t).jabatan=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Staff, Supervisor, Manager"},null,512),[[Ve,We(t).jabatan]]),We(t).errors.jabatan?(T(),R("div",tA,A(We(t).errors.jabatan),1)):se("",!0)]),n("div",sA,[i[12]||(i[12]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Oe(" Password "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":i[5]||(i[5]=a=>We(t).password=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Minimal 8 karakter",required:""},null,512),[[Ve,We(t).password]]),We(t).errors.password?(T(),R("div",nA,A(We(t).errors.password),1)):se("",!0)]),n("div",rA,[i[13]||(i[13]=n("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Oe(" Konfirmasi Password "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":i[6]||(i[6]=a=>We(t).password_confirmation=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ulangi password",required:""},null,512),[[Ve,We(t).password_confirmation]])]),n("button",{type:"submit",disabled:We(t).processing,class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-200 disabled:opacity-50"},[We(t).processing?(T(),R("span",iA,"Loading...")):(T(),R("span",aA,"Daftar"))],8,oA),n("div",lA,[ss(We(rs),{href:"/login",class:"text-blue-500 hover:underline text-sm"},{default:_t(()=>[...i[14]||(i[14]=[Oe(" Sudah punya akun? Login ",-1)])]),_:1})])],32)])]))}},cA=Object.freeze(Object.defineProperty({__proto__:null,default:dA},Symbol.toStringTag,{value:"Module"}));function uA(){const e=Xs(),t=Ze(()=>e.props.permissions||[]),s=a=>t.value.includes(a);return{permissions:t,hasPermission:s,hasAnyPermission:a=>a.some(d=>s(d)),hasAllPermissions:a=>a.every(d=>s(d))}}const xA={class:"h-screen flex bg-gray-100 overflow-hidden"},fA={class:"p-4 border-b border-gray-200 flex items-center justify-between"},hA={class:"flex items-center space-x-2"},gA={class:"flex items-center space-x-2"},pA={class:"flex-1 overflow-y-auto py-4"},mA={class:"space-y-1 px-2"},bA={class:"font-medium"},yA={class:"font-medium"},vA={class:"font-medium"},wA={class:"font-medium"},EA={class:"font-medium"},CA={key:5,class:"my-4 px-2"},AA={class:"mt-3 mb-2 px-2"},kA={class:"font-medium"},BA={class:"font-medium"},_A={class:"font-medium flex-1"},DA={class:"font-medium"},SA={class:"font-medium flex-1"},FA={class:"font-medium flex-1"},TA={class:"font-medium flex-1"},MA={key:13,class:"my-4 px-2"},IA={class:"mt-3 mb-2 px-2"},PA={class:"font-medium"},RA={class:"font-medium"},OA={class:"border-t border-gray-200 p-4"},NA={class:"flex items-center space-x-3"},$A={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},LA={class:"text-white font-semibold text-sm"},jA={class:"flex-1 min-w-0"},UA={class:"text-sm font-medium text-gray-800 truncate"},HA={class:"text-xs text-gray-500 truncate"},zA={class:"p-4 border-b border-gray-200 flex items-center justify-between"},VA={class:"flex-1 overflow-y-auto py-4"},qA={class:"space-y-1 px-2"},WA={key:5,class:"my-4 px-2"},QA={key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},GA={key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},KA={key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},YA={key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},XA={key:13,class:"my-4 px-2"},JA={class:"border-t border-gray-200 p-4"},ZA={class:"flex items-center space-x-3 mb-3"},ek={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},tk={class:"text-white font-semibold text-sm"},sk={class:"flex-1 min-w-0"},nk={class:"text-sm font-medium text-gray-800 truncate"},rk={class:"text-xs text-gray-500 truncate"},ok={class:"flex-1 flex flex-col min-w-0"},ik={class:"bg-white shadow-sm"},ak={class:"px-4 lg:px-6 py-3 lg:py-4 flex items-center justify-between"},lk={class:"flex items-center gap-3"},dk={class:"text-lg lg:text-2xl font-bold text-gray-800"},ck={class:"text-xs lg:text-sm text-gray-500 mt-0.5 lg:mt-1 hidden sm:block"},uk={class:"flex items-center space-x-2 lg:space-x-4"},xk=["title"],fk={class:"hidden sm:inline"},hk={class:"hidden lg:flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg"},gk={class:"text-right"},pk={class:"text-sm font-medium text-gray-800"},mk={class:"text-xs text-gray-500"},bk={class:"flex-1 overflow-y-auto p-4 lg:p-6 bg-gray-50"},pn={__name:"AppLayout",props:{pageTitle:{type:String,default:"Dashboard"},pageDescription:{type:String,default:"Selamat datang di Warehouse Management System"}},setup(e){const t=Xs(),{hasAnyPermission:s}=uA();console.log("DEBUG: User Role:",t.props.auth.user?.role?.name),console.log("DEBUG: Permissions:",t.props.permissions);const r=de(!0),i=de(!1),a=Ze(()=>s(["incoming.view","incoming.create","qc.view","qc.input_qc_result","putaway.view","putaway.kerjakan_to","reservation.view","reservation.create_request","picking.view","picking.kerjakan_picking","return.view","return.create_return"])),d=Ze(()=>{const b=t.props.auth.user.name,v=b.split(" ");return v.length>=2?v[0][0]+v[1][0]:b.substring(0,2).toUpperCase()}),u=()=>{Bt.post("/logout")},g=Ze(()=>t.props.selectedDatabase||"mysql"),h=b=>{const v=t.url.split("?")[0],C=v===b||v.startsWith(b+"/"),_="flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200";return C?`${_} bg-[#157347] text-white shadow-lg`:`${_} text-gray-700 hover:bg-gray-100`},m=b=>{const v=t.url.split("?")[0],C=v===b||v.startsWith(b+"/"),_="flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200";return C?`${_} bg-[#157347] text-white shadow-lg`:`${_} text-gray-700 hover:bg-gray-100`};return(b,v)=>(T(),R("div",xA,[i.value?(T(),R("div",{key:0,onClick:v[0]||(v[0]=C=>i.value=!1),class:"fixed inset-0 bg-black/50 z-40 lg:hidden"})):se("",!0),n("aside",{class:Se(["bg-white text-gray-800 shadow-lg","transition-all duration-300 flex flex-col","border-r border-gray-200","hidden lg:flex",r.value?"lg:w-64":"lg:w-20"])},[n("div",fA,[we(n("div",hA,[...v[18]||(v[18]=[n("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),n("span",{class:"text-xl font-bold text-gray-800"},"WMS",-1)])],512),[[ms,r.value]]),n("div",gA,[n("button",{onClick:v[1]||(v[1]=C=>r.value=!r.value),class:"p-2 rounded hover:bg-gray-100 transition"},[...v[19]||(v[19]=[n("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])]),n("nav",pA,[n("div",mA,[We(s)(["dashboard.wms"])?(T(),Dt(We(rs),{key:0,href:"/wms-dashboard",class:Se(h("/wms-dashboard"))},{default:_t(()=>[v[20]||(v[20]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),we(n("span",bA,"Dashboard",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["onhand.view"])?(T(),Dt(We(rs),{key:1,href:"/dashboard",class:Se(h("/dashboard"))},{default:_t(()=>[v[21]||(v[21]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)),we(n("span",yA,"On Hand",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["cycle_count.view"])?(T(),Dt(We(rs),{key:2,href:"/transaction/cycle-count",class:Se(h("/transaction/cycle-count"))},{default:_t(()=>[v[22]||(v[22]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v6h6M20 20v-6h-6"})],-1)),we(n("span",vA,"Cycle Count",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["activity_log.view_all","activity_log.view_self"])?(T(),Dt(We(rs),{key:3,href:"/activity-log",class:Se(h("/activity-log"))},{default:_t(()=>[v[23]||(v[23]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),we(n("span",wA,"Riwayat Aktivitas",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["it_dashboard.view"])?(T(),Dt(We(rs),{key:4,href:"/it-dashboard",class:Se(h("/it-dashboard"))},{default:_t(()=>[v[24]||(v[24]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),we(n("span",EA,"IT Dashboard",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),a.value?(T(),R("div",CA,[v[26]||(v[26]=n("div",{class:"border-t border-gray-200"},null,-1)),we(n("div",AA,[...v[25]||(v[25]=[n("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Transaksi ",-1)])],512),[[ms,r.value]])])):se("",!0),We(s)(["incoming.view","incoming.create","incoming.edit"])?(T(),Dt(We(rs),{key:6,href:"/transaction/goods-receipt",class:Se(h("/transaction/goods-receipt"))},{default:_t(()=>[v[27]||(v[27]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),we(n("span",kA,"Penerimaan Barang",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["qc.view","qc.input_qc_result","qc.approve"])?(T(),Dt(We(rs),{key:7,href:"/transaction/quality-control",class:Se(h("/transaction/quality-control"))},{default:_t(()=>[v[28]||(v[28]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2l4-4"}),n("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)),we(n("span",BA,"Quality Control",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["putaway.view","putaway.kerjakan_to"])?(T(),Dt(We(rs),{key:8,href:"/transaction/putaway-transfer",class:Se(h("/transaction/putaway-transfer"))},{default:_t(()=>[v[29]||(v[29]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7"})],-1)),we(n("span",_A,"PutAway",512),[[ms,r.value]]),b.$page.props.pendingPutawayCount>0?we((T(),R("span",{key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},A(b.$page.props.pendingPutawayCount),513)),[[ms,r.value]]):se("",!0)]),_:1},8,["class"])):se("",!0),We(s)(["bintobin.view"])?(T(),Dt(We(rs),{key:9,href:"/transaction/bin-to-bin",class:Se(h("/transaction/bin-to-bin"))},{default:_t(()=>[v[30]||(v[30]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)),we(n("span",DA,"Bin to Bin",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["reservation.view","reservation.create","reservation.approve"])?(T(),Dt(We(rs),{key:10,href:"/transaction/reservation",class:Se(h("/transaction/reservation"))},{default:_t(()=>[v[31]||(v[31]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 2v4M8 2v4"})],-1)),we(n("span",SA,"Reservation",512),[[ms,r.value]]),b.$page.props.inProgressReservationCount>0?we((T(),R("span",{key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},A(b.$page.props.inProgressReservationCount),513)),[[ms,r.value]]):se("",!0)]),_:1},8,["class"])):se("",!0),We(s)(["picking.view","picking.execute"])?(T(),Dt(We(rs),{key:11,href:"/transaction/picking-list",class:Se(h("/transaction/picking-list"))},{default:_t(()=>[v[32]||(v[32]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 9h6M9 13h6"})],-1)),we(n("span",FA,"Picking List",512),[[ms,r.value]]),b.$page.props.pendingPickingCount>0?we((T(),R("span",{key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},A(b.$page.props.pendingPickingCount),513)),[[ms,r.value]]):se("",!0)]),_:1},8,["class"])):se("",!0),We(s)(["return.view","return.create","return.approve"])?(T(),Dt(We(rs),{key:12,href:"/transaction/return",class:Se(h("/transaction/return"))},{default:_t(()=>[v[33]||(v[33]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h5M20 20v-5h-5m-1 5a8 8 0 01-14.8-3h-2m.2-2h-2m14-3h-2m-1 5a8 8 0 01-14.8-3"})],-1)),we(n("span",TA,"Return",512),[[ms,r.value]]),b.$page.props.pendingReturnCount>0?we((T(),R("span",{key:0,class:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},A(b.$page.props.pendingReturnCount),513)),[[ms,r.value]]):se("",!0)]),_:1},8,["class"])):se("",!0),a.value?(T(),R("div",MA,[v[35]||(v[35]=n("div",{class:"border-t border-gray-200"},null,-1)),we(n("div",IA,[...v[34]||(v[34]=[n("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Kelola ",-1)])],512),[[ms,r.value]])])):se("",!0),We(s)(["master_data.view"])?(T(),Dt(We(rs),{key:14,href:"/master-data",class:Se(h("/master-data"))},{default:_t(()=>[v[36]||(v[36]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})],-1)),we(n("span",PA,"Master Data",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0),We(s)(["role_permission.view"])?(T(),Dt(We(rs),{key:15,href:"/role-permission",class:Se(h("/role-permission"))},{default:_t(()=>[v[37]||(v[37]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})],-1)),we(n("span",RA,"Role Permission",512),[[ms,r.value]])]),_:1},8,["class"])):se("",!0)])]),n("div",OA,[n("div",NA,[n("div",$A,[n("span",LA,A(d.value),1)]),we(n("div",jA,[n("p",UA,A(b.$page.props.auth.user.name),1),n("p",HA,A(b.$page.props.auth.user.role?.name||"Staff"),1)],512),[[ms,r.value]])]),we(n("button",{onClick:u,class:"mt-3 w-full flex items-center justify-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition text-sm text-white"},[...v[38]||(v[38]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),n("span",null,"Logout",-1)])],512),[[ms,r.value]])])],2),n("aside",{class:Se(["fixed inset-y-0 left-0 z-50 w-72 bg-white shadow-xl","transform transition-transform duration-300 ease-in-out","lg:hidden flex flex-col",i.value?"translate-x-0":"-translate-x-full"])},[n("div",zA,[v[40]||(v[40]=n("div",{class:"flex items-center space-x-2"},[n("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),n("span",{class:"text-xl font-bold text-gray-800"},"WMS")],-1)),n("button",{onClick:v[2]||(v[2]=C=>i.value=!1),class:"p-2 rounded-lg hover:bg-gray-100 transition"},[...v[39]||(v[39]=[n("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("nav",VA,[n("div",qA,[We(s)(["dashboard.wms"])?(T(),Dt(We(rs),{key:0,href:"/wms-dashboard",class:Se(m("/wms-dashboard")),onClick:v[3]||(v[3]=C=>i.value=!1)},{default:_t(()=>[...v[41]||(v[41]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),n("span",{class:"font-medium"},"Dashboard",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["onhand.view"])?(T(),Dt(We(rs),{key:1,href:"/dashboard",class:Se(m("/dashboard")),onClick:v[4]||(v[4]=C=>i.value=!1)},{default:_t(()=>[...v[42]||(v[42]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),n("span",{class:"font-medium"},"On Hand",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["cycle_count.view"])?(T(),Dt(We(rs),{key:2,href:"/transaction/cycle-count",class:Se(m("/transaction/cycle-count")),onClick:v[5]||(v[5]=C=>i.value=!1)},{default:_t(()=>[...v[43]||(v[43]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v6h6M20 20v-6h-6"})],-1),n("span",{class:"font-medium"},"Cycle Count",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view"])?(T(),Dt(We(rs),{key:3,href:"/activity-log",class:Se(m("/activity-log")),onClick:v[6]||(v[6]=C=>i.value=!1)},{default:_t(()=>[...v[44]||(v[44]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),n("span",{class:"font-medium"},"Riwayat Aktivitas",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["it_dashboard.view"])?(T(),Dt(We(rs),{key:4,href:"/it-dashboard",class:Se(m("/it-dashboard")),onClick:v[7]||(v[7]=C=>i.value=!1)},{default:_t(()=>[...v[45]||(v[45]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),n("span",{class:"font-medium"},"IT Dashboard",-1)])]),_:1},8,["class"])):se("",!0),a.value?(T(),R("div",WA,[...v[46]||(v[46]=[n("div",{class:"border-t border-gray-200"},null,-1),n("div",{class:"mt-3 mb-2 px-2"},[n("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Transaksi ")],-1)])])):se("",!0),We(s)(["incoming.view","incoming.create","incoming.edit"])?(T(),Dt(We(rs),{key:6,href:"/transaction/goods-receipt",class:Se(m("/transaction/goods-receipt")),onClick:v[8]||(v[8]=C=>i.value=!1)},{default:_t(()=>[...v[47]||(v[47]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),n("span",{class:"font-medium"},"Penerimaan Barang",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["qc.view","qc.input_qc_result","qc.approve"])?(T(),Dt(We(rs),{key:7,href:"/transaction/quality-control",class:Se(m("/transaction/quality-control")),onClick:v[9]||(v[9]=C=>i.value=!1)},{default:_t(()=>[...v[48]||(v[48]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2l4-4"}),n("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1),n("span",{class:"font-medium"},"Quality Control",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["putaway.view","putaway.kerjakan_to"])?(T(),Dt(We(rs),{key:8,href:"/transaction/putaway-transfer",class:Se(m("/transaction/putaway-transfer")),onClick:v[10]||(v[10]=C=>i.value=!1)},{default:_t(()=>[v[49]||(v[49]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7"})],-1)),v[50]||(v[50]=n("span",{class:"font-medium flex-1"},"PutAway",-1)),b.$page.props.pendingPutawayCount>0?(T(),R("span",QA,A(b.$page.props.pendingPutawayCount),1)):se("",!0)]),_:1},8,["class"])):se("",!0),We(s)(["bin-to-bin.view"])?(T(),Dt(We(rs),{key:9,href:"/transaction/bin-to-bin",class:Se(m("/transaction/bin-to-bin")),onClick:v[11]||(v[11]=C=>i.value=!1)},{default:_t(()=>[...v[51]||(v[51]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),n("span",{class:"font-medium"},"Bin to Bin",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["reservation.view","reservation.create","reservation.approve"])?(T(),Dt(We(rs),{key:10,href:"/transaction/reservation",class:Se(m("/transaction/reservation")),onClick:v[12]||(v[12]=C=>i.value=!1)},{default:_t(()=>[v[52]||(v[52]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 2v4M8 2v4"})],-1)),v[53]||(v[53]=n("span",{class:"font-medium flex-1"},"Reservation",-1)),b.$page.props.inProgressReservationCount>0?(T(),R("span",GA,A(b.$page.props.inProgressReservationCount),1)):se("",!0)]),_:1},8,["class"])):se("",!0),We(s)(["picking.view","picking.execute"])?(T(),Dt(We(rs),{key:11,href:"/transaction/picking-list",class:Se(m("/transaction/picking-list")),onClick:v[13]||(v[13]=C=>i.value=!1)},{default:_t(()=>[v[54]||(v[54]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 9h6M9 13h6"})],-1)),v[55]||(v[55]=n("span",{class:"font-medium flex-1"},"Picking List",-1)),b.$page.props.pendingPickingCount>0?(T(),R("span",KA,A(b.$page.props.pendingPickingCount),1)):se("",!0)]),_:1},8,["class"])):se("",!0),We(s)(["return.view","return.create","return.approve"])?(T(),Dt(We(rs),{key:12,href:"/transaction/return",class:Se(m("/transaction/return")),onClick:v[14]||(v[14]=C=>i.value=!1)},{default:_t(()=>[v[56]||(v[56]=n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h5M20 20v-5h-5m-1 5a8 8 0 01-14.8-3h-2m.2-2h-2m14-3h-2m-1 5a8 8 0 01-14.8-3"})],-1)),v[57]||(v[57]=n("span",{class:"font-medium flex-1"},"Return",-1)),b.$page.props.pendingReturnCount>0?(T(),R("span",YA,A(b.$page.props.pendingReturnCount),1)):se("",!0)]),_:1},8,["class"])):se("",!0),a.value?(T(),R("div",XA,[...v[58]||(v[58]=[n("div",{class:"border-t border-gray-200"},null,-1),n("div",{class:"mt-3 mb-2 px-2"},[n("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Kelola ")],-1)])])):se("",!0),We(s)(["master_data.view"])?(T(),Dt(We(rs),{key:14,href:"/master-data",class:Se(m("/master-data")),onClick:v[15]||(v[15]=C=>i.value=!1)},{default:_t(()=>[...v[59]||(v[59]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})],-1),n("span",{class:"font-medium"},"Master Data",-1)])]),_:1},8,["class"])):se("",!0),We(s)(["role_permission.view"])?(T(),Dt(We(rs),{key:15,href:"/role-permission",class:Se(m("/role-permission")),onClick:v[16]||(v[16]=C=>i.value=!1)},{default:_t(()=>[...v[60]||(v[60]=[n("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})],-1),n("span",{class:"font-medium"},"Role Permission",-1)])]),_:1},8,["class"])):se("",!0)])]),n("div",JA,[n("div",ZA,[n("div",ek,[n("span",tk,A(d.value),1)]),n("div",sk,[n("p",nk,A(b.$page.props.auth.user.name),1),n("p",rk,A(b.$page.props.auth.user.role?.name||"Staff"),1)])]),n("button",{onClick:u,class:"w-full flex items-center justify-center space-x-2 px-3 py-2.5 bg-red-600 hover:bg-red-700 rounded-lg transition text-sm text-white"},[...v[61]||(v[61]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),n("span",null,"Logout",-1)])])])],2),n("div",ok,[n("header",ik,[n("div",ak,[n("div",lk,[n("button",{onClick:v[17]||(v[17]=C=>i.value=!0),class:"lg:hidden p-2 -ml-2 rounded-lg hover:bg-gray-100 transition"},[...v[62]||(v[62]=[n("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),n("div",null,[n("h1",dk,A(e.pageTitle),1),n("p",ck,A(e.pageDescription),1)])]),n("div",uk,[g.value?(T(),R("div",{key:0,class:Se(["px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg flex items-center space-x-1 lg:space-x-2 text-xs lg:text-sm font-semibold shadow-sm",g.value==="mysql_testing"?"bg-orange-100 text-orange-800 border border-orange-300":"bg-green-100 text-green-800 border border-green-300"]),title:g.value==="mysql_testing"?"Anda sedang menggunakan database Testing":"Anda sedang menggunakan database Production"},[v[63]||(v[63]=n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})],-1)),n("span",fk,A(g.value==="mysql_testing"?"TESTING":"PRODUCTION"),1)],10,xk)):se("",!0),n("div",hk,[n("div",gk,[n("p",pk,A(b.$page.props.auth.user.name),1),n("p",mk,A(b.$page.props.auth.user.nik),1)])])])])]),n("main",bk,[g8(b.$slots,"default")])])]))}};var n0={exports:{}},yk=n0.exports,jh;function vk(){return jh||(jh=1,(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:yk,function(){return(function(s){var r={};function i(a){if(r[a])return r[a].exports;var d=r[a]={i:a,l:!1,exports:{}};return s[a].call(d.exports,d,d.exports,i),d.l=!0,d.exports}return i.m=s,i.c=r,i.d=function(a,d,u){i.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:u})},i.n=function(a){var d=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(d,"a",d),d},i.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)},i.p="",i(i.s=3)})([(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function d(u,g){this.width=g,this.height=u.length/g,this.data=u}return d.createEmpty=function(u,g){return new d(new Uint8ClampedArray(u*g),u)},d.prototype.get=function(u,g){return u<0||u>=this.width||g<0||g>=this.height?!1:!!this.data[g*this.width+u]},d.prototype.set=function(u,g,h){this.data[g*this.width+u]=h?1:0},d.prototype.setRegion=function(u,g,h,m,b){for(var v=g;v<g+m;v++)for(var C=u;C<u+h;C++)this.set(C,v,!!b)},d})();r.BitMatrix=a}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(2);function d(g,h){return g^h}r.addOrSubtractGF=d;var u=(function(){function g(h,m,b){this.primitive=h,this.size=m,this.generatorBase=b,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var v=1,C=0;C<this.size;C++)this.expTable[C]=v,v=v*2,v>=this.size&&(v=(v^this.primitive)&this.size-1);for(var C=0;C<this.size-1;C++)this.logTable[this.expTable[C]]=C;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return g.prototype.multiply=function(h,m){return h===0||m===0?0:this.expTable[(this.logTable[h]+this.logTable[m])%(this.size-1)]},g.prototype.inverse=function(h){if(h===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[h]-1]},g.prototype.buildMonomial=function(h,m){if(h<0)throw new Error("Invalid monomial degree less than 0");if(m===0)return this.zero;var b=new Uint8ClampedArray(h+1);return b[0]=m,new a.default(this,b)},g.prototype.log=function(h){if(h===0)throw new Error("Can't take log(0)");return this.logTable[h]},g.prototype.exp=function(h){return this.expTable[h]},g})();r.default=u}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),d=(function(){function u(g,h){if(h.length===0)throw new Error("No coefficients.");this.field=g;var m=h.length;if(m>1&&h[0]===0){for(var b=1;b<m&&h[b]===0;)b++;if(b===m)this.coefficients=g.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(m-b);for(var v=0;v<this.coefficients.length;v++)this.coefficients[v]=h[b+v]}}else this.coefficients=h}return u.prototype.degree=function(){return this.coefficients.length-1},u.prototype.isZero=function(){return this.coefficients[0]===0},u.prototype.getCoefficient=function(g){return this.coefficients[this.coefficients.length-1-g]},u.prototype.addOrSubtract=function(g){var h;if(this.isZero())return g;if(g.isZero())return this;var m=this.coefficients,b=g.coefficients;m.length>b.length&&(h=[b,m],m=h[0],b=h[1]);for(var v=new Uint8ClampedArray(b.length),C=b.length-m.length,_=0;_<C;_++)v[_]=b[_];for(var _=C;_<b.length;_++)v[_]=a.addOrSubtractGF(m[_-C],b[_]);return new u(this.field,v)},u.prototype.multiply=function(g){if(g===0)return this.field.zero;if(g===1)return this;for(var h=this.coefficients.length,m=new Uint8ClampedArray(h),b=0;b<h;b++)m[b]=this.field.multiply(this.coefficients[b],g);return new u(this.field,m)},u.prototype.multiplyPoly=function(g){if(this.isZero()||g.isZero())return this.field.zero;for(var h=this.coefficients,m=h.length,b=g.coefficients,v=b.length,C=new Uint8ClampedArray(m+v-1),_=0;_<m;_++)for(var F=h[_],S=0;S<v;S++)C[_+S]=a.addOrSubtractGF(C[_+S],this.field.multiply(F,b[S]));return new u(this.field,C)},u.prototype.multiplyByMonomial=function(g,h){if(g<0)throw new Error("Invalid degree less than 0");if(h===0)return this.field.zero;for(var m=this.coefficients.length,b=new Uint8ClampedArray(m+g),v=0;v<m;v++)b[v]=this.field.multiply(this.coefficients[v],h);return new u(this.field,b)},u.prototype.evaluateAt=function(g){var h=0;if(g===0)return this.getCoefficient(0);var m=this.coefficients.length;if(g===1)return this.coefficients.forEach(function(v){h=a.addOrSubtractGF(h,v)}),h;h=this.coefficients[0];for(var b=1;b<m;b++)h=a.addOrSubtractGF(this.field.multiply(g,h),this.coefficients[b]);return h},u})();r.default=d}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),d=i(5),u=i(11),g=i(12);function h(v){var C=g.locate(v);if(!C)return null;for(var _=0,F=C;_<F.length;_++){var S=F[_],D=u.extract(v,S),O=d.decode(D.matrix);if(O)return{binaryData:O.bytes,data:O.text,chunks:O.chunks,version:O.version,location:{topRightCorner:D.mappingFunction(S.dimension,0),topLeftCorner:D.mappingFunction(0,0),bottomRightCorner:D.mappingFunction(S.dimension,S.dimension),bottomLeftCorner:D.mappingFunction(0,S.dimension),topRightFinderPattern:S.topRight,topLeftFinderPattern:S.topLeft,bottomLeftFinderPattern:S.bottomLeft,bottomRightAlignmentPattern:S.alignmentPattern}}}return null}var m={inversionAttempts:"attemptBoth"};function b(v,C,_,F){F===void 0&&(F={});var S=m;Object.keys(S||{}).forEach(function(j){S[j]=F[j]||S[j]});var D=S.inversionAttempts==="attemptBoth"||S.inversionAttempts==="invertFirst",O=S.inversionAttempts==="onlyInvert"||S.inversionAttempts==="invertFirst",P=a.binarize(v,C,_,D),B=P.binarized,U=P.inverted,z=h(O?U:B);return!z&&(S.inversionAttempts==="attemptBoth"||S.inversionAttempts==="invertFirst")&&(z=h(O?B:U)),z}b.default=b,r.default=b}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),d=8,u=24;function g(b,v,C){return b<v?v:b>C?C:b}var h=(function(){function b(v,C){this.width=v,this.data=new Uint8ClampedArray(v*C)}return b.prototype.get=function(v,C){return this.data[C*this.width+v]},b.prototype.set=function(v,C,_){this.data[C*this.width+v]=_},b})();function m(b,v,C,_){if(b.length!==v*C*4)throw new Error("Malformed data passed to binarizer.");for(var F=new h(v,C),S=0;S<v;S++)for(var D=0;D<C;D++){var O=b[(D*v+S)*4+0],P=b[(D*v+S)*4+1],B=b[(D*v+S)*4+2];F.set(S,D,.2126*O+.7152*P+.0722*B)}for(var U=Math.ceil(v/d),z=Math.ceil(C/d),j=new h(U,z),H=0;H<z;H++)for(var I=0;I<U;I++){for(var $=0,J=1/0,K=0,D=0;D<d;D++)for(var S=0;S<d;S++){var ie=F.get(I*d+S,H*d+D);$+=ie,J=Math.min(J,ie),K=Math.max(K,ie)}var fe=$/Math.pow(d,2);if(K-J<=u&&(fe=J/2,H>0&&I>0)){var q=(j.get(I,H-1)+2*j.get(I-1,H)+j.get(I-1,H-1))/4;J<q&&(fe=q)}j.set(I,H,fe)}var le=a.BitMatrix.createEmpty(v,C),he=null;_&&(he=a.BitMatrix.createEmpty(v,C));for(var H=0;H<z;H++)for(var I=0;I<U;I++){for(var ve=g(I,2,U-3),Ie=g(H,2,z-3),$=0,Ue=-2;Ue<=2;Ue++)for(var be=-2;be<=2;be++)$+=j.get(ve+Ue,Ie+be);for(var qe=$/25,Ue=0;Ue<d;Ue++)for(var be=0;be<d;be++){var S=I*d+Ue,D=H*d+be,ot=F.get(S,D);le.set(S,D,ot<=qe),_&&he.set(S,D,!(ot<=qe))}}return _?{binarized:le,inverted:he}:{binarized:le}}r.binarize=m}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),d=i(6),u=i(9),g=i(10);function h(B,U){for(var z=B^U,j=0;z;)j++,z&=z-1;return j}function m(B,U){return U<<1|B}var b=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],v=[function(B){return(B.y+B.x)%2===0},function(B){return B.y%2===0},function(B){return B.x%3===0},function(B){return(B.y+B.x)%3===0},function(B){return(Math.floor(B.y/2)+Math.floor(B.x/3))%2===0},function(B){return B.x*B.y%2+B.x*B.y%3===0},function(B){return(B.y*B.x%2+B.y*B.x%3)%2===0},function(B){return((B.y+B.x)%2+B.y*B.x%3)%2===0}];function C(B){var U=17+4*B.versionNumber,z=a.BitMatrix.createEmpty(U,U);z.setRegion(0,0,9,9,!0),z.setRegion(U-8,0,8,9,!0),z.setRegion(0,U-8,9,8,!0);for(var j=0,H=B.alignmentPatternCenters;j<H.length;j++)for(var I=H[j],$=0,J=B.alignmentPatternCenters;$<J.length;$++){var K=J[$];I===6&&K===6||I===6&&K===U-7||I===U-7&&K===6||z.setRegion(I-2,K-2,5,5,!0)}return z.setRegion(6,9,1,U-17,!0),z.setRegion(9,6,U-17,1,!0),B.versionNumber>6&&(z.setRegion(U-11,0,3,6,!0),z.setRegion(0,U-11,6,3,!0)),z}function _(B,U,z){for(var j=v[z.dataMask],H=B.height,I=C(U),$=[],J=0,K=0,ie=!0,fe=H-1;fe>0;fe-=2){fe===6&&fe--;for(var q=0;q<H;q++)for(var le=ie?H-1-q:q,he=0;he<2;he++){var ve=fe-he;if(!I.get(ve,le)){K++;var Ie=B.get(ve,le);j({y:le,x:ve})&&(Ie=!Ie),J=m(Ie,J),K===8&&($.push(J),K=0,J=0)}}ie=!ie}return $}function F(B){var U=B.height,z=Math.floor((U-17)/4);if(z<=6)return g.VERSIONS[z-1];for(var j=0,H=5;H>=0;H--)for(var I=U-9;I>=U-11;I--)j=m(B.get(I,H),j);for(var $=0,I=5;I>=0;I--)for(var H=U-9;H>=U-11;H--)$=m(B.get(I,H),$);for(var J=1/0,K,ie=0,fe=g.VERSIONS;ie<fe.length;ie++){var q=fe[ie];if(q.infoBits===j||q.infoBits===$)return q;var le=h(j,q.infoBits);le<J&&(K=q,J=le),le=h($,q.infoBits),le<J&&(K=q,J=le)}if(J<=3)return K}function S(B){for(var U=0,z=0;z<=8;z++)z!==6&&(U=m(B.get(z,8),U));for(var j=7;j>=0;j--)j!==6&&(U=m(B.get(8,j),U));for(var H=B.height,I=0,j=H-1;j>=H-7;j--)I=m(B.get(8,j),I);for(var z=H-8;z<H;z++)I=m(B.get(z,8),I);for(var $=1/0,J=null,K=0,ie=b;K<ie.length;K++){var fe=ie[K],q=fe.bits,le=fe.formatInfo;if(q===U||q===I)return le;var he=h(U,q);he<$&&(J=le,$=he),U!==I&&(he=h(I,q),he<$&&(J=le,$=he))}return $<=3?J:null}function D(B,U,z){var j=U.errorCorrectionLevels[z],H=[],I=0;if(j.ecBlocks.forEach(function(Ie){for(var Ue=0;Ue<Ie.numBlocks;Ue++)H.push({numDataCodewords:Ie.dataCodewordsPerBlock,codewords:[]}),I+=Ie.dataCodewordsPerBlock+j.ecCodewordsPerBlock}),B.length<I)return null;B=B.slice(0,I);for(var $=j.ecBlocks[0].dataCodewordsPerBlock,J=0;J<$;J++)for(var K=0,ie=H;K<ie.length;K++){var fe=ie[K];fe.codewords.push(B.shift())}if(j.ecBlocks.length>1)for(var q=j.ecBlocks[0].numBlocks,le=j.ecBlocks[1].numBlocks,J=0;J<le;J++)H[q+J].codewords.push(B.shift());for(;B.length>0;)for(var he=0,ve=H;he<ve.length;he++){var fe=ve[he];fe.codewords.push(B.shift())}return H}function O(B){var U=F(B);if(!U)return null;var z=S(B);if(!z)return null;var j=_(B,U,z),H=D(j,U,z.errorCorrectionLevel);if(!H)return null;for(var I=H.reduce(function(he,ve){return he+ve.numDataCodewords},0),$=new Uint8ClampedArray(I),J=0,K=0,ie=H;K<ie.length;K++){var fe=ie[K],q=u.decode(fe.codewords,fe.codewords.length-fe.numDataCodewords);if(!q)return null;for(var le=0;le<fe.numDataCodewords;le++)$[J++]=q[le]}try{return d.decode($,U.versionNumber)}catch{return null}}function P(B){if(B==null)return null;var U=O(B);if(U)return U;for(var z=0;z<B.width;z++)for(var j=z+1;j<B.height;j++)B.get(z,j)!==B.get(j,z)&&(B.set(z,j,!B.get(z,j)),B.set(j,z,!B.get(j,z)));return O(B)}r.decode=P}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(7),d=i(8),u;(function(F){F.Numeric="numeric",F.Alphanumeric="alphanumeric",F.Byte="byte",F.Kanji="kanji",F.ECI="eci"})(u=r.Mode||(r.Mode={}));var g;(function(F){F[F.Terminator=0]="Terminator",F[F.Numeric=1]="Numeric",F[F.Alphanumeric=2]="Alphanumeric",F[F.Byte=4]="Byte",F[F.Kanji=8]="Kanji",F[F.ECI=7]="ECI"})(g||(g={}));function h(F,S){for(var D=[],O="",P=[10,12,14][S],B=F.readBits(P);B>=3;){var U=F.readBits(10);if(U>=1e3)throw new Error("Invalid numeric value above 999");var z=Math.floor(U/100),j=Math.floor(U/10)%10,H=U%10;D.push(48+z,48+j,48+H),O+=z.toString()+j.toString()+H.toString(),B-=3}if(B===2){var U=F.readBits(7);if(U>=100)throw new Error("Invalid numeric value above 99");var z=Math.floor(U/10),j=U%10;D.push(48+z,48+j),O+=z.toString()+j.toString()}else if(B===1){var U=F.readBits(4);if(U>=10)throw new Error("Invalid numeric value above 9");D.push(48+U),O+=U.toString()}return{bytes:D,text:O}}var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function b(F,S){for(var D=[],O="",P=[9,11,13][S],B=F.readBits(P);B>=2;){var U=F.readBits(11),z=Math.floor(U/45),j=U%45;D.push(m[z].charCodeAt(0),m[j].charCodeAt(0)),O+=m[z]+m[j],B-=2}if(B===1){var z=F.readBits(6);D.push(m[z].charCodeAt(0)),O+=m[z]}return{bytes:D,text:O}}function v(F,S){for(var D=[],O="",P=[8,16,16][S],B=F.readBits(P),U=0;U<B;U++){var z=F.readBits(8);D.push(z)}try{O+=decodeURIComponent(D.map(function(j){return"%"+("0"+j.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:D,text:O}}function C(F,S){for(var D=[],O="",P=[8,10,12][S],B=F.readBits(P),U=0;U<B;U++){var z=F.readBits(13),j=Math.floor(z/192)<<8|z%192;j<7936?j+=33088:j+=49472,D.push(j>>8,j&255),O+=String.fromCharCode(d.shiftJISTable[j])}return{bytes:D,text:O}}function _(F,S){for(var D,O,P,B,U=new a.BitStream(F),z=S<=9?0:S<=26?1:2,j={text:"",bytes:[],chunks:[],version:S};U.available()>=4;){var H=U.readBits(4);if(H===g.Terminator)return j;if(H===g.ECI)U.readBits(1)===0?j.chunks.push({type:u.ECI,assignmentNumber:U.readBits(7)}):U.readBits(1)===0?j.chunks.push({type:u.ECI,assignmentNumber:U.readBits(14)}):U.readBits(1)===0?j.chunks.push({type:u.ECI,assignmentNumber:U.readBits(21)}):j.chunks.push({type:u.ECI,assignmentNumber:-1});else if(H===g.Numeric){var I=h(U,z);j.text+=I.text,(D=j.bytes).push.apply(D,I.bytes),j.chunks.push({type:u.Numeric,text:I.text})}else if(H===g.Alphanumeric){var $=b(U,z);j.text+=$.text,(O=j.bytes).push.apply(O,$.bytes),j.chunks.push({type:u.Alphanumeric,text:$.text})}else if(H===g.Byte){var J=v(U,z);j.text+=J.text,(P=j.bytes).push.apply(P,J.bytes),j.chunks.push({type:u.Byte,bytes:J.bytes,text:J.text})}else if(H===g.Kanji){var K=C(U,z);j.text+=K.text,(B=j.bytes).push.apply(B,K.bytes),j.chunks.push({type:u.Kanji,bytes:K.bytes,text:K.text})}}if(U.available()===0||U.readBits(U.available())===0)return j}r.decode=_}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function d(u){this.byteOffset=0,this.bitOffset=0,this.bytes=u}return d.prototype.readBits=function(u){if(u<1||u>32||u>this.available())throw new Error("Cannot read "+u.toString()+" bits");var g=0;if(this.bitOffset>0){var h=8-this.bitOffset,m=u<h?u:h,b=h-m,v=255>>8-m<<b;g=(this.bytes[this.byteOffset]&v)>>b,u-=m,this.bitOffset+=m,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(u>0){for(;u>=8;)g=g<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,u-=8;if(u>0){var b=8-u,v=255>>b<<b;g=g<<u|(this.bytes[this.byteOffset]&v)>>b,this.bitOffset+=u}}return g},d.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},d})();r.BitStream=a}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),d=i(2);function u(b,v,C,_){var F;v.degree()<C.degree()&&(F=[C,v],v=F[0],C=F[1]);for(var S=v,D=C,O=b.zero,P=b.one;D.degree()>=_/2;){var B=S,U=O;if(S=D,O=P,S.isZero())return null;D=B;for(var z=b.zero,j=S.getCoefficient(S.degree()),H=b.inverse(j);D.degree()>=S.degree()&&!D.isZero();){var I=D.degree()-S.degree(),$=b.multiply(D.getCoefficient(D.degree()),H);z=z.addOrSubtract(b.buildMonomial(I,$)),D=D.addOrSubtract(S.multiplyByMonomial(I,$))}if(P=z.multiplyPoly(O).addOrSubtract(U),D.degree()>=S.degree())return null}var J=P.getCoefficient(0);if(J===0)return null;var K=b.inverse(J);return[P.multiply(K),D.multiply(K)]}function g(b,v){var C=v.degree();if(C===1)return[v.getCoefficient(1)];for(var _=new Array(C),F=0,S=1;S<b.size&&F<C;S++)v.evaluateAt(S)===0&&(_[F]=b.inverse(S),F++);return F!==C?null:_}function h(b,v,C){for(var _=C.length,F=new Array(_),S=0;S<_;S++){for(var D=b.inverse(C[S]),O=1,P=0;P<_;P++)S!==P&&(O=b.multiply(O,a.addOrSubtractGF(1,b.multiply(C[P],D))));F[S]=b.multiply(v.evaluateAt(D),b.inverse(O)),b.generatorBase!==0&&(F[S]=b.multiply(F[S],D))}return F}function m(b,v){var C=new Uint8ClampedArray(b.length);C.set(b);for(var _=new a.default(285,256,0),F=new d.default(_,C),S=new Uint8ClampedArray(v),D=!1,O=0;O<v;O++){var P=F.evaluateAt(_.exp(O+_.generatorBase));S[S.length-1-O]=P,P!==0&&(D=!0)}if(!D)return C;var B=new d.default(_,S),U=u(_,_.buildMonomial(v,1),B,v);if(U===null)return null;var z=g(_,U[0]);if(z==null)return null;for(var j=h(_,U[1],z),H=0;H<z.length;H++){var I=C.length-1-_.log(z[H]);if(I<0)return null;C[I]=a.addOrSubtractGF(C[I],j[H])}return C}r.decode=m}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0);function d(m,b,v,C){var _=m.x-b.x+v.x-C.x,F=m.y-b.y+v.y-C.y;if(_===0&&F===0)return{a11:b.x-m.x,a12:b.y-m.y,a13:0,a21:v.x-b.x,a22:v.y-b.y,a23:0,a31:m.x,a32:m.y,a33:1};var S=b.x-v.x,D=C.x-v.x,O=b.y-v.y,P=C.y-v.y,B=S*P-D*O,U=(_*P-D*F)/B,z=(S*F-_*O)/B;return{a11:b.x-m.x+U*b.x,a12:b.y-m.y+U*b.y,a13:U,a21:C.x-m.x+z*C.x,a22:C.y-m.y+z*C.y,a23:z,a31:m.x,a32:m.y,a33:1}}function u(m,b,v,C){var _=d(m,b,v,C);return{a11:_.a22*_.a33-_.a23*_.a32,a12:_.a13*_.a32-_.a12*_.a33,a13:_.a12*_.a23-_.a13*_.a22,a21:_.a23*_.a31-_.a21*_.a33,a22:_.a11*_.a33-_.a13*_.a31,a23:_.a13*_.a21-_.a11*_.a23,a31:_.a21*_.a32-_.a22*_.a31,a32:_.a12*_.a31-_.a11*_.a32,a33:_.a11*_.a22-_.a12*_.a21}}function g(m,b){return{a11:m.a11*b.a11+m.a21*b.a12+m.a31*b.a13,a12:m.a12*b.a11+m.a22*b.a12+m.a32*b.a13,a13:m.a13*b.a11+m.a23*b.a12+m.a33*b.a13,a21:m.a11*b.a21+m.a21*b.a22+m.a31*b.a23,a22:m.a12*b.a21+m.a22*b.a22+m.a32*b.a23,a23:m.a13*b.a21+m.a23*b.a22+m.a33*b.a23,a31:m.a11*b.a31+m.a21*b.a32+m.a31*b.a33,a32:m.a12*b.a31+m.a22*b.a32+m.a32*b.a33,a33:m.a13*b.a31+m.a23*b.a32+m.a33*b.a33}}function h(m,b){for(var v=u({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),C=d(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),_=g(C,v),F=a.BitMatrix.createEmpty(b.dimension,b.dimension),S=function(z,j){var H=_.a13*z+_.a23*j+_.a33;return{x:(_.a11*z+_.a21*j+_.a31)/H,y:(_.a12*z+_.a22*j+_.a32)/H}},D=0;D<b.dimension;D++)for(var O=0;O<b.dimension;O++){var P=O+.5,B=D+.5,U=S(P,B);F.set(O,D,m.get(Math.floor(U.x),Math.floor(U.y)))}return{matrix:F,mappingFunction:S}}r.extract=h}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=4,d=.5,u=1.5,g=function(P,B){return Math.sqrt(Math.pow(B.x-P.x,2)+Math.pow(B.y-P.y,2))};function h(P){return P.reduce(function(B,U){return B+U})}function m(P,B,U){var z,j,H,I,$=g(P,B),J=g(B,U),K=g(P,U),ie,fe,q;return J>=$&&J>=K?(z=[B,P,U],ie=z[0],fe=z[1],q=z[2]):K>=J&&K>=$?(j=[P,B,U],ie=j[0],fe=j[1],q=j[2]):(H=[P,U,B],ie=H[0],fe=H[1],q=H[2]),(q.x-fe.x)*(ie.y-fe.y)-(q.y-fe.y)*(ie.x-fe.x)<0&&(I=[q,ie],ie=I[0],q=I[1]),{bottomLeft:ie,topLeft:fe,topRight:q}}function b(P,B,U,z){var j=(h(C(P,U,z,5))/7+h(C(P,B,z,5))/7+h(C(U,P,z,5))/7+h(C(B,P,z,5))/7)/4;if(j<1)throw new Error("Invalid module size");var H=Math.round(g(P,B)/j),I=Math.round(g(P,U)/j),$=Math.floor((H+I)/2)+7;switch($%4){case 0:$++;break;case 2:$--;break}return{dimension:$,moduleSize:j}}function v(P,B,U,z){var j=[{x:Math.floor(P.x),y:Math.floor(P.y)}],H=Math.abs(B.y-P.y)>Math.abs(B.x-P.x),I,$,J,K;H?(I=Math.floor(P.y),$=Math.floor(P.x),J=Math.floor(B.y),K=Math.floor(B.x)):(I=Math.floor(P.x),$=Math.floor(P.y),J=Math.floor(B.x),K=Math.floor(B.y));for(var ie=Math.abs(J-I),fe=Math.abs(K-$),q=Math.floor(-ie/2),le=I<J?1:-1,he=$<K?1:-1,ve=!0,Ie=I,Ue=$;Ie!==J+le;Ie+=le){var be=H?Ue:Ie,qe=H?Ie:Ue;if(U.get(be,qe)!==ve&&(ve=!ve,j.push({x:be,y:qe}),j.length===z+1))break;if(q+=fe,q>0){if(Ue===K)break;Ue+=he,q-=ie}}for(var ot=[],Ge=0;Ge<z;Ge++)j[Ge]&&j[Ge+1]?ot.push(g(j[Ge],j[Ge+1])):ot.push(0);return ot}function C(P,B,U,z){var j,H=B.y-P.y,I=B.x-P.x,$=v(P,B,U,Math.ceil(z/2)),J=v(P,{x:P.x-I,y:P.y-H},U,Math.ceil(z/2)),K=$.shift()+J.shift()-1;return(j=J.concat(K)).concat.apply(j,$)}function _(P,B){var U=h(P)/h(B),z=0;return B.forEach(function(j,H){z+=Math.pow(P[H]-j*U,2)}),{averageSize:U,error:z}}function F(P,B,U){try{var z=C(P,{x:-1,y:P.y},U,B.length),j=C(P,{x:P.x,y:-1},U,B.length),H={x:Math.max(0,P.x-P.y)-1,y:Math.max(0,P.y-P.x)-1},I=C(P,H,U,B.length),$={x:Math.min(U.width,P.x+P.y)+1,y:Math.min(U.height,P.y+P.x)+1},J=C(P,$,U,B.length),K=_(z,B),ie=_(j,B),fe=_(I,B),q=_(J,B),le=Math.sqrt(K.error*K.error+ie.error*ie.error+fe.error*fe.error+q.error*q.error),he=(K.averageSize+ie.averageSize+fe.averageSize+q.averageSize)/4,ve=(Math.pow(K.averageSize-he,2)+Math.pow(ie.averageSize-he,2)+Math.pow(fe.averageSize-he,2)+Math.pow(q.averageSize-he,2))/he;return le+ve}catch{return 1/0}}function S(P,B){for(var U=Math.round(B.x);P.get(U,Math.round(B.y));)U--;for(var z=Math.round(B.x);P.get(z,Math.round(B.y));)z++;for(var j=(U+z)/2,H=Math.round(B.y);P.get(Math.round(j),H);)H--;for(var I=Math.round(B.y);P.get(Math.round(j),I);)I++;var $=(H+I)/2;return{x:j,y:$}}function D(P){for(var B=[],U=[],z=[],j=[],H=function(be){for(var qe=0,ot=!1,Ge=[0,0,0,0,0],dt=function(xt){var ft=P.get(xt,be);if(ft===ot)qe++;else{Ge=[Ge[1],Ge[2],Ge[3],Ge[4],qe],qe=1,ot=ft;var yt=h(Ge)/7,vt=Math.abs(Ge[0]-yt)<yt&&Math.abs(Ge[1]-yt)<yt&&Math.abs(Ge[2]-3*yt)<3*yt&&Math.abs(Ge[3]-yt)<yt&&Math.abs(Ge[4]-yt)<yt&&!ft,it=h(Ge.slice(-3))/3,Et=Math.abs(Ge[2]-it)<it&&Math.abs(Ge[3]-it)<it&&Math.abs(Ge[4]-it)<it&&ft;if(vt){var ne=xt-Ge[3]-Ge[4],ge=ne-Ge[2],Te={startX:ge,endX:ne,y:be},He=U.filter(function(N){return ge>=N.bottom.startX&&ge<=N.bottom.endX||ne>=N.bottom.startX&&ge<=N.bottom.endX||ge<=N.bottom.startX&&ne>=N.bottom.endX&&Ge[2]/(N.bottom.endX-N.bottom.startX)<u&&Ge[2]/(N.bottom.endX-N.bottom.startX)>d});He.length>0?He[0].bottom=Te:U.push({top:Te,bottom:Te})}if(Et){var xe=xt-Ge[4],ee=xe-Ge[3],Te={startX:ee,y:be,endX:xe},He=j.filter(function(M){return ee>=M.bottom.startX&&ee<=M.bottom.endX||xe>=M.bottom.startX&&ee<=M.bottom.endX||ee<=M.bottom.startX&&xe>=M.bottom.endX&&Ge[2]/(M.bottom.endX-M.bottom.startX)<u&&Ge[2]/(M.bottom.endX-M.bottom.startX)>d});He.length>0?He[0].bottom=Te:j.push({top:Te,bottom:Te})}}},ze=-1;ze<=P.width;ze++)dt(ze);B.push.apply(B,U.filter(function(xt){return xt.bottom.y!==be&&xt.bottom.y-xt.top.y>=2})),U=U.filter(function(xt){return xt.bottom.y===be}),z.push.apply(z,j.filter(function(xt){return xt.bottom.y!==be})),j=j.filter(function(xt){return xt.bottom.y===be})},I=0;I<=P.height;I++)H(I);B.push.apply(B,U.filter(function(be){return be.bottom.y-be.top.y>=2})),z.push.apply(z,j);var $=B.filter(function(be){return be.bottom.y-be.top.y>=2}).map(function(be){var qe=(be.top.startX+be.top.endX+be.bottom.startX+be.bottom.endX)/4,ot=(be.top.y+be.bottom.y+1)/2;if(P.get(Math.round(qe),Math.round(ot))){var Ge=[be.top.endX-be.top.startX,be.bottom.endX-be.bottom.startX,be.bottom.y-be.top.y+1],dt=h(Ge)/Ge.length,ze=F({x:Math.round(qe),y:Math.round(ot)},[1,1,3,1,1],P);return{score:ze,x:qe,y:ot,size:dt}}}).filter(function(be){return!!be}).sort(function(be,qe){return be.score-qe.score}).map(function(be,qe,ot){if(qe>a)return null;var Ge=ot.filter(function(ze,xt){return qe!==xt}).map(function(ze){return{x:ze.x,y:ze.y,score:ze.score+Math.pow(ze.size-be.size,2)/be.size,size:ze.size}}).sort(function(ze,xt){return ze.score-xt.score});if(Ge.length<2)return null;var dt=be.score+Ge[0].score+Ge[1].score;return{points:[be].concat(Ge.slice(0,2)),score:dt}}).filter(function(be){return!!be}).sort(function(be,qe){return be.score-qe.score});if($.length===0)return null;var J=m($[0].points[0],$[0].points[1],$[0].points[2]),K=J.topRight,ie=J.topLeft,fe=J.bottomLeft,q=O(P,z,K,ie,fe),le=[];q&&le.push({alignmentPattern:{x:q.alignmentPattern.x,y:q.alignmentPattern.y},bottomLeft:{x:fe.x,y:fe.y},dimension:q.dimension,topLeft:{x:ie.x,y:ie.y},topRight:{x:K.x,y:K.y}});var he=S(P,K),ve=S(P,ie),Ie=S(P,fe),Ue=O(P,z,he,ve,Ie);return Ue&&le.push({alignmentPattern:{x:Ue.alignmentPattern.x,y:Ue.alignmentPattern.y},bottomLeft:{x:Ie.x,y:Ie.y},topLeft:{x:ve.x,y:ve.y},topRight:{x:he.x,y:he.y},dimension:Ue.dimension}),le.length===0?null:le}r.locate=D;function O(P,B,U,z,j){var H,I,$;try{H=b(z,U,j,P),I=H.dimension,$=H.moduleSize}catch{return null}var J={x:U.x-z.x+j.x,y:U.y-z.y+j.y},K=(g(z,j)+g(z,U))/2/$,ie=1-3/K,fe={x:z.x+ie*(J.x-z.x),y:z.y+ie*(J.y-z.y)},q=B.map(function(he){var ve=(he.top.startX+he.top.endX+he.bottom.startX+he.bottom.endX)/4,Ie=(he.top.y+he.bottom.y+1)/2;if(P.get(Math.floor(ve),Math.floor(Ie))){var Ue=[he.top.endX-he.top.startX,he.bottom.endX-he.bottom.startX,he.bottom.y-he.top.y+1];h(Ue)/Ue.length;var be=F({x:Math.floor(ve),y:Math.floor(Ie)},[1,1,1],P),qe=be+g({x:ve,y:Ie},fe);return{x:ve,y:Ie,score:qe}}}).filter(function(he){return!!he}).sort(function(he,ve){return he.score-ve.score}),le=K>=15&&q.length?q[0]:fe;return{alignmentPattern:le,dimension:I}}})]).default})})(n0)),n0.exports}var wk=vk();const Ek=Ex(wk),Xi=(e,t)=>{const s=e.__vccOpts||e;for(const[r,i]of t)s[r]=i;return s},Ck={class:"py-8 bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 min-h-screen"},Ak={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},kk={class:"mb-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},Bk={class:"flex flex-wrap items-center gap-4 w-full md:w-auto"},_k={key:0,class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse"},Dk={class:"hidden md:block bg-white px-6 py-3 rounded-xl shadow-lg border border-gray-200"},Sk={class:"font-semibold text-gray-900"},Fk={class:"space-y-6"},Tk={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200"},Mk={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 md:gap-0"},Ik={class:"flex flex-col md:flex-row items-start md:items-center flex-1 w-full"},Pk={key:0},Rk={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},Ok={key:0},Nk={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},$k={class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-4 md:p-8 border-2 border-blue-200"},Lk={class:"flex items-center justify-between mb-6"},jk={class:"text-2xl font-bold text-gray-900 mb-1"},Uk={class:"text-gray-600"},Hk={key:0,class:"mb-6"},zk={class:"bg-black rounded-2xl overflow-hidden relative border-4 border-blue-500 shadow-2xl"},Vk={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},qk={class:"relative"},Wk={class:"w-64 h-40 md:w-80 md:h-48 border-4 border-red-500 rounded-xl relative"},Qk={key:0,class:"absolute inset-0"},Gk={class:"mt-4 text-center"},Kk={class:"text-white text-lg font-bold bg-black bg-opacity-70 px-6 py-3 rounded-full inline-block"},Yk={key:1,class:"mb-6"},Xk={class:"relative"},Jk=["placeholder","disabled"],Zk={class:"absolute right-4 top-1/2 transform -translate-y-1/2"},eB={key:0,class:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},tB={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},sB={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},nB=["disabled"],rB=["disabled"],oB={key:0},iB={key:1},aB={class:"text-3xl mr-3"},lB={class:"flex-1"},dB={key:0,class:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-200"},cB={class:"p-8 space-y-6"},uB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xB={class:"bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-2xl border-2 border-blue-300 shadow-lg"},fB={class:"text-4xl font-black text-blue-600"},hB={class:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-2xl border-2 border-green-300 shadow-lg"},gB={class:"text-4xl font-black text-green-600"},pB={class:"text-2xl"},mB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},yB={class:"font-bold text-gray-900 text-lg"},vB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},wB={class:"inline-block px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-sm font-bold shadow-md"},EB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},CB={class:"font-bold text-gray-900 text-lg"},AB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},kB={class:"font-bold text-gray-900 text-lg"},BB={class:"bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 p-8 rounded-2xl border-3 border-amber-300 shadow-xl"},_B={class:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-0"},DB={class:"flex-1 w-full text-center md:text-left"},SB={class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-amber-400"},FB={class:"text-4xl font-black text-amber-600"},TB={class:"flex-1 w-full text-center md:text-left"},MB={key:0,class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-green-400"},IB={class:"text-4xl font-black text-green-600"},PB={key:1,class:"bg-gray-100 px-8 py-6 rounded-2xl shadow-lg border-3 border-gray-300"},RB={key:0,class:"pt-2"},OB={key:0,class:"fixed top-0 right-0 h-full w-full md:w-[600px] lg:w-[800px] bg-white shadow-2xl z-50 overflow-y-auto"},NB={class:"grid gap-6"},$B={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200"},LB={class:"flex items-center justify-between mb-4"},jB={class:"px-3 py-1 bg-gray-100 rounded-lg text-sm font-semibold text-gray-600"},UB={key:0,class:"text-center py-12"},HB={key:1,class:"space-y-3 max-h-[800px] overflow-y-auto custom-scrollbar"},zB={class:"flex justify-between items-start mb-3"},VB={class:"flex-1"},qB={class:"font-bold text-gray-900 mb-1"},WB={class:"text-xs text-gray-500 font-mono"},QB={class:"text-xs text-gray-500 bg-white px-2 py-1 rounded-lg"},GB={class:"flex items-center justify-between bg-white p-3 rounded-lg mb-2"},KB={class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg text-sm font-bold"},YB={class:"px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-bold"},XB={class:"flex items-center justify-between text-sm"},JB={class:"font-bold text-gray-900"},ZB={__name:"Bintobin",props:{title:String,initialBins:Array,initialTransferHistory:Array,scannedMaterial:Object,destinationBin:String,errors:Object},setup(e){const t=e,s=Xs(),r=de(!1),i=()=>r.value=!r.value,a=()=>r.value=!1,d=de(""),u=de(null),g=de("scan_material"),h=de(""),m=de("success"),b=de(!1),v=de(!1),C=de(null),_=de(null),F=de(null),S=de(null),D=de(!1),O=de(t.initialTransferHistory),P=de(t.initialBins),B=de(t.scannedMaterial),U=de(t.destinationBin),z=xl({from_bin_id:null,to_bin_id:null,stock_id:null,quantity:null});Hs(()=>t.scannedMaterial,Ue=>{B.value=Ue}),Hs(()=>t.destinationBin,Ue=>{U.value=Ue}),Hs(()=>t.initialTransferHistory,Ue=>{O.value=Ue}),Hs(()=>t.initialBins,Ue=>{P.value=Ue}),Hs(()=>s.props.flash,Ue=>{Ue?.success?K(Ue.success,"success"):Ue?.error&&K(Ue.error,"error")},{deep:!0}),O8(()=>{B.value&&U.value?(g.value="complete",z.stock_id=B.value.stock_id,z.from_bin_id=B.value.current_bin_id,z.quantity=B.value.quantity,z.to_bin_id=U.value.id):B.value?(g.value="scan_destination",!h.value&&!s.props.flash?.error&&K(` Material ${B.value.name} (Batch: ${B.value.batchNo}) berhasil di-scan! Silakan scan bin tujuan.`,"success")):g.value="scan_material"});const j=Ze(()=>new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),H=()=>{if(b.value||!d.value.trim()){d.value.trim()||K("Silakan scan atau masukkan kode barcode","error");return}const Ue=d.value.trim();b.value=!0,h.value="";let be={},qe="/transaction/bin-to-bin",ot=Ue.toUpperCase(),Ge=!1;try{const dt=JSON.parse(Ue);dt&&dt.bin_code&&(ot=String(dt.bin_code).toUpperCase(),Ge=!0,K(` Menganalisis Kode: Mengurai Bin Code dari JSON: ${ot}`,"success"))}catch{}if(g.value==="scan_material"){if(!Ge&&Ue.includes("|")&&Ue.length>20)try{const dt=Ue.split("|");dt.length>=3&&(ot=dt[2].trim().toUpperCase(),K(` Menganalisis Batch: ${ot} dari QR Code material...`,"success"))}catch{}be={material_batch:ot}}else if(g.value==="scan_destination"){if(B.value&&ot===B.value.currentBin.toUpperCase()){b.value=!1,K(` Gagal: Bin Tujuan tidak boleh sama dengan Bin Sumber (${B.value.currentBin})!`,"error");return}be={material_batch:B.value.batchNo,bin_code:ot}}Bt.get(qe,be,{preserveState:!0,preserveScroll:!0,onFinish:()=>{b.value=!1,d.value="",ie()},onError:dt=>{}})},I=()=>{H()},$=()=>{z.processing||z.post("/transaction/bin-to-bin/transfer",{preserveScroll:!0,onSuccess:()=>{},onError:Ue=>{const be=Object.values(Ue).join(` 
`);K(` Gagal Konfirmasi: ${be}`,"error")}})},J=()=>{Bt.get("/bin-to-bin",{},{preserveState:!1})},K=(Ue,be)=>{h.value=Ue,m.value=be,setTimeout(()=>{h.value===Ue&&(h.value="")},6e3)},ie=()=>{_n(()=>{u.value&&!v.value&&u.value.focus()})},fe=async()=>{v.value?le():await q()},q=async()=>{try{const Ue=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});F.value=Ue,v.value=!0,await _n(),C.value&&(C.value.srcObject=Ue,C.value.play(),he(),K(" Kamera aktif! Arahkan barcode ke kamera.","success"))}catch(Ue){console.error("Camera error:",Ue),Ue.name==="NotAllowedError"?K(" Izin kamera ditolak. Harap izinkan akses kamera di browser Anda.","error"):K(" Tidak dapat mengakses kamera. Pastikan Anda menggunakan HTTPS.","error")}},le=()=>{F.value&&(F.value.getTracks().forEach(Ue=>Ue.stop()),F.value=null),S.value&&(cancelAnimationFrame(S.value),S.value=null),v.value=!1,D.value=!1,C.value&&(C.value.srcObject=null),ie()},he=()=>{if(!(!v.value||!C.value||!_.value)){if(D.value=!1,C.value.readyState===C.value.HAVE_ENOUGH_DATA){const Ue=_.value,be=Ue.getContext("2d",{willReadFrequently:!0});Ue.height=C.value.videoHeight,Ue.width=C.value.videoWidth,be.drawImage(C.value,0,0,Ue.width,Ue.height);const qe=be.getImageData(0,0,Ue.width,Ue.height),ot=Ek(qe.data,qe.width,qe.height,{inversionAttempts:"dontInvert"});if(D.value=!0,ot){D.value=!1,le(),d.value=ot.data,H();return}}S.value=requestAnimationFrame(he)}},ve=Ze(()=>m.value==="success"?"bg-green-500 text-white border-2 border-green-600":"bg-red-500 text-white border-2 border-red-600");gn(()=>{ie(),window.addEventListener("keydown",Ue=>{Ue.key==="Escape"&&r.value&&a()}),s.props.flash?.success?K(s.props.flash.success,"success"):s.props.flash?.error&&K(s.props.flash.error,"error")});const Ie=()=>{le()};return typeof window<"u"&&window.addEventListener("beforeunload",Ie),(Ue,be)=>(T(),Dt(pn,{title:"Bin to Bin Transfer"},{default:_t(()=>[n("div",Ck,[n("div",Ak,[n("div",kk,[be[6]||(be[6]=n("div",null,[n("h1",{class:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2"}," Sistem Bin to Bin Transfer "),n("p",{class:"text-gray-600 text-base md:text-lg"},"Real-time warehouse material movement tracking system")],-1)),n("div",Bk,[n("button",{onClick:i,class:"relative flex-1 md:flex-none px-6 py-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 transition-all flex items-center justify-center space-x-2 group"},[be[2]||(be[2]=n("svg",{class:"w-6 h-6 text-gray-700 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),be[3]||(be[3]=n("span",{class:"font-semibold text-gray-700 group-hover:text-blue-600"},"Dashboard",-1)),O.value.length>0?(T(),R("span",_k,A(O.value.length),1)):se("",!0)]),n("div",Dk,[be[4]||(be[4]=n("div",{class:"text-xs text-gray-500 mb-1"},"Tanggal",-1)),n("div",Sk,A(j.value),1)]),be[5]||(be[5]=n("div",{class:"hidden md:block bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-3 rounded-xl shadow-lg text-white"},[n("div",{class:"text-xs opacity-90 mb-1"},"Status Sistem"),n("div",{class:"font-bold flex items-center"},[n("span",{class:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),Oe(" ONLINE ")])],-1))])]),n("div",Fk,[n("div",Tk,[n("div",Mk,[n("div",Ik,[n("div",{class:Se(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[n("div",{class:Se(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value==="scan_material"?(T(),R("span",Pk,"1")):(T(),R("svg",Rk,[...be[7]||(be[7]=[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),be[8]||(be[8]=n("div",{class:"ml-3"},[n("p",{class:"font-bold"},"Scan Material"),n("p",{class:"text-xs"},"Scan kode material")],-1))],2),n("div",{class:Se(["hidden md:block flex-1 h-1 mx-4",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),n("div",{class:Se(["md:hidden w-1 h-8 ml-5",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),n("div",{class:Se(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[n("div",{class:Se(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value!=="complete"?(T(),R("span",Ok,"2")):(T(),R("svg",Nk,[...be[9]||(be[9]=[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),be[10]||(be[10]=n("div",{class:"ml-3"},[n("p",{class:"font-bold"},"Scan Bin Tujuan"),n("p",{class:"text-xs"},"Scan lokasi tujuan")],-1))],2),n("div",{class:Se(["hidden md:block flex-1 h-1 mx-4",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),n("div",{class:Se(["md:hidden w-1 h-8 ml-5",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),n("div",{class:Se(["flex items-center w-full md:w-auto",g.value==="complete"?"text-green-600":"text-gray-400"])},[n("div",{class:Se(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="complete"?"bg-green-600 text-white border-green-600":"bg-gray-200 text-gray-400 border-gray-300"])},"  ",2),be[11]||(be[11]=n("div",{class:"ml-3"},[n("p",{class:"font-bold"},"Konfirmasi"),n("p",{class:"text-xs"},"Selesaikan transfer")],-1))],2)])])]),n("div",$k,[n("div",Lk,[n("div",null,[n("h2",jk,A(g.value==="scan_material"?" Scan Material":g.value==="scan_destination"?" Scan Bin Tujuan":" Siap Konfirmasi"),1),n("p",Uk,A(g.value==="scan_material"?"Pilih metode scanning untuk material":g.value==="scan_destination"?"Pilih metode scanning untuk bin tujuan":"Klik tombol konfirmasi untuk menyelesaikan"),1)])]),v.value?(T(),R("div",Hk,[n("div",zk,[n("video",{ref_key:"videoElement",ref:C,autoplay:"",playsinline:"",class:"w-full h-64 md:h-96 object-cover"},null,512),n("div",Vk,[n("div",qk,[n("div",Wk,[be[13]||(be[13]=n("div",{class:"absolute -top-1 -left-1 w-8 h-8 border-t-8 border-l-8 border-red-500 rounded-tl-xl"},null,-1)),be[14]||(be[14]=n("div",{class:"absolute -top-1 -right-1 w-8 h-8 border-t-8 border-r-8 border-red-500 rounded-tr-xl"},null,-1)),be[15]||(be[15]=n("div",{class:"absolute -bottom-1 -left-1 w-8 h-8 border-b-8 border-l-8 border-red-500 rounded-bl-xl"},null,-1)),be[16]||(be[16]=n("div",{class:"absolute -bottom-1 -right-1 w-8 h-8 border-b-8 border-r-8 border-red-500 rounded-br-xl"},null,-1)),D.value?(T(),R("div",Qk,[...be[12]||(be[12]=[n("div",{class:"camera-scan-line"},null,-1)])])):se("",!0)]),n("div",Gk,[n("p",Kk,A(D.value?" Scanning...":" Arahkan Barcode ke Frame"),1)])])]),n("canvas",{ref_key:"canvasElement",ref:_,class:"hidden"},null,512),n("div",{class:"absolute top-4 right-4 flex space-x-2"},[n("button",{onClick:le,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all shadow-lg flex items-center"},[...be[17]||(be[17]=[n("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Oe(" Tutup ",-1)])])])]),be[18]||(be[18]=n("p",{class:"text-center text-gray-600 mt-4 text-sm flex items-center justify-center"},[n("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),Oe(" Kamera Aktif - Deteksi barcode otomatis ")],-1))])):se("",!0),v.value?se("",!0):(T(),R("div",Yk,[be[20]||(be[20]=n("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"  Input Manual - Ketik kode barcode ",-1)),n("div",Xk,[we(n("input",{"onUpdate:modelValue":be[0]||(be[0]=qe=>d.value=qe),onKeyup:al(I,["enter"]),type:"text",placeholder:g.value==="scan_material"?"Contoh: MAT001, MAT002, MAT003...":"Contoh: A1, B2, C3...",class:"w-full px-6 py-5 bg-white border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-xl font-mono placeholder-gray-400 transition-all shadow-inner",disabled:g.value==="complete"||b.value,ref_key:"barcodeInputRef",ref:u},null,40,Jk),[[Ve,d.value]]),n("div",Zk,[b.value?(T(),R("div",eB)):(T(),R("svg",tB,[...be[19]||(be[19]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])]))])])])),n("div",sB,[n("button",{onClick:fe,disabled:g.value==="complete",class:Se(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",g.value==="complete"?"bg-gray-300 text-gray-500 cursor-not-allowed":v.value?"bg-red-600 hover:bg-red-700 text-white transform hover:scale-105":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white transform hover:scale-105"])},[be[21]||(be[21]=n("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Oe(" "+A(v.value?"Stop Kamera":"Buka Kamera"),1)],10,nB),n("button",{onClick:I,disabled:!d.value||g.value==="complete"||b.value||v.value,class:Se(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",!d.value||g.value==="complete"||b.value||v.value?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white transform hover:scale-105"])},[be[22]||(be[22]=n("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),b.value?(T(),R("span",iB,"Processing...")):(T(),R("span",oB,"Scan Manual"))],10,rB)]),e.scannedMaterial&&g.value!=="complete"?(T(),R("button",{key:2,onClick:J,class:"w-full mt-4 py-4 px-6 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg flex items-center justify-center"},[...be[23]||(be[23]=[n("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),Oe(" Reset Transfer ",-1)])])):se("",!0),ss(Dl,{name:"slide-fade"},{default:_t(()=>[h.value?(T(),R("div",{key:0,class:Se(["mt-6 p-5 rounded-xl font-semibold flex items-center shadow-lg border-2",ve.value])},[n("span",aB,A(m.value==="success"?"":""),1),n("span",lB,A(h.value),1),n("button",{onClick:be[1]||(be[1]=qe=>h.value=""),class:"ml-2 hover:opacity-70"},[...be[24]||(be[24]=[n("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])],2)):se("",!0)]),_:1})]),ss(Dl,{name:"scale-fade"},{default:_t(()=>[e.scannedMaterial?(T(),R("div",dB,[be[37]||(be[37]=n("div",{class:"bg-gradient-to-r from-indigo-600 to-blue-600 p-6"},[n("h3",{class:"text-2xl font-bold text-white flex items-center"},[n("span",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-3 text-3xl"},""),Oe(" Informasi Material ")])],-1)),n("div",cB,[n("div",uB,[n("div",xB,[be[25]||(be[25]=n("p",{class:"text-sm text-blue-700 mb-2 font-bold uppercase tracking-wide"},"Kode Material",-1)),n("p",fB,A(e.scannedMaterial.code),1)]),n("div",hB,[be[26]||(be[26]=n("p",{class:"text-sm text-green-700 mb-2 font-bold uppercase tracking-wide"},"Jumlah ",-1)),n("p",gB,[Oe(A(e.scannedMaterial.quantity)+" ",1),n("span",pB,A(e.scannedMaterial.unit),1)])])]),n("div",mB,[n("div",bB,[be[27]||(be[27]=n("div",{class:"flex items-center mb-2"},[n("span",{class:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),n("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Nama Material")],-1)),n("p",yB,A(e.scannedMaterial.name),1)]),n("div",vB,[be[28]||(be[28]=n("div",{class:"flex items-center mb-2"},[n("span",{class:"w-3 h-3 bg-pink-500 rounded-full mr-2"}),n("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Kategori ")],-1)),n("span",wB,A(e.scannedMaterial.category),1)]),n("div",EB,[be[29]||(be[29]=n("div",{class:"flex items-center mb-2"},[n("span",{class:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),n("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Batch Number")],-1)),n("p",CB,A(e.scannedMaterial.batchNo),1)]),n("div",AB,[be[30]||(be[30]=n("div",{class:"flex items-center mb-2"},[n("span",{class:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),n("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Tanggal Kadaluarsa")],-1)),n("p",kB,A(e.scannedMaterial.expiryDate),1)])]),n("div",BB,[be[35]||(be[35]=n("p",{class:"text-sm font-bold text-amber-900 mb-6 uppercase tracking-wider flex items-center"},[n("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})]),Oe(" Rute Perpindahan ")],-1)),n("div",_B,[n("div",DB,[be[31]||(be[31]=n("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Dari Bin",-1)),n("div",SB,[n("p",FB,A(e.scannedMaterial.currentBin),1)])]),be[34]||(be[34]=n("div",{class:"px-6 transform rotate-90 md:rotate-0"},[n("svg",{class:"w-16 h-16 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),n("div",TB,[be[33]||(be[33]=n("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Ke Bin",-1)),e.destinationBin?(T(),R("div",MB,[n("p",IB,A(e.destinationBin.code),1)])):(T(),R("div",PB,[...be[32]||(be[32]=[n("p",{class:"text-4xl font-black text-gray-400"},"???",-1)])]))])])]),e.destinationBin&&g.value==="complete"?(T(),R("div",RB,[n("button",{onClick:$,class:"w-full py-6 px-8 bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white font-black text-2xl rounded-2xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-2xl flex items-center justify-center"},[...be[36]||(be[36]=[n("svg",{class:"w-10 h-10 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),Oe(" KONFIRMASI TRANSFER ",-1)])])])):se("",!0)])])):se("",!0)]),_:1}),be[38]||(be[38]=n("div",{class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-8 border-2 border-blue-200"},[n("div",{class:"text-center py-12"},[n("p",{class:"text-gray-500"},"Scanner Card Content - Gunakan kode yang sudah ada")])],-1))])])]),ss(Dl,{name:"fade"},{default:_t(()=>[r.value?(T(),R("div",{key:0,onClick:a,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm z-40 transition-all duration-300",style:{"background-color":"#00000054"}})):se("",!0)]),_:1}),ss(Dl,{name:"slide"},{default:_t(()=>[r.value?(T(),R("div",OB,[n("div",{class:"sticky top-0 p-6 flex items-center justify-between z-10 shadow-lg"},[be[40]||(be[40]=n("div",{class:"flex items-center space-x-3"},[n("div",{class:"w-12 h-12 bg-green bg-opacity-20 rounded-xl flex items-center justify-center"},[n("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),n("div",null,[n("h2",{class:"text-2xl font-bold"},"Dashboard"),n("p",{class:"text-black-100 text-sm"},"Real-time Statistics")])],-1)),n("button",{onClick:a,class:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all"},[...be[39]||(be[39]=[n("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",NB,[n("div",$B,[n("div",LB,[be[41]||(be[41]=n("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[n("span",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2"},""),Oe(" Riwayat Transfer ")],-1)),n("span",jB,A(O.value.length),1)]),O.value.length===0?(T(),R("div",UB,[...be[42]||(be[42]=[n("div",{class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[n("svg",{class:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),n("p",{class:"text-gray-400 font-semibold"},"Belum ada transfer",-1),n("p",{class:"text-gray-400 text-sm mt-1"},"Mulai scan untuk membuat transfer",-1)])])):(T(),R("div",HB,[ss(k9,{name:"list"},{default:_t(()=>[(T(!0),R(Ye,null,at(O.value.slice().reverse(),(qe,ot)=>(T(),R("div",{key:ot,class:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200"},[n("div",zB,[n("div",VB,[n("p",qB,A(qe.materialName),1),n("p",WB,A(qe.materialCode),1)]),n("span",QB,A(qe.timestamp),1)]),n("div",GB,[n("span",KB,A(qe.fromBin),1),be[43]||(be[43]=n("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),n("span",YB,A(qe.toBin),1)]),n("div",XB,[be[44]||(be[44]=n("span",{class:"text-gray-600"},"Qty:",-1)),n("span",JB,A(qe.quantity)+" "+A(qe.unit),1)])]))),128))]),_:1})]))])])])):se("",!0)]),_:1})]),_:1}))}},e_=Xi(ZB,[["__scopeId","data-v-7f90dc94"]]),t_=Object.freeze(Object.defineProperty({__proto__:null,default:e_},Symbol.toStringTag,{value:"Module"})),s_={__name:"CentralData",setup(e){return(t,s)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[...s[0]||(s[0]=[n("div",{class:"py-12"},[n("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[n("h1",{class:"text-2xl font-bold mb-4"},"Role Permission"),n("p",null,"Role n Permission")])],-1)])]),_:1}))}},n_=Object.freeze(Object.defineProperty({__proto__:null,default:s_},Symbol.toStringTag,{value:"Module"}));var gt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gt||(gt={}));var Uh=new Map([[gt.QR_CODE,"QR_CODE"],[gt.AZTEC,"AZTEC"],[gt.CODABAR,"CODABAR"],[gt.CODE_39,"CODE_39"],[gt.CODE_93,"CODE_93"],[gt.CODE_128,"CODE_128"],[gt.DATA_MATRIX,"DATA_MATRIX"],[gt.MAXICODE,"MAXICODE"],[gt.ITF,"ITF"],[gt.EAN_13,"EAN_13"],[gt.EAN_8,"EAN_8"],[gt.PDF_417,"PDF_417"],[gt.RSS_14,"RSS_14"],[gt.RSS_EXPANDED,"RSS_EXPANDED"],[gt.UPC_A,"UPC_A"],[gt.UPC_E,"UPC_E"],[gt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Hh;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Hh||(Hh={}));function r_(e){return Object.values(gt).includes(e)}var So;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(So||(So={}));var cr=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[So.SCAN_TYPE_CAMERA,So.SCAN_TYPE_FILE],e})(),Bb=(function(){function e(t,s){this.format=t,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Uh.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Uh.get(t))},e})(),zh=(function(){function e(){}return e.createFromText=function(t){var s={text:t};return{decodedText:t,result:s}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Lu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Lu||(Lu={}));var _b=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Lu.UNKWOWN_ERROR}},e})(),Db=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,s){(this.verbose||s===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Dr(e){return typeof e>"u"||e===null}function o_(e,t,s){return e>s?s:e<t?t:e}var Di=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),fs=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),Vh=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),Sb=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,s){if(typeof t!="object"){var r=typeof t;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),d=Object.keys(t),u=0,g=d;u<g.length;u++){var h=g[u];if(a.has(h))return s.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e})(),Ea={exports:{}},i_=Ea.exports,qh;function a_(){return qh||(qh=1,(function(e,t){(function(s,r){r(t)})(i_,(function(s){function r(W){return W==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,o){W.__proto__=o}||function(W,o){for(var l in o)o.hasOwnProperty(l)&&(W[l]=o[l])};function a(W,o){i(W,o);function l(){this.constructor=W}W.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}function d(W,o){var l=Object.setPrototypeOf;l?l(W,o):W.__proto__=o}function u(W,o){o===void 0&&(o=W.constructor);var l=Error.captureStackTrace;l&&l(W,o)}var g=(function(W){a(o,W);function o(l){var c=this.constructor,x=W.call(this,l)||this;return Object.defineProperty(x,"name",{value:c.name,enumerable:!1}),d(x,c.prototype),u(x),x}return o})(Error);class h extends g{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}h.kind="Exception";class m extends h{}m.kind="ArgumentException";class b extends h{}b.kind="IllegalArgumentException";class v{constructor(o){if(this.binarizer=o,o===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,l){return this.binarizer.getBlackRow(o,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,l,c,x){const f=this.binarizer.getLuminanceSource().crop(o,l,c,x);return new v(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends h{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class _{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(o,l,c,x,f){for(;f--;)c[x++]=o[l++]}static currentTimeMillis(){return Date.now()}}class S extends h{}S.kind="IndexOutOfBoundsException";class D extends S{constructor(o=void 0,l=void 0){super(l),this.index=o,this.message=l}}D.kind="ArrayIndexOutOfBoundsException";class O{static fill(o,l){for(let c=0,x=o.length;c<x;c++)o[c]=l}static fillWithin(o,l,c,x){O.rangeCheck(o.length,l,c);for(let f=l;f<c;f++)o[f]=x}static rangeCheck(o,l,c){if(l>c)throw new b("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new D(l);if(c>o)throw new D(c)}static asList(...o){return o}static create(o,l,c){return Array.from({length:o}).map(f=>Array.from({length:l}).fill(c))}static createInt32Array(o,l,c){return Array.from({length:o}).map(f=>Int32Array.from({length:l}).fill(c))}static equals(o,l){if(!o||!l||!o.length||!l.length||o.length!==l.length)return!1;for(let c=0,x=o.length;c<x;c++)if(o[c]!==l[c])return!1;return!0}static hashCode(o){if(o===null)return 0;let l=1;for(const c of o)l=31*l+c;return l}static fillUint8Array(o,l){for(let c=0;c!==o.length;c++)o[c]=l}static copyOf(o,l){return o.slice(0,l)}static copyOfUint8Array(o,l){if(o.length<=l){const c=new Uint8Array(l);return c.set(o),c}return o.slice(0,l)}static copyOfRange(o,l,c){const x=c-l,f=new Int32Array(x);return F.arraycopy(o,l,f,0,x),f}static binarySearch(o,l,c){c===void 0&&(c=O.numberComparator);let x=0,f=o.length-1;for(;x<=f;){const p=f+x>>1,y=c(l,o[p]);if(y>0)x=p+1;else if(y<0)f=p-1;else return p}return-x-1}static numberComparator(o,l){return o-l}}class P{static numberOfTrailingZeros(o){let l;if(o===0)return 32;let c=31;return l=o<<16,l!==0&&(c-=16,o=l),l=o<<8,l!==0&&(c-=8,o=l),l=o<<4,l!==0&&(c-=4,o=l),l=o<<2,l!==0&&(c-=2,o=l),c-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let l=1;return o>>>16||(l+=16,o<<=16),o>>>24||(l+=8,o<<=8),o>>>28||(l+=4,o<<=4),o>>>30||(l+=2,o<<=2),l-=o>>>31,l}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,l){return Math.trunc(o/l)}static parseInt(o,l=void 0){return parseInt(o,l)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(o,l){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,l==null?this.bits=B.makeArray(o):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const l=B.makeArray(o);F.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const l=this.size;if(o>=l)return l;const c=this.bits;let x=Math.floor(o/32),f=c[x];f&=~((1<<(o&31))-1);const p=c.length;for(;f===0;){if(++x===p)return l;f=c[x]}const y=x*32+P.numberOfTrailingZeros(f);return y>l?l:y}getNextUnset(o){const l=this.size;if(o>=l)return l;const c=this.bits;let x=Math.floor(o/32),f=~c[x];f&=~((1<<(o&31))-1);const p=c.length;for(;f===0;){if(++x===p)return l;f=~c[x]}const y=x*32+P.numberOfTrailingZeros(f);return y>l?l:y}setBulk(o,l){this.bits[Math.floor(o/32)]=l}setRange(o,l){if(l<o||o<0||l>this.size)throw new b;if(l===o)return;l--;const c=Math.floor(o/32),x=Math.floor(l/32),f=this.bits;for(let p=c;p<=x;p++){const y=p>c?0:o&31,k=(2<<(p<x?31:l&31))-(1<<y);f[p]|=k}}clear(){const o=this.bits.length,l=this.bits;for(let c=0;c<o;c++)l[c]=0}isRange(o,l,c){if(l<o||o<0||l>this.size)throw new b;if(l===o)return!0;l--;const x=Math.floor(o/32),f=Math.floor(l/32),p=this.bits;for(let y=x;y<=f;y++){const w=y>x?0:o&31,L=(2<<(y<f?31:l&31))-(1<<w)&4294967295;if((p[y]&L)!==(c?L:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,l){if(l<0||l>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((o>>c-1&1)===1)}appendBitArray(o){const l=o.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(o.get(c))}xor(o){if(this.size!==o.size)throw new b("Sizes don't match");const l=this.bits;for(let c=0,x=l.length;c<x;c++)l[c]^=o.bits[c]}toBytes(o,l,c,x){for(let f=0;f<x;f++){let p=0;for(let y=0;y<8;y++)this.get(o)&&(p|=1<<7-y),o++;l[c+f]=p}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,x=this.bits;for(let f=0;f<c;f++){let p=x[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,o[l-f]=p}if(this.size!==c*32){const f=c*32-this.size;let p=o[0]>>>f;for(let y=1;y<c;y++){const w=o[y];p|=w<<32-f,o[y-1]=p,p=w>>>f}o[c-1]=p}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof B))return!1;const l=o;return this.size===l.size&&O.equals(this.bits,l.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let o="";for(let l=0,c=this.size;l<c;l++)(l&7)===0&&(o+=" "),o+=this.get(l)?"X":".";return o}clone(){return new B(this.size,this.bits.slice())}}var U;(function(W){W[W.OTHER=0]="OTHER",W[W.PURE_BARCODE=1]="PURE_BARCODE",W[W.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",W[W.TRY_HARDER=3]="TRY_HARDER",W[W.CHARACTER_SET=4]="CHARACTER_SET",W[W.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",W[W.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",W[W.ASSUME_GS1=7]="ASSUME_GS1",W[W.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",W[W.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",W[W.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var z=U;class j extends h{static getFormatInstance(){return new j}}j.kind="FormatException";var H;(function(W){W[W.Cp437=0]="Cp437",W[W.ISO8859_1=1]="ISO8859_1",W[W.ISO8859_2=2]="ISO8859_2",W[W.ISO8859_3=3]="ISO8859_3",W[W.ISO8859_4=4]="ISO8859_4",W[W.ISO8859_5=5]="ISO8859_5",W[W.ISO8859_6=6]="ISO8859_6",W[W.ISO8859_7=7]="ISO8859_7",W[W.ISO8859_8=8]="ISO8859_8",W[W.ISO8859_9=9]="ISO8859_9",W[W.ISO8859_10=10]="ISO8859_10",W[W.ISO8859_11=11]="ISO8859_11",W[W.ISO8859_13=12]="ISO8859_13",W[W.ISO8859_14=13]="ISO8859_14",W[W.ISO8859_15=14]="ISO8859_15",W[W.ISO8859_16=15]="ISO8859_16",W[W.SJIS=16]="SJIS",W[W.Cp1250=17]="Cp1250",W[W.Cp1251=18]="Cp1251",W[W.Cp1252=19]="Cp1252",W[W.Cp1256=20]="Cp1256",W[W.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",W[W.UTF8=22]="UTF8",W[W.ASCII=23]="ASCII",W[W.Big5=24]="Big5",W[W.GB18030=25]="GB18030",W[W.EUC_KR=26]="EUC_KR"})(H||(H={}));class I{constructor(o,l,c,...x){this.valueIdentifier=o,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=x,I.VALUE_IDENTIFIER_TO_ECI.set(o,this),I.NAME_TO_ECI.set(c,this);const f=this.values;for(let p=0,y=f.length;p!==y;p++){const w=f[p];I.VALUES_TO_ECI.set(w,this)}for(const p of x)I.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new j("incorect value");const l=I.VALUES_TO_ECI.get(o);if(l===void 0)throw new j("incorect value");return l}static getCharacterSetECIByName(o){const l=I.NAME_TO_ECI.get(o);if(l===void 0)throw new j("incorect value");return l}equals(o){if(!(o instanceof I))return!1;const l=o;return this.getName()===l.getName()}}I.VALUE_IDENTIFIER_TO_ECI=new Map,I.VALUES_TO_ECI=new Map,I.NAME_TO_ECI=new Map,I.Cp437=new I(H.Cp437,Int32Array.from([0,2]),"Cp437"),I.ISO8859_1=new I(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),I.ISO8859_2=new I(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),I.ISO8859_3=new I(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),I.ISO8859_4=new I(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),I.ISO8859_5=new I(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),I.ISO8859_6=new I(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),I.ISO8859_7=new I(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),I.ISO8859_8=new I(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),I.ISO8859_9=new I(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),I.ISO8859_10=new I(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),I.ISO8859_11=new I(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),I.ISO8859_13=new I(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),I.ISO8859_14=new I(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),I.ISO8859_15=new I(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),I.ISO8859_16=new I(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),I.SJIS=new I(H.SJIS,20,"SJIS","Shift_JIS"),I.Cp1250=new I(H.Cp1250,21,"Cp1250","windows-1250"),I.Cp1251=new I(H.Cp1251,22,"Cp1251","windows-1251"),I.Cp1252=new I(H.Cp1252,23,"Cp1252","windows-1252"),I.Cp1256=new I(H.Cp1256,24,"Cp1256","windows-1256"),I.UnicodeBigUnmarked=new I(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),I.UTF8=new I(H.UTF8,26,"UTF8","UTF-8"),I.ASCII=new I(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),I.Big5=new I(H.Big5,28,"Big5"),I.GB18030=new I(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),I.EUC_KR=new I(H.EUC_KR,30,"EUC_KR","EUC-KR");class $ extends h{}$.kind="UnsupportedOperationException";class J{static decode(o,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(o,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(o,c):new TextDecoder(c).decode(o)}static shouldDecodeOnFallback(o){return!J.isBrowser()&&o==="ISO-8859-1"}static encode(o,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(o,c):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof I?o:I.getCharacterSetECIByName(o)}static decodeFallback(o,l){const c=this.encodingCharacterSet(l);if(J.isDecodeFallbackSupported(c)){let x="";for(let f=0,p=o.length;f<p;f++){let y=o[f].toString(16);y.length<2&&(y="0"+y),x+="%"+y}return decodeURIComponent(x)}if(c.equals(I.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new $(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(I.UTF8)||o.equals(I.ISO8859_1)||o.equals(I.ASCII)}static encodeFallback(o){const c=btoa(unescape(encodeURIComponent(o))).split(""),x=[];for(let f=0;f<c.length;f++)x.push(c[f].charCodeAt(0));return new Uint8Array(x)}}class K{static castAsNonUtf8Char(o,l=null){const c=l?l.getName():this.ISO88591;return J.decode(new Uint8Array([o]),c)}static guessEncoding(o,l){if(l!=null&&l.get(z.CHARACTER_SET)!==void 0)return l.get(z.CHARACTER_SET).toString();const c=o.length;let x=!0,f=!0,p=!0,y=0,w=0,k=0,L=0,Q=0,X=0,ce=0,Ae=0,ke=0,Pe=0,Le=0;const st=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let rt=0;rt<c&&(x||f||p);rt++){const et=o[rt]&255;p&&(y>0?(et&128)===0?p=!1:y--:(et&128)!==0&&((et&64)===0?p=!1:(y++,(et&32)===0?w++:(y++,(et&16)===0?k++:(y++,(et&8)===0?L++:p=!1))))),x&&(et>127&&et<160?x=!1:et>159&&(et<192||et===215||et===247)&&Le++),f&&(Q>0?et<64||et===127||et>252?f=!1:Q--:et===128||et===160||et>239?f=!1:et>160&&et<224?(X++,Ae=0,ce++,ce>ke&&(ke=ce)):et>127?(Q++,ce=0,Ae++,Ae>Pe&&(Pe=Ae)):(ce=0,Ae=0))}return p&&y>0&&(p=!1),f&&Q>0&&(f=!1),p&&(st||w+k+L>0)?K.UTF8:f&&(K.ASSUME_SHIFT_JIS||ke>=3||Pe>=3)?K.SHIFT_JIS:x&&f?ke===2&&X===2||Le*10>=c?K.SHIFT_JIS:K.ISO88591:x?K.ISO88591:f?K.SHIFT_JIS:p?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(o,...l){let c=-1;function x(p,y,w,k,L,Q){if(p==="%%")return"%";if(l[++c]===void 0)return;p=k?parseInt(k.substr(1)):void 0;let X=L?parseInt(L.substr(1)):void 0,ce;switch(Q){case"s":ce=l[c];break;case"c":ce=l[c][0];break;case"f":ce=parseFloat(l[c]).toFixed(p);break;case"p":ce=parseFloat(l[c]).toPrecision(p);break;case"e":ce=parseFloat(l[c]).toExponential(p);break;case"x":ce=parseInt(l[c]).toString(X||16);break;case"d":ce=parseFloat(parseInt(l[c],X||10).toPrecision(p)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(X);let Ae=parseInt(w),ke=w&&w[0]+""=="0"?"0":" ";for(;ce.length<Ae;)ce=y!==void 0?ce+ke:ke+ce;return ce}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(f,x)}static getBytes(o,l){return J.encode(o,l)}static getCharCode(o,l=0){return o.charCodeAt(l)}static getCharAt(o){return String.fromCharCode(o)}}K.SHIFT_JIS=I.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=I.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=I.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class ie{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=K.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,l,c){for(let x=l;l<l+c;x++)this.append(o[x]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+1)}substring(o,l){return this.value.substring(o,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+l.length)}}class fe{constructor(o,l,c,x){if(this.width=o,this.height=l,this.rowSize=c,this.bits=x,l==null&&(l=o),this.height=l,o<1||l<1)throw new b("Both dimensions must be greater than 0");c==null&&(c=Math.floor((o+31)/32)),this.rowSize=c,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const l=o.length,c=o[0].length,x=new fe(c,l);for(let f=0;f<l;f++){const p=o[f];for(let y=0;y<c;y++)p[y]&&x.set(y,f)}return x}static parseFromString(o,l,c){if(o===null)throw new b("stringRepresentation cannot be null");const x=new Array(o.length);let f=0,p=0,y=-1,w=0,k=0;for(;k<o.length;)if(o.charAt(k)===`
`||o.charAt(k)==="\r"){if(f>p){if(y===-1)y=f-p;else if(f-p!==y)throw new b("row lengths do not match");p=f,w++}k++}else if(o.substring(k,k+l.length)===l)k+=l.length,x[f]=!0,f++;else if(o.substring(k,k+c.length)===c)k+=c.length,x[f]=!1,f++;else throw new b("illegal character encountered: "+o.substring(k));if(f>p){if(y===-1)y=f-p;else if(f-p!==y)throw new b("row lengths do not match");w++}const L=new fe(y,w);for(let Q=0;Q<f;Q++)x[Q]&&L.set(Math.floor(Q%y),Math.floor(Q/y));return L}get(o,l){const c=l*this.rowSize+Math.floor(o/32);return(this.bits[c]>>>(o&31)&1)!==0}set(o,l){const c=l*this.rowSize+Math.floor(o/32);this.bits[c]|=1<<(o&31)&4294967295}unset(o,l){const c=l*this.rowSize+Math.floor(o/32);this.bits[c]&=~(1<<(o&31)&4294967295)}flip(o,l){const c=l*this.rowSize+Math.floor(o/32);this.bits[c]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new b("input matrix dimensions do not match");const l=new B(Math.floor(this.width/32)+1),c=this.rowSize,x=this.bits;for(let f=0,p=this.height;f<p;f++){const y=f*c,w=o.getRow(f,l).getBitArray();for(let k=0;k<c;k++)x[y+k]^=w[k]}}clear(){const o=this.bits,l=o.length;for(let c=0;c<l;c++)o[c]=0}setRegion(o,l,c,x){if(l<0||o<0)throw new b("Left and top must be nonnegative");if(x<1||c<1)throw new b("Height and width must be at least 1");const f=o+c,p=l+x;if(p>this.height||f>this.width)throw new b("The region must fit inside the matrix");const y=this.rowSize,w=this.bits;for(let k=l;k<p;k++){const L=k*y;for(let Q=o;Q<f;Q++)w[L+Math.floor(Q/32)]|=1<<(Q&31)&4294967295}}getRow(o,l){l==null||l.getSize()<this.width?l=new B(this.width):l.clear();const c=this.rowSize,x=this.bits,f=o*c;for(let p=0;p<c;p++)l.setBulk(p*32,x[f+p]);return l}setRow(o,l){F.arraycopy(l.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),l=this.getHeight();let c=new B(o),x=new B(o);for(let f=0,p=Math.floor((l+1)/2);f<p;f++)c=this.getRow(f,c),x=this.getRow(l-1-f,x),c.reverse(),x.reverse(),this.setRow(f,x),this.setRow(l-1-f,c)}getEnclosingRectangle(){const o=this.width,l=this.height,c=this.rowSize,x=this.bits;let f=o,p=l,y=-1,w=-1;for(let k=0;k<l;k++)for(let L=0;L<c;L++){const Q=x[k*c+L];if(Q!==0){if(k<p&&(p=k),k>w&&(w=k),L*32<f){let X=0;for(;(Q<<31-X&4294967295)===0;)X++;L*32+X<f&&(f=L*32+X)}if(L*32+31>y){let X=31;for(;!(Q>>>X);)X--;L*32+X>y&&(y=L*32+X)}}}return y<f||w<p?null:Int32Array.from([f,p,y-f+1,w-p+1])}getTopLeftOnBit(){const o=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const x=c/o;let f=c%o*32;const p=l[c];let y=0;for(;(p<<31-y&4294967295)===0;)y++;return f+=y,Int32Array.from([f,x])}getBottomRightOnBit(){const o=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const x=Math.floor(c/o);let f=Math.floor(c%o)*32;const p=l[c];let y=31;for(;!(p>>>y);)y--;return f+=y,Int32Array.from([f,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof fe))return!1;const l=o;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&O.equals(this.bits,l.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+O.hashCode(this.bits),o}toString(o="X ",l="  ",c=`
`){return this.buildToString(o,l,c)}buildToString(o,l,c){let x=new ie;for(let f=0,p=this.height;f<p;f++){for(let y=0,w=this.width;y<w;y++)x.append(this.get(y,f)?o:l);x.append(c)}return x.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends h{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class le extends _{constructor(o){super(o),this.luminances=le.EMPTY,this.buckets=new Int32Array(le.LUMINANCE_BUCKETS)}getBlackRow(o,l){const c=this.getLuminanceSource(),x=c.getWidth();l==null||l.getSize()<x?l=new B(x):l.clear(),this.initArrays(x);const f=c.getRow(o,this.luminances),p=this.buckets;for(let w=0;w<x;w++)p[(f[w]&255)>>le.LUMINANCE_SHIFT]++;const y=le.estimateBlackPoint(p);if(x<3)for(let w=0;w<x;w++)(f[w]&255)<y&&l.set(w);else{let w=f[0]&255,k=f[1]&255;for(let L=1;L<x-1;L++){const Q=f[L+1]&255;(k*4-w-Q)/2<y&&l.set(L),w=k,k=Q}}return l}getBlackMatrix(){const o=this.getLuminanceSource(),l=o.getWidth(),c=o.getHeight(),x=new fe(l,c);this.initArrays(l);const f=this.buckets;for(let w=1;w<5;w++){const k=Math.floor(c*w/5),L=o.getRow(k,this.luminances),Q=Math.floor(l*4/5);for(let X=Math.floor(l/5);X<Q;X++){const ce=L[X]&255;f[ce>>le.LUMINANCE_SHIFT]++}}const p=le.estimateBlackPoint(f),y=o.getMatrix();for(let w=0;w<c;w++){const k=w*l;for(let L=0;L<l;L++)(y[k+L]&255)<p&&x.set(L,w)}return x}createBinarizer(o){return new le(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const l=this.buckets;for(let c=0;c<le.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(o){const l=o.length;let c=0,x=0,f=0;for(let L=0;L<l;L++)o[L]>f&&(x=L,f=o[L]),o[L]>c&&(c=o[L]);let p=0,y=0;for(let L=0;L<l;L++){const Q=L-x,X=o[L]*Q*Q;X>y&&(p=L,y=X)}if(x>p){const L=x;x=p,p=L}if(p-x<=l/16)throw new q;let w=p-1,k=-1;for(let L=p-1;L>x;L--){const Q=L-x,X=Q*Q*(p-L)*(c-o[L]);X>k&&(w=L,k=X)}return w<<le.LUMINANCE_SHIFT}}le.LUMINANCE_BITS=5,le.LUMINANCE_SHIFT=8-le.LUMINANCE_BITS,le.LUMINANCE_BUCKETS=1<<le.LUMINANCE_BITS,le.EMPTY=Uint8ClampedArray.from([0]);class he extends le{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),l=o.getWidth(),c=o.getHeight();if(l>=he.MINIMUM_DIMENSION&&c>=he.MINIMUM_DIMENSION){const x=o.getMatrix();let f=l>>he.BLOCK_SIZE_POWER;(l&he.BLOCK_SIZE_MASK)!==0&&f++;let p=c>>he.BLOCK_SIZE_POWER;(c&he.BLOCK_SIZE_MASK)!==0&&p++;const y=he.calculateBlackPoints(x,f,p,l,c),w=new fe(l,c);he.calculateThresholdForBlock(x,f,p,l,c,y,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new he(o)}static calculateThresholdForBlock(o,l,c,x,f,p,y){const w=f-he.BLOCK_SIZE,k=x-he.BLOCK_SIZE;for(let L=0;L<c;L++){let Q=L<<he.BLOCK_SIZE_POWER;Q>w&&(Q=w);const X=he.cap(L,2,c-3);for(let ce=0;ce<l;ce++){let Ae=ce<<he.BLOCK_SIZE_POWER;Ae>k&&(Ae=k);const ke=he.cap(ce,2,l-3);let Pe=0;for(let st=-2;st<=2;st++){const rt=p[X+st];Pe+=rt[ke-2]+rt[ke-1]+rt[ke]+rt[ke+1]+rt[ke+2]}const Le=Pe/25;he.thresholdBlock(o,Ae,Q,Le,x,y)}}}static cap(o,l,c){return o<l?l:o>c?c:o}static thresholdBlock(o,l,c,x,f,p){for(let y=0,w=c*f+l;y<he.BLOCK_SIZE;y++,w+=f)for(let k=0;k<he.BLOCK_SIZE;k++)(o[w+k]&255)<=x&&p.set(l+k,c+y)}static calculateBlackPoints(o,l,c,x,f){const p=f-he.BLOCK_SIZE,y=x-he.BLOCK_SIZE,w=new Array(c);for(let k=0;k<c;k++){w[k]=new Int32Array(l);let L=k<<he.BLOCK_SIZE_POWER;L>p&&(L=p);for(let Q=0;Q<l;Q++){let X=Q<<he.BLOCK_SIZE_POWER;X>y&&(X=y);let ce=0,Ae=255,ke=0;for(let Le=0,st=L*x+X;Le<he.BLOCK_SIZE;Le++,st+=x){for(let rt=0;rt<he.BLOCK_SIZE;rt++){const et=o[st+rt]&255;ce+=et,et<Ae&&(Ae=et),et>ke&&(ke=et)}if(ke-Ae>he.MIN_DYNAMIC_RANGE)for(Le++,st+=x;Le<he.BLOCK_SIZE;Le++,st+=x)for(let rt=0;rt<he.BLOCK_SIZE;rt++)ce+=o[st+rt]&255}let Pe=ce>>he.BLOCK_SIZE_POWER*2;if(ke-Ae<=he.MIN_DYNAMIC_RANGE&&(Pe=Ae/2,k>0&&Q>0)){const Le=(w[k-1][Q]+2*w[k][Q-1]+w[k-1][Q-1])/4;Ae<Le&&(Pe=Le)}w[k][Q]=Pe}}return w}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class ve{constructor(o,l){this.width=o,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,l,c,x){throw new $("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new $("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new $("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let l=new ie;for(let c=0;c<this.height;c++){const x=this.getRow(c,o);for(let f=0;f<this.width;f++){const p=x[f]&255;let y;p<64?y="#":p<128?y="+":p<192?y=".":y=" ",l.append(y)}l.append(`
`)}return l.toString()}}class Ie extends ve{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,l){const c=this.delegate.getRow(o,l),x=this.getWidth();for(let f=0;f<x;f++)c[f]=255-(c[f]&255);return c}getMatrix(){const o=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let x=0;x<l;x++)c[x]=255-(o[x]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(o,l,c,x){return new Ie(this.delegate.crop(o,l,c,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ie(this.delegate.rotateCounterClockwise45())}}class Ue extends ve{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Ue.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const l=o.getContext("2d").getImageData(0,0,o.width,o.height);return Ue.toGrayscaleBuffer(l.data,o.width,o.height)}static toGrayscaleBuffer(o,l,c){const x=new Uint8ClampedArray(l*c);for(let f=0,p=0,y=o.length;f<y;f+=4,p++){let w;if(o[f+3]===0)w=255;else{const L=o[f],Q=o[f+1],X=o[f+2];w=306*L+601*Q+117*X+512>>10}x[p]=w}return x}getRow(o,l){if(o<0||o>=this.getHeight())throw new b("Requested row is outside the image: "+o);const c=this.getWidth(),x=o*c;return l===null?l=this.buffer.slice(x,x+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(x,x+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,l,c,x){return super.crop(o,l,c,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const l=this.getTempCanvasElement(),c=l.getContext("2d"),x=o*Ue.DEGREE_TO_RADIANS,f=this.canvas.width,p=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(x))*f+Math.abs(Math.sin(x))*p),w=Math.ceil(Math.abs(Math.sin(x))*f+Math.abs(Math.cos(x))*p);return l.width=y,l.height=w,c.translate(y/2,w/2),c.rotate(x),c.drawImage(this.canvas,f/-2,p/-2),this.buffer=Ue.makeBufferFromCanvasImageData(l),this}invert(){return new Ie(this)}}Ue.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(o,l,c){this.deviceId=o,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var qe=(globalThis||_i||self||window||void 0)&&(globalThis||_i||self||window||void 0).__awaiter||function(W,o,l,c){function x(f){return f instanceof l?f:new l(function(p){p(f)})}return new(l||(l=Promise))(function(f,p){function y(L){try{k(c.next(L))}catch(Q){p(Q)}}function w(L){try{k(c.throw(L))}catch(Q){p(Q)}}function k(L){L.done?f(L.value):x(L.value).then(y,w)}k((c=c.apply(W,o||[])).next())})};class ot{constructor(o,l=500,c){this.reader=o,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of o){const x=c.kind==="video"?"videoinput":c.kind;if(x!=="videoinput")continue;const f=c.deviceId||c.id,p=c.label||`Video device ${l.length+1}`,y=c.groupId,w={deviceId:f,label:p,kind:x,groupId:y};l.push(w)}return l})}getVideoInputDevices(){return qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new be(l.deviceId,l.label))})}findDeviceById(o){return qe(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===o):null})}decodeFromInputVideoDevice(o,l){return qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,l)})}decodeOnceFromVideoDevice(o,l){return qe(this,void 0,void 0,function*(){this.reset();let c;o?c={deviceId:{exact:o}}:c={facingMode:"environment"};const x={video:c};return yield this.decodeOnceFromConstraints(x,l)})}decodeOnceFromConstraints(o,l){return qe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(o,l){return qe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(o,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(o,l,c){return qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,l,c)})}decodeFromVideoDevice(o,l,c){return qe(this,void 0,void 0,function*(){let x;o?x={deviceId:{exact:o}}:x={facingMode:"environment"};const f={video:x};return yield this.decodeFromConstraints(f,l,c)})}decodeFromConstraints(o,l,c){return qe(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(x,l,c)})}decodeFromStream(o,l,c){return qe(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(o,l);return yield this.decodeContinuously(x,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,l){return qe(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,o),this.videoElement=c,this.stream=o,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(o){return new Promise((l,c)=>this.playVideoOnLoad(o,()=>l()))}playVideoOnLoad(o,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",l),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,l){const c=document.getElementById(o);if(!c)throw new m(`element with id '${o}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new m(`element with id '${o}' must be an ${l} element`);return c}decodeFromImage(o,l){if(!o&&!l)throw new m("either imageElement with a src set or an url must be provided");return l&&!o?this.decodeFromImageUrl(l):this.decodeFromImageElement(o)}decodeFromVideo(o,l){if(!o&&!l)throw new m("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,l,c){if(o===void 0&&l===void 0)throw new m("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(o,c)}decodeFromImageElement(o){if(!o)throw new m("An image element must be provided.");this.reset();const l=this.prepareImageElement(o);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(o){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(o,l){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(o){if(!o)throw new m("A video element must be provided.");this.reset();const l=this.prepareVideoElement(o);return this.videoElement=l,l}decodeFromImageUrl(o){if(!o)throw new m("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=o,c}decodeFromVideoUrl(o){if(!o)throw new m("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=o,c}decodeFromVideoUrlContinuously(o,l){if(!o)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(c,l);return c.src=o,x}_decodeOnLoadImage(o){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(l,c),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,l){return qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,l)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let l;return typeof o>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(l=o),l}prepareVideoElement(o){let l;return!o&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(l=o),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(o,l=!0,c=!0){this._stopAsyncDecode=!1;const x=(f,p)=>{if(this._stopAsyncDecode){p(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(o);f(y)}catch(y){const w=l&&y instanceof q,L=(y instanceof C||y instanceof j)&&c;if(w||L)return setTimeout(x,this._timeBetweenDecodingAttempts,f,p);p(y)}};return new Promise((f,p)=>x(f,p))}decodeContinuously(o,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(o);l(x,null),setTimeout(c,this.timeBetweenScansMillis)}catch(x){l(null,x);const f=x instanceof C||x instanceof j,p=x instanceof q;(f||p)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(o){const l=this.createBinaryBitmap(o);return this.decodeBitmap(l)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,l,c){l||(l={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(o,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),c=new Ue(l),x=new he(c);return new v(x)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const l=this.createCaptureCanvas(o);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,x;return typeof o<"u"&&(o instanceof HTMLVideoElement?(c=o.videoWidth,x=o.videoHeight):o instanceof HTMLImageElement&&(c=o.naturalWidth||o.width,x=o.naturalHeight||o.height)),l.style.width=c+"px",l.style.height=x+"px",l.width=c,l.height=x,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,l){try{o.srcObject=l}catch{o.src=URL.createObjectURL(l)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(o,l,c=l==null?0:8*l.length,x,f,p=F.currentTimeMillis()){this.text=o,this.rawBytes=l,this.numBits=c,this.resultPoints=x,this.format=f,this.timestamp=p,this.text=o,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=x,this.format=f,this.resultMetadata=null,p==null?this.timestamp=F.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,l)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const l=this.resultPoints;if(l===null)this.resultPoints=o;else if(o!==null&&o.length>0){const c=new Array(l.length+o.length);F.arraycopy(l,0,c,0,l.length),F.arraycopy(o,0,c,l.length,o.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var dt;(function(W){W[W.AZTEC=0]="AZTEC",W[W.CODABAR=1]="CODABAR",W[W.CODE_39=2]="CODE_39",W[W.CODE_93=3]="CODE_93",W[W.CODE_128=4]="CODE_128",W[W.DATA_MATRIX=5]="DATA_MATRIX",W[W.EAN_8=6]="EAN_8",W[W.EAN_13=7]="EAN_13",W[W.ITF=8]="ITF",W[W.MAXICODE=9]="MAXICODE",W[W.PDF_417=10]="PDF_417",W[W.QR_CODE=11]="QR_CODE",W[W.RSS_14=12]="RSS_14",W[W.RSS_EXPANDED=13]="RSS_EXPANDED",W[W.UPC_A=14]="UPC_A",W[W.UPC_E=15]="UPC_E",W[W.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(dt||(dt={}));var ze=dt,xt;(function(W){W[W.OTHER=0]="OTHER",W[W.ORIENTATION=1]="ORIENTATION",W[W.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",W[W.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",W[W.ISSUE_NUMBER=4]="ISSUE_NUMBER",W[W.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",W[W.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",W[W.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",W[W.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",W[W.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",W[W.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(xt||(xt={}));var ft=xt;class yt{constructor(o,l,c,x,f=-1,p=-1){this.rawBytes=o,this.text=l,this.byteSegments=c,this.ecLevel=x,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class vt{exp(o){return this.expTable[o]}log(o){if(o===0)throw new b;return this.logTable[o]}static addOrSubtract(o,l){return o^l}}class it{constructor(o,l){if(l.length===0)throw new b;this.field=o;const c=l.length;if(c>1&&l[0]===0){let x=1;for(;x<c&&l[x]===0;)x++;x===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-x),F.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(o===1){c=0;for(let p=0,y=l.length;p!==y;p++){const w=l[p];c=vt.addOrSubtract(c,w)}return c}c=l[0];const x=l.length,f=this.field;for(let p=1;p<x;p++)c=vt.addOrSubtract(f.multiply(o,c),l[p]);return c}addOrSubtract(o){if(!this.field.equals(o.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,c=o.coefficients;if(l.length>c.length){const p=l;l=c,c=p}let x=new Int32Array(c.length);const f=c.length-l.length;F.arraycopy(c,0,x,0,f);for(let p=f;p<c.length;p++)x[p]=vt.addOrSubtract(l[p-f],c[p]);return new it(this.field,x)}multiply(o){if(!this.field.equals(o.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,x=o.coefficients,f=x.length,p=new Int32Array(c+f-1),y=this.field;for(let w=0;w<c;w++){const k=l[w];for(let L=0;L<f;L++)p[w+L]=vt.addOrSubtract(p[w+L],y.multiply(k,x[L]))}return new it(y,p)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const l=this.coefficients.length,c=this.field,x=new Int32Array(l),f=this.coefficients;for(let p=0;p<l;p++)x[p]=c.multiply(f[p],o);return new it(c,x)}multiplyByMonomial(o,l){if(o<0)throw new b;if(l===0)return this.field.getZero();const c=this.coefficients,x=c.length,f=new Int32Array(x+o),p=this.field;for(let y=0;y<x;y++)f[y]=p.multiply(c[y],l);return new it(p,f)}divide(o){if(!this.field.equals(o.field))throw new b("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new b("Divide by 0");const l=this.field;let c=l.getZero(),x=this;const f=o.getCoefficient(o.getDegree()),p=l.inverse(f);for(;x.getDegree()>=o.getDegree()&&!x.isZero();){const y=x.getDegree()-o.getDegree(),w=l.multiply(x.getCoefficient(x.getDegree()),p),k=o.multiplyByMonomial(y,w),L=l.buildMonomial(y,w);c=c.addOrSubtract(L),x=x.addOrSubtract(k)}return[c,x]}toString(){let o="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(o+=" - ",c=-c):o.length>0&&(o+=" + "),l===0||c!==1){const x=this.field.log(c);x===0?o+="1":x===1?o+="a":(o+="a^",o+=x)}l!==0&&(l===1?o+="x":(o+="x^",o+=l))}}return o}}class Et extends h{}Et.kind="ArithmeticException";class ne extends vt{constructor(o,l,c){super(),this.primitive=o,this.size=l,this.generatorBase=c;const x=new Int32Array(l);let f=1;for(let y=0;y<l;y++)x[y]=f,f*=2,f>=l&&(f^=o,f&=l-1);this.expTable=x;const p=new Int32Array(l);for(let y=0;y<l-1;y++)p[x[y]]=y;this.logTable=p,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new b;if(l===0)return this.zero;const c=new Int32Array(o+1);return c[0]=l,new it(this,c)}inverse(o){if(o===0)throw new Et;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}ne.AZTEC_DATA_12=new ne(4201,4096,1),ne.AZTEC_DATA_10=new ne(1033,1024,1),ne.AZTEC_DATA_6=new ne(67,64,1),ne.AZTEC_PARAM=new ne(19,16,1),ne.QR_CODE_FIELD_256=new ne(285,256,0),ne.DATA_MATRIX_FIELD_256=new ne(301,256,1),ne.AZTEC_DATA_8=ne.DATA_MATRIX_FIELD_256,ne.MAXICODE_FIELD_64=ne.AZTEC_DATA_6;class ge extends h{}ge.kind="ReedSolomonException";class Te extends h{}Te.kind="IllegalStateException";class He{constructor(o){this.field=o}decode(o,l){const c=this.field,x=new it(c,o),f=new Int32Array(l);let p=!0;for(let ce=0;ce<l;ce++){const Ae=x.evaluateAt(c.exp(ce+c.getGeneratorBase()));f[f.length-1-ce]=Ae,Ae!==0&&(p=!1)}if(p)return;const y=new it(c,f),w=this.runEuclideanAlgorithm(c.buildMonomial(l,1),y,l),k=w[0],L=w[1],Q=this.findErrorLocations(k),X=this.findErrorMagnitudes(L,Q);for(let ce=0;ce<Q.length;ce++){const Ae=o.length-1-c.log(Q[ce]);if(Ae<0)throw new ge("Bad error location");o[Ae]=ne.addOrSubtract(o[Ae],X[ce])}}runEuclideanAlgorithm(o,l,c){if(o.getDegree()<l.getDegree()){const ce=o;o=l,l=ce}const x=this.field;let f=o,p=l,y=x.getZero(),w=x.getOne();for(;p.getDegree()>=(c/2|0);){let ce=f,Ae=y;if(f=p,y=w,f.isZero())throw new ge("r_{i-1} was zero");p=ce;let ke=x.getZero();const Pe=f.getCoefficient(f.getDegree()),Le=x.inverse(Pe);for(;p.getDegree()>=f.getDegree()&&!p.isZero();){const st=p.getDegree()-f.getDegree(),rt=x.multiply(p.getCoefficient(p.getDegree()),Le);ke=ke.addOrSubtract(x.buildMonomial(st,rt)),p=p.addOrSubtract(f.multiplyByMonomial(st,rt))}if(w=ke.multiply(y).addOrSubtract(Ae),p.getDegree()>=f.getDegree())throw new Te("Division algorithm failed to reduce polynomial?")}const k=w.getCoefficient(0);if(k===0)throw new ge("sigmaTilde(0) was zero");const L=x.inverse(k),Q=w.multiplyScalar(L),X=p.multiplyScalar(L);return[Q,X]}findErrorLocations(o){const l=o.getDegree();if(l===1)return Int32Array.from([o.getCoefficient(1)]);const c=new Int32Array(l);let x=0;const f=this.field;for(let p=1;p<f.getSize()&&x<l;p++)o.evaluateAt(p)===0&&(c[x]=f.inverse(p),x++);if(x!==l)throw new ge("Error locator degree does not match number of roots");return c}findErrorMagnitudes(o,l){const c=l.length,x=new Int32Array(c),f=this.field;for(let p=0;p<c;p++){const y=f.inverse(l[p]);let w=1;for(let k=0;k<c;k++)if(p!==k){const L=f.multiply(l[k],y),Q=(L&1)===0?L|1:L&-2;w=f.multiply(w,Q)}x[p]=f.multiply(o.evaluateAt(y),f.inverse(w)),f.getGeneratorBase()!==0&&(x[p]=f.multiply(x[p],y))}return x}}var xe;(function(W){W[W.UPPER=0]="UPPER",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.DIGIT=3]="DIGIT",W[W.PUNCT=4]="PUNCT",W[W.BINARY=5]="BINARY"})(xe||(xe={}));class ee{decode(o){this.ddata=o;let l=o.getBits(),c=this.extractBits(l),x=this.correctBits(c),f=ee.convertBoolArrayToByteArray(x),p=ee.getEncodedData(x),y=new yt(f,p,null,null);return y.setNumBits(x.length),y}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let l=o.length,c=xe.UPPER,x=xe.UPPER,f="",p=0;for(;p<l;)if(x===xe.BINARY){if(l-p<5)break;let y=ee.readCode(o,p,5);if(p+=5,y===0){if(l-p<11)break;y=ee.readCode(o,p,11)+31,p+=11}for(let w=0;w<y;w++){if(l-p<8){p=l;break}const k=ee.readCode(o,p,8);f+=K.castAsNonUtf8Char(k),p+=8}x=c}else{let y=x===xe.DIGIT?4:5;if(l-p<y)break;let w=ee.readCode(o,p,y);p+=y;let k=ee.getCharacter(x,w);k.startsWith("CTRL_")?(c=x,x=ee.getTable(k.charAt(5)),k.charAt(6)==="L"&&(c=x)):(f+=k,x=c)}return f}static getTable(o){switch(o){case"L":return xe.LOWER;case"P":return xe.PUNCT;case"M":return xe.MIXED;case"D":return xe.DIGIT;case"B":return xe.BINARY;case"U":default:return xe.UPPER}}static getCharacter(o,l){switch(o){case xe.UPPER:return ee.UPPER_TABLE[l];case xe.LOWER:return ee.LOWER_TABLE[l];case xe.MIXED:return ee.MIXED_TABLE[l];case xe.PUNCT:return ee.PUNCT_TABLE[l];case xe.DIGIT:return ee.DIGIT_TABLE[l];default:throw new Te("Bad table")}}correctBits(o){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=ne.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=ne.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=ne.AZTEC_DATA_10):(c=12,l=ne.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),f=o.length/c;if(f<x)throw new j;let p=o.length%c,y=new Int32Array(f);for(let X=0;X<f;X++,p+=c)y[X]=ee.readCode(o,p,c);try{new He(l).decode(y,f-x)}catch(X){throw new j(X)}let w=(1<<c)-1,k=0;for(let X=0;X<x;X++){let ce=y[X];if(ce===0||ce===w)throw new j;(ce===1||ce===w-1)&&k++}let L=new Array(x*c-k),Q=0;for(let X=0;X<x;X++){let ce=y[X];if(ce===1||ce===w-1)L.fill(ce>1,Q,Q+c-1),Q+=c-1;else for(let Ae=c-1;Ae>=0;--Ae)L[Q++]=(ce&1<<Ae)!==0}return L}extractBits(o){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),x=(l?11:14)+c*4,f=new Int32Array(x),p=new Array(this.totalBitsInLayer(c,l));if(l)for(let y=0;y<f.length;y++)f[y]=y;else{let y=x+1+2*P.truncDivision(P.truncDivision(x,2)-1,15),w=x/2,k=P.truncDivision(y,2);for(let L=0;L<w;L++){let Q=L+P.truncDivision(L,15);f[w-L-1]=k-Q-1,f[w+L]=k+Q+1}}for(let y=0,w=0;y<c;y++){let k=(c-y)*4+(l?9:12),L=y*2,Q=x-1-L;for(let X=0;X<k;X++){let ce=X*2;for(let Ae=0;Ae<2;Ae++)p[w+ce+Ae]=o.get(f[L+Ae],f[L+X]),p[w+2*k+ce+Ae]=o.get(f[L+X],f[Q-Ae]),p[w+4*k+ce+Ae]=o.get(f[Q-Ae],f[Q-X]),p[w+6*k+ce+Ae]=o.get(f[Q-X],f[L+Ae])}w+=k*8}return p}static readCode(o,l,c){let x=0;for(let f=l;f<l+c;f++)x<<=1,o[f]&&(x|=1);return x}static readByte(o,l){let c=o.length-l;return c>=8?ee.readCode(o,l,8):ee.readCode(o,l,c)<<8-c}static convertBoolArrayToByteArray(o){let l=new Uint8Array((o.length+7)/8);for(let c=0;c<l.length;c++)l[c]=ee.readByte(o,8*c);return l}totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}ee.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ee.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ee.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ee.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ee.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class N{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,l,c,x){const f=o-c,p=l-x;return Math.sqrt(f*f+p*p)}static sum(o){let l=0;for(let c=0,x=o.length;c!==x;c++){const f=o[c];l+=f}return l}}class E{static floatToIntBits(o){return o}}E.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(o,l){this.x=o,this.y=l}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof M){const l=o;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*E.floatToIntBits(this.x)+E.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const l=this.distance(o[0],o[1]),c=this.distance(o[1],o[2]),x=this.distance(o[0],o[2]);let f,p,y;if(c>=l&&c>=x?(p=o[0],f=o[1],y=o[2]):x>=c&&x>=l?(p=o[1],f=o[0],y=o[2]):(p=o[2],f=o[0],y=o[1]),this.crossProductZ(f,p,y)<0){const w=f;f=y,y=w}o[0]=f,o[1]=p,o[2]=y}static distance(o,l){return N.distance(o.x,o.y,l.x,l.y)}static crossProductZ(o,l,c){const x=l.x,f=l.y;return(c.x-x)*(o.y-f)-(c.y-f)*(o.x-x)}}class ae{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Fe extends ae{constructor(o,l,c,x,f){super(o,l),this.compact=c,this.nbDatablocks=x,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qe{constructor(o,l,c,x){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),l==null&&(l=Qe.INIT_SIZE),c==null&&(c=o.getWidth()/2|0),x==null&&(x=o.getHeight()/2|0);const f=l/2|0;if(this.leftInit=c-f,this.rightInit=c+f,this.upInit=x-f,this.downInit=x+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let o=this.leftInit,l=this.rightInit,c=this.upInit,x=this.downInit,f=!1,p=!0,y=!1,w=!1,k=!1,L=!1,Q=!1;const X=this.width,ce=this.height;for(;p;){p=!1;let Ae=!0;for(;(Ae||!w)&&l<X;)Ae=this.containsBlackPoint(c,x,l,!1),Ae?(l++,p=!0,w=!0):w||l++;if(l>=X){f=!0;break}let ke=!0;for(;(ke||!k)&&x<ce;)ke=this.containsBlackPoint(o,l,x,!0),ke?(x++,p=!0,k=!0):k||x++;if(x>=ce){f=!0;break}let Pe=!0;for(;(Pe||!L)&&o>=0;)Pe=this.containsBlackPoint(c,x,o,!1),Pe?(o--,p=!0,L=!0):L||o--;if(o<0){f=!0;break}let Le=!0;for(;(Le||!Q)&&c>=0;)Le=this.containsBlackPoint(o,l,c,!0),Le?(c--,p=!0,Q=!0):Q||c--;if(c<0){f=!0;break}p&&(y=!0)}if(!f&&y){const Ae=l-o;let ke=null;for(let rt=1;ke===null&&rt<Ae;rt++)ke=this.getBlackPointOnSegment(o,x-rt,o+rt,x);if(ke==null)throw new q;let Pe=null;for(let rt=1;Pe===null&&rt<Ae;rt++)Pe=this.getBlackPointOnSegment(o,c+rt,o+rt,c);if(Pe==null)throw new q;let Le=null;for(let rt=1;Le===null&&rt<Ae;rt++)Le=this.getBlackPointOnSegment(l,c+rt,l-rt,c);if(Le==null)throw new q;let st=null;for(let rt=1;st===null&&rt<Ae;rt++)st=this.getBlackPointOnSegment(l,x-rt,l-rt,x);if(st==null)throw new q;return this.centerEdges(st,ke,Le,Pe)}else throw new q}getBlackPointOnSegment(o,l,c,x){const f=N.round(N.distance(o,l,c,x)),p=(c-o)/f,y=(x-l)/f,w=this.image;for(let k=0;k<f;k++){const L=N.round(o+k*p),Q=N.round(l+k*y);if(w.get(L,Q))return new M(L,Q)}return null}centerEdges(o,l,c,x){const f=o.getX(),p=o.getY(),y=l.getX(),w=l.getY(),k=c.getX(),L=c.getY(),Q=x.getX(),X=x.getY(),ce=Qe.CORR;return f<this.width/2?[new M(Q-ce,X+ce),new M(y+ce,w+ce),new M(k-ce,L-ce),new M(f+ce,p-ce)]:[new M(Q+ce,X+ce),new M(y+ce,w-ce),new M(k-ce,L+ce),new M(f-ce,p-ce)]}containsBlackPoint(o,l,c,x){const f=this.image;if(x){for(let p=o;p<=l;p++)if(f.get(p,c))return!0}else for(let p=o;p<=l;p++)if(f.get(c,p))return!0;return!1}}Qe.INIT_SIZE=10,Qe.CORR=1;class Je{static checkAndNudgePoints(o,l){const c=o.getWidth(),x=o.getHeight();let f=!0;for(let p=0;p<l.length&&f;p+=2){const y=Math.floor(l[p]),w=Math.floor(l[p+1]);if(y<-1||y>c||w<-1||w>x)throw new q;f=!1,y===-1?(l[p]=0,f=!0):y===c&&(l[p]=c-1,f=!0),w===-1?(l[p+1]=0,f=!0):w===x&&(l[p+1]=x-1,f=!0)}f=!0;for(let p=l.length-2;p>=0&&f;p-=2){const y=Math.floor(l[p]),w=Math.floor(l[p+1]);if(y<-1||y>c||w<-1||w>x)throw new q;f=!1,y===-1?(l[p]=0,f=!0):y===c&&(l[p]=c-1,f=!0),w===-1?(l[p+1]=0,f=!0):w===x&&(l[p+1]=x-1,f=!0)}}}class nt{constructor(o,l,c,x,f,p,y,w,k){this.a11=o,this.a21=l,this.a31=c,this.a12=x,this.a22=f,this.a32=p,this.a13=y,this.a23=w,this.a33=k}static quadrilateralToQuadrilateral(o,l,c,x,f,p,y,w,k,L,Q,X,ce,Ae,ke,Pe){const Le=nt.quadrilateralToSquare(o,l,c,x,f,p,y,w);return nt.squareToQuadrilateral(k,L,Q,X,ce,Ae,ke,Pe).times(Le)}transformPoints(o){const l=o.length,c=this.a11,x=this.a12,f=this.a13,p=this.a21,y=this.a22,w=this.a23,k=this.a31,L=this.a32,Q=this.a33;for(let X=0;X<l;X+=2){const ce=o[X],Ae=o[X+1],ke=f*ce+w*Ae+Q;o[X]=(c*ce+p*Ae+k)/ke,o[X+1]=(x*ce+y*Ae+L)/ke}}transformPointsWithValues(o,l){const c=this.a11,x=this.a12,f=this.a13,p=this.a21,y=this.a22,w=this.a23,k=this.a31,L=this.a32,Q=this.a33,X=o.length;for(let ce=0;ce<X;ce++){const Ae=o[ce],ke=l[ce],Pe=f*Ae+w*ke+Q;o[ce]=(c*Ae+p*ke+k)/Pe,l[ce]=(x*Ae+y*ke+L)/Pe}}static squareToQuadrilateral(o,l,c,x,f,p,y,w){const k=o-c+f-y,L=l-x+p-w;if(k===0&&L===0)return new nt(c-o,f-c,o,x-l,p-x,l,0,0,1);{const Q=c-f,X=y-f,ce=x-p,Ae=w-p,ke=Q*Ae-X*ce,Pe=(k*Ae-X*L)/ke,Le=(Q*L-k*ce)/ke;return new nt(c-o+Pe*c,y-o+Le*y,o,x-l+Pe*x,w-l+Le*w,l,Pe,Le,1)}}static quadrilateralToSquare(o,l,c,x,f,p,y,w){return nt.squareToQuadrilateral(o,l,c,x,f,p,y,w).buildAdjoint()}buildAdjoint(){return new nt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new nt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class bt extends Je{sampleGrid(o,l,c,x,f,p,y,w,k,L,Q,X,ce,Ae,ke,Pe,Le,st,rt){const et=nt.quadrilateralToQuadrilateral(x,f,p,y,w,k,L,Q,X,ce,Ae,ke,Pe,Le,st,rt);return this.sampleGridWithTransform(o,l,c,et)}sampleGridWithTransform(o,l,c,x){if(l<=0||c<=0)throw new q;const f=new fe(l,c),p=new Float32Array(2*l);for(let y=0;y<c;y++){const w=p.length,k=y+.5;for(let L=0;L<w;L+=2)p[L]=L/2+.5,p[L+1]=k;x.transformPoints(p),Je.checkAndNudgePoints(o,p);try{for(let L=0;L<w;L+=2)o.get(Math.floor(p[L]),Math.floor(p[L+1]))&&f.set(L/2,y)}catch{throw new q}}return f}}class Ct{static setGridSampler(o){Ct.gridSampler=o}static getInstance(){return Ct.gridSampler}}Ct.gridSampler=new bt;class ht{constructor(o,l){this.x=o,this.y=l}toResultPoint(){return new M(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qt{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(o){let p=c[0];c[0]=c[2],c[2]=p}this.extractParameters(c);let x=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),f=this.getMatrixCornerPoints(c);return new Fe(x,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new q;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(o[0],o[1],l),this.sampleLine(o[1],o[2],l),this.sampleLine(o[2],o[3],l),this.sampleLine(o[3],o[0],l)]);this.shift=this.getRotation(c,l);let x=0;for(let p=0;p<4;p++){let y=c[(this.shift+p)%4];this.compact?(x<<=7,x+=y>>1&127):(x<<=10,x+=(y>>2&992)+(y>>1&31))}let f=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(o,l){let c=0;o.forEach((x,f,p)=>{let y=(x>>l-2<<1)+(x&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let x=0;x<4;x++)if(P.bitCount(c^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new q}getCorrectedParameterData(o,l){let c,x;l?(c=7,x=2):(c=10,x=4);let f=c-x,p=new Int32Array(c);for(let w=c-1;w>=0;--w)p[w]=o&15,o>>=4;try{new He(ne.AZTEC_PARAM).decode(p,f)}catch{throw new q}let y=0;for(let w=0;w<x;w++)y=(y<<4)+p[w];return y}getBullsEyeCorners(o){let l=o,c=o,x=o,f=o,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Q=this.getFirstDifferent(l,p,1,-1),X=this.getFirstDifferent(c,p,1,1),ce=this.getFirstDifferent(x,p,-1,1),Ae=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){let ke=this.distancePoint(Ae,Q)*this.nbCenterLayers/(this.distancePoint(f,l)*(this.nbCenterLayers+2));if(ke<.75||ke>1.25||!this.isWhiteOrBlackRectangle(Q,X,ce,Ae))break}l=Q,c=X,x=ce,f=Ae,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let y=new M(l.getX()+.5,l.getY()-.5),w=new M(c.getX()+.5,c.getY()+.5),k=new M(x.getX()-.5,x.getY()+.5),L=new M(f.getX()-.5,f.getY()-.5);return this.expandSquare([y,w,k,L],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,l,c,x;try{let y=new Qe(this.image).detect();o=y[0],l=y[1],c=y[2],x=y[3]}catch{let w=this.image.getWidth()/2,k=this.image.getHeight()/2;o=this.getFirstDifferent(new ht(w+7,k-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ht(w+7,k+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new ht(w-7,k+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new ht(w-7,k-7),!1,-1,-1).toResultPoint()}let f=N.round((o.getX()+x.getX()+l.getX()+c.getX())/4),p=N.round((o.getY()+x.getY()+l.getY()+c.getY())/4);try{let y=new Qe(this.image,15,f,p).detect();o=y[0],l=y[1],c=y[2],x=y[3]}catch{o=this.getFirstDifferent(new ht(f+7,p-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ht(f+7,p+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new ht(f-7,p+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new ht(f-7,p-7),!1,-1,-1).toResultPoint()}return f=N.round((o.getX()+x.getX()+l.getX()+c.getX())/4),p=N.round((o.getY()+x.getY()+l.getY()+c.getY())/4),new ht(f,p)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,l,c,x,f){let p=Ct.getInstance(),y=this.getDimension(),w=y/2-this.nbCenterLayers,k=y/2+this.nbCenterLayers;return p.sampleGrid(o,y,y,w,w,k,w,k,k,w,k,l.getX(),l.getY(),c.getX(),c.getY(),x.getX(),x.getY(),f.getX(),f.getY())}sampleLine(o,l,c){let x=0,f=this.distanceResultPoint(o,l),p=f/c,y=o.getX(),w=o.getY(),k=p*(l.getX()-o.getX())/f,L=p*(l.getY()-o.getY())/f;for(let Q=0;Q<c;Q++)this.image.get(N.round(y+Q*k),N.round(w+Q*L))&&(x|=1<<c-Q-1);return x}isWhiteOrBlackRectangle(o,l,c,x){let f=3;o=new ht(o.getX()-f,o.getY()+f),l=new ht(l.getX()-f,l.getY()-f),c=new ht(c.getX()+f,c.getY()-f),x=new ht(x.getX()+f,x.getY()+f);let p=this.getColor(x,o);if(p===0)return!1;let y=this.getColor(o,l);return y!==p||(y=this.getColor(l,c),y!==p)?!1:(y=this.getColor(c,x),y===p)}getColor(o,l){let c=this.distancePoint(o,l),x=(l.getX()-o.getX())/c,f=(l.getY()-o.getY())/c,p=0,y=o.getX(),w=o.getY(),k=this.image.get(o.getX(),o.getY()),L=Math.ceil(c);for(let X=0;X<L;X++)y+=x,w+=f,this.image.get(N.round(y),N.round(w))!==k&&p++;let Q=p/c;return Q>.1&&Q<.9?0:Q<=.1===k?1:-1}getFirstDifferent(o,l,c,x){let f=o.getX()+c,p=o.getY()+x;for(;this.isValid(f,p)&&this.image.get(f,p)===l;)f+=c,p+=x;for(f-=c,p-=x;this.isValid(f,p)&&this.image.get(f,p)===l;)f+=c;for(f-=c;this.isValid(f,p)&&this.image.get(f,p)===l;)p+=x;return p-=x,new ht(f,p)}expandSquare(o,l,c){let x=c/(2*l),f=o[0].getX()-o[2].getX(),p=o[0].getY()-o[2].getY(),y=(o[0].getX()+o[2].getX())/2,w=(o[0].getY()+o[2].getY())/2,k=new M(y+x*f,w+x*p),L=new M(y-x*f,w-x*p);f=o[1].getX()-o[3].getX(),p=o[1].getY()-o[3].getY(),y=(o[1].getX()+o[3].getX())/2,w=(o[1].getY()+o[3].getY())/2;let Q=new M(y+x*f,w+x*p),X=new M(y-x*f,w-x*p);return[k,Q,L,X]}isValid(o,l){return o>=0&&o<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(o){let l=N.round(o.getX()),c=N.round(o.getY());return this.isValid(l,c)}distancePoint(o,l){return N.distance(o.getX(),o.getY(),l.getX(),l.getY())}distanceResultPoint(o,l){return N.distance(o.getX(),o.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class jt{decode(o,l=null){let c=null,x=new Qt(o.getBlackMatrix()),f=null,p=null;try{let L=x.detectMirror(!1);f=L.getPoints(),this.reportFoundResultPoints(l,f),p=new ee().decode(L)}catch(L){c=L}if(p==null)try{let L=x.detectMirror(!0);f=L.getPoints(),this.reportFoundResultPoints(l,f),p=new ee().decode(L)}catch(L){throw c??L}let y=new Ge(p.getText(),p.getRawBytes(),p.getNumBits(),f,ze.AZTEC,F.currentTimeMillis()),w=p.getByteSegments();w!=null&&y.putMetadata(ft.BYTE_SEGMENTS,w);let k=p.getECLevel();return k!=null&&y.putMetadata(ft.ERROR_CORRECTION_LEVEL,k),y}reportFoundResultPoints(o,l){if(o!=null){let c=o.get(z.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((x,f,p)=>{c.foundPossibleResultPoint(x)})}}reset(){}}class Ht extends ot{constructor(o=500){super(new jt,o)}}class Ft{decode(o,l){try{return this.doDecode(o,l)}catch{if(l&&l.get(z.TRY_HARDER)===!0&&o.isRotateSupported()){const f=o.rotateCounterClockwise(),p=this.doDecode(f,l),y=p.getResultMetadata();let w=270;y!==null&&y.get(ft.ORIENTATION)===!0&&(w=w+y.get(ft.ORIENTATION)%360),p.putMetadata(ft.ORIENTATION,w);const k=p.getResultPoints();if(k!==null){const L=f.getHeight();for(let Q=0;Q<k.length;Q++)k[Q]=new M(L-k[Q].getY()-1,k[Q].getX())}return p}else throw new q}}reset(){}doDecode(o,l){const c=o.getWidth(),x=o.getHeight();let f=new B(c);const p=l&&l.get(z.TRY_HARDER)===!0,y=Math.max(1,x>>(p?8:5));let w;p?w=x:w=15;const k=Math.trunc(x/2);for(let L=0;L<w;L++){const Q=Math.trunc((L+1)/2),X=(L&1)===0,ce=k+y*(X?Q:-Q);if(ce<0||ce>=x)break;try{f=o.getBlackRow(ce,f)}catch{continue}for(let Ae=0;Ae<2;Ae++){if(Ae===1&&(f.reverse(),l&&l.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const ke=new Map;l.forEach((Pe,Le)=>ke.set(Le,Pe)),ke.delete(z.NEED_RESULT_POINT_CALLBACK),l=ke}try{const ke=this.decodeRow(ce,f,l);if(Ae===1){ke.putMetadata(ft.ORIENTATION,180);const Pe=ke.getResultPoints();Pe!==null&&(Pe[0]=new M(c-Pe[0].getX()-1,Pe[0].getY()),Pe[1]=new M(c-Pe[1].getX()-1,Pe[1].getY()))}return ke}catch{}}}throw new q}static recordPattern(o,l,c){const x=c.length;for(let k=0;k<x;k++)c[k]=0;const f=o.getSize();if(l>=f)throw new q;let p=!o.get(l),y=0,w=l;for(;w<f;){if(o.get(w)!==p)c[y]++;else{if(++y===x)break;c[y]=1,p=!p}w++}if(!(y===x||y===x-1&&w===f))throw new q}static recordPatternInReverse(o,l,c){let x=c.length,f=o.get(l);for(;l>0&&x>=0;)o.get(--l)!==f&&(x--,f=!f);if(x>=0)throw new q;Ft.recordPattern(o,l+1,c)}static patternMatchVariance(o,l,c){const x=o.length;let f=0,p=0;for(let k=0;k<x;k++)f+=o[k],p+=l[k];if(f<p)return Number.POSITIVE_INFINITY;const y=f/p;c*=y;let w=0;for(let k=0;k<x;k++){const L=o[k],Q=l[k]*y,X=L>Q?L-Q:Q-L;if(X>c)return Number.POSITIVE_INFINITY;w+=X}return w/f}}class De extends Ft{static findStartPattern(o){const l=o.getSize(),c=o.getNextSet(0);let x=0,f=Int32Array.from([0,0,0,0,0,0]),p=c,y=!1;const w=6;for(let k=c;k<l;k++)if(o.get(k)!==y)f[x]++;else{if(x===w-1){let L=De.MAX_AVG_VARIANCE,Q=-1;for(let X=De.CODE_START_A;X<=De.CODE_START_C;X++){const ce=Ft.patternMatchVariance(f,De.CODE_PATTERNS[X],De.MAX_INDIVIDUAL_VARIANCE);ce<L&&(L=ce,Q=X)}if(Q>=0&&o.isRange(Math.max(0,p-(k-p)/2),p,!1))return Int32Array.from([p,k,Q]);p+=f[0]+f[1],f=f.slice(2,f.length-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,y=!y}throw new q}static decodeCode(o,l,c){Ft.recordPattern(o,c,l);let x=De.MAX_AVG_VARIANCE,f=-1;for(let p=0;p<De.CODE_PATTERNS.length;p++){const y=De.CODE_PATTERNS[p],w=this.patternMatchVariance(l,y,De.MAX_INDIVIDUAL_VARIANCE);w<x&&(x=w,f=p)}if(f>=0)return f;throw new q}decodeRow(o,l,c){const x=c&&c.get(z.ASSUME_GS1)===!0,f=De.findStartPattern(l),p=f[2];let y=0;const w=new Uint8Array(20);w[y++]=p;let k;switch(p){case De.CODE_START_A:k=De.CODE_CODE_A;break;case De.CODE_START_B:k=De.CODE_CODE_B;break;case De.CODE_START_C:k=De.CODE_CODE_C;break;default:throw new j}let L=!1,Q=!1,X="",ce=f[0],Ae=f[1];const ke=Int32Array.from([0,0,0,0,0,0]);let Pe=0,Le=0,st=p,rt=0,et=!0,ts=!1,qt=!1;for(;!L;){const yi=Q;switch(Q=!1,Pe=Le,Le=De.decodeCode(l,ke,Ae),w[y++]=Le,Le!==De.CODE_STOP&&(et=!0),Le!==De.CODE_STOP&&(rt++,st+=rt*Le),ce=Ae,Ae+=ke.reduce((nv,rv)=>nv+rv,0),Le){case De.CODE_START_A:case De.CODE_START_B:case De.CODE_START_C:throw new j}switch(k){case De.CODE_CODE_A:if(Le<64)qt===ts?X+=String.fromCharCode(32+Le):X+=String.fromCharCode(32+Le+128),qt=!1;else if(Le<96)qt===ts?X+=String.fromCharCode(Le-64):X+=String.fromCharCode(Le+64),qt=!1;else switch(Le!==De.CODE_STOP&&(et=!1),Le){case De.CODE_FNC_1:x&&(X.length===0?X+="]C1":X+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_A:!ts&&qt?(ts=!0,qt=!1):ts&&qt?(ts=!1,qt=!1):qt=!0;break;case De.CODE_SHIFT:Q=!0,k=De.CODE_CODE_B;break;case De.CODE_CODE_B:k=De.CODE_CODE_B;break;case De.CODE_CODE_C:k=De.CODE_CODE_C;break;case De.CODE_STOP:L=!0;break}break;case De.CODE_CODE_B:if(Le<96)qt===ts?X+=String.fromCharCode(32+Le):X+=String.fromCharCode(32+Le+128),qt=!1;else switch(Le!==De.CODE_STOP&&(et=!1),Le){case De.CODE_FNC_1:x&&(X.length===0?X+="]C1":X+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_B:!ts&&qt?(ts=!0,qt=!1):ts&&qt?(ts=!1,qt=!1):qt=!0;break;case De.CODE_SHIFT:Q=!0,k=De.CODE_CODE_A;break;case De.CODE_CODE_A:k=De.CODE_CODE_A;break;case De.CODE_CODE_C:k=De.CODE_CODE_C;break;case De.CODE_STOP:L=!0;break}break;case De.CODE_CODE_C:if(Le<100)Le<10&&(X+="0"),X+=Le;else switch(Le!==De.CODE_STOP&&(et=!1),Le){case De.CODE_FNC_1:x&&(X.length===0?X+="]C1":X+="");break;case De.CODE_CODE_A:k=De.CODE_CODE_A;break;case De.CODE_CODE_B:k=De.CODE_CODE_B;break;case De.CODE_STOP:L=!0;break}break}yi&&(k=k===De.CODE_CODE_A?De.CODE_CODE_B:De.CODE_CODE_A)}const En=Ae-ce;if(Ae=l.getNextUnset(Ae),!l.isRange(Ae,Math.min(l.getSize(),Ae+(Ae-ce)/2),!1))throw new q;if(st-=rt*Pe,st%103!==Pe)throw new C;const lr=X.length;if(lr===0)throw new q;lr>0&&et&&(k===De.CODE_CODE_C?X=X.substring(0,lr-2):X=X.substring(0,lr-1));const Cn=(f[1]+f[0])/2,vs=ce+En/2,tn=w.length,In=new Uint8Array(tn);for(let yi=0;yi<tn;yi++)In[yi]=w[yi];const bi=[new M(Cn,o),new M(vs,o)];return new Ge(X,In,0,bi,ze.CODE_128,new Date().getTime())}}De.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],De.MAX_AVG_VARIANCE=.25,De.MAX_INDIVIDUAL_VARIANCE=.7,De.CODE_SHIFT=98,De.CODE_CODE_C=99,De.CODE_CODE_B=100,De.CODE_CODE_A=101,De.CODE_FNC_1=102,De.CODE_FNC_2=97,De.CODE_FNC_3=96,De.CODE_FNC_4_A=101,De.CODE_FNC_4_B=100,De.CODE_START_A=103,De.CODE_START_B=104,De.CODE_START_C=105,De.CODE_STOP=106;class Y extends Ft{constructor(o=!1,l=!1){super(),this.usingCheckDigit=o,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,l,c){let x=this.counters;x.fill(0),this.decodeRowResult="";let f=Y.findAsteriskPattern(l,x),p=l.getNextSet(f[1]),y=l.getSize(),w,k;do{Y.recordPattern(l,p,x);let ke=Y.toNarrowWidePattern(x);if(ke<0)throw new q;w=Y.patternToChar(ke),this.decodeRowResult+=w,k=p;for(let Pe of x)p+=Pe;p=l.getNextSet(p)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let L=0;for(let ke of x)L+=ke;let Q=p-k-L;if(p!==y&&Q*2<L)throw new q;if(this.usingCheckDigit){let ke=this.decodeRowResult.length-1,Pe=0;for(let Le=0;Le<ke;Le++)Pe+=Y.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Le));if(this.decodeRowResult.charAt(ke)!==Y.ALPHABET_STRING.charAt(Pe%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,ke)}if(this.decodeRowResult.length===0)throw new q;let X;this.extendedMode?X=Y.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;let ce=(f[1]+f[0])/2,Ae=k+L/2;return new Ge(X,null,0,[new M(ce,o),new M(Ae,o)],ze.CODE_39,new Date().getTime())}static findAsteriskPattern(o,l){let c=o.getSize(),x=o.getNextSet(0),f=0,p=x,y=!1,w=l.length;for(let k=x;k<c;k++)if(o.get(k)!==y)l[f]++;else{if(f===w-1){if(this.toNarrowWidePattern(l)===Y.ASTERISK_ENCODING&&o.isRange(Math.max(0,p-Math.floor((k-p)/2)),p,!1))return[p,k];p+=l[0]+l[1],l.copyWithin(0,2,2+f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,y=!y}throw new q}static toNarrowWidePattern(o){let l=o.length,c=0,x;do{let f=2147483647;for(let w of o)w<f&&w>c&&(f=w);c=f,x=0;let p=0,y=0;for(let w=0;w<l;w++){let k=o[w];k>c&&(y|=1<<l-1-w,x++,p+=k)}if(x===3){for(let w=0;w<l&&x>0;w++){let k=o[w];if(k>c&&(x--,k*2>=p))return-1}return y}}while(x>3);return-1}static patternToChar(o){for(let l=0;l<Y.CHARACTER_ENCODINGS.length;l++)if(Y.CHARACTER_ENCODINGS[l]===o)return Y.ALPHABET_STRING.charAt(l);if(o===Y.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(o){let l=o.length,c="";for(let x=0;x<l;x++){let f=o.charAt(x);if(f==="+"||f==="$"||f==="%"||f==="/"){let p=o.charAt(x+1),y="\0";switch(f){case"+":if(p>="A"&&p<="Z")y=String.fromCharCode(p.charCodeAt(0)+32);else throw new j;break;case"$":if(p>="A"&&p<="Z")y=String.fromCharCode(p.charCodeAt(0)-64);else throw new j;break;case"%":if(p>="A"&&p<="E")y=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")y=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")y=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")y="\0";else if(p==="V")y="@";else if(p==="W")y="`";else if(p==="X"||p==="Y"||p==="Z")y="";else throw new j;break;case"/":if(p>="A"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")y=":";else throw new j;break}c+=y,x++}else c+=f}return c}}Y.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Y.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Y.ASTERISK_ENCODING=148;class G extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,l,c){let x=this.decodeStart(l),f=this.decodeEnd(l),p=new ie;G.decodeMiddle(l,x[1],f[0],p);let y=p.toString(),w=null;c!=null&&(w=c.get(z.ALLOWED_LENGTHS)),w==null&&(w=G.DEFAULT_ALLOWED_LENGTHS);let k=y.length,L=!1,Q=0;for(let Ae of w){if(k===Ae){L=!0;break}Ae>Q&&(Q=Ae)}if(!L&&k>Q&&(L=!0),!L)throw new j;const X=[new M(x[1],o),new M(f[0],o)];return new Ge(y,null,0,X,ze.ITF,new Date().getTime())}static decodeMiddle(o,l,c,x){let f=new Int32Array(10),p=new Int32Array(5),y=new Int32Array(5);for(f.fill(0),p.fill(0),y.fill(0);l<c;){Ft.recordPattern(o,l,f);for(let k=0;k<5;k++){let L=2*k;p[k]=f[L],y[k]=f[L+1]}let w=G.decodeDigit(p);x.append(w.toString()),w=this.decodeDigit(y),x.append(w.toString()),f.forEach(function(k){l+=k})}}decodeStart(o){let l=G.skipWhiteSpace(o),c=G.findGuardPattern(o,l,G.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(o,c[0]),c}validateQuietZone(o,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let x=l-1;c>0&&x>=0&&!o.get(x);x--)c--;if(c!==0)throw new q}static skipWhiteSpace(o){const l=o.getSize(),c=o.getNextSet(0);if(c===l)throw new q;return c}decodeEnd(o){o.reverse();try{let l=G.skipWhiteSpace(o),c;try{c=G.findGuardPattern(o,l,G.END_PATTERN_REVERSED[0])}catch(f){f instanceof q&&(c=G.findGuardPattern(o,l,G.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,c[0]);let x=c[0];return c[0]=o.getSize()-c[1],c[1]=o.getSize()-x,c}finally{o.reverse()}}static findGuardPattern(o,l,c){let x=c.length,f=new Int32Array(x),p=o.getSize(),y=!1,w=0,k=l;f.fill(0);for(let L=l;L<p;L++)if(o.get(L)!==y)f[w]++;else{if(w===x-1){if(Ft.patternMatchVariance(f,c,G.MAX_INDIVIDUAL_VARIANCE)<G.MAX_AVG_VARIANCE)return[k,L];k+=f[0]+f[1],F.arraycopy(f,2,f,0,w-1),f[w-1]=0,f[w]=0,w--}else w++;f[w]=1,y=!y}throw new q}static decodeDigit(o){let l=G.MAX_AVG_VARIANCE,c=-1,x=G.PATTERNS.length;for(let f=0;f<x;f++){let p=G.PATTERNS[f],y=Ft.patternMatchVariance(o,p,G.MAX_INDIVIDUAL_VARIANCE);y<l?(l=y,c=f):y===l&&(c=-1)}if(c>=0)return c%10;throw new q}}G.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],G.MAX_AVG_VARIANCE=.38,G.MAX_INDIVIDUAL_VARIANCE=.5,G.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],G.START_PATTERN=Int32Array.from([1,1,1,1]),G.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ce extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l=!1,c,x=0,f=Int32Array.from([0,0,0]);for(;!l;){f=Int32Array.from([0,0,0]),c=Ce.findGuardPattern(o,x,!1,this.START_END_PATTERN,f);let p=c[0];x=c[1];let y=p-(x-p);y>=0&&(l=o.isRange(y,p,!1))}return c}static checkChecksum(o){return Ce.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let c=parseInt(o.charAt(l-1),10);return Ce.getStandardUPCEANChecksum(o.substring(0,l-1))===c}static getStandardUPCEANChecksum(o){let l=o.length,c=0;for(let x=l-1;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new j;c+=f}c*=3;for(let x=l-2;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new j;c+=f}return(1e3-c)%10}static decodeEnd(o,l){return Ce.findGuardPattern(o,l,!1,Ce.START_END_PATTERN,new Int32Array(Ce.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,l,c,x){return this.findGuardPattern(o,l,c,x,new Int32Array(x.length))}static findGuardPattern(o,l,c,x,f){let p=o.getSize();l=c?o.getNextUnset(l):o.getNextSet(l);let y=0,w=l,k=x.length,L=c;for(let Q=l;Q<p;Q++)if(o.get(Q)!==L)f[y]++;else{if(y===k-1){if(Ft.patternMatchVariance(f,x,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return Int32Array.from([w,Q]);w+=f[0]+f[1];let X=f.slice(2,f.length-1);for(let ce=0;ce<y-1;ce++)f[ce]=X[ce];f[y-1]=0,f[y]=0,y--}else y++;f[y]=1,L=!L}throw new q}static decodeDigit(o,l,c,x){this.recordPattern(o,c,l);let f=this.MAX_AVG_VARIANCE,p=-1,y=x.length;for(let w=0;w<y;w++){let k=x[w],L=Ft.patternMatchVariance(l,k,Ce.MAX_INDIVIDUAL_VARIANCE);L<f&&(f=L,p=w)}if(p>=0)return p;throw new q}}Ce.MAX_AVG_VARIANCE=.48,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.START_END_PATTERN=Int32Array.from([1,1,1]),Ce.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ce.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ce.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,c){let x=this.decodeRowStringBuffer,f=this.decodeMiddle(l,c,x),p=x.toString(),y=pt.parseExtensionString(p),w=[new M((c[0]+c[1])/2,o),new M(f,o)],k=new Ge(p,null,0,w,ze.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&k.putAllMetadata(y),k}decodeMiddle(o,l,c){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1],y=0;for(let k=0;k<5&&p<f;k++){let L=Ce.decodeDigit(o,x,p,Ce.L_AND_G_PATTERNS);c+=String.fromCharCode(48+L%10);for(let Q of x)p+=Q;L>=10&&(y|=1<<4-k),k!==4&&(p=o.getNextSet(p),p=o.getNextUnset(p))}if(c.length!==5)throw new q;let w=this.determineCheckDigit(y);if(pt.extensionChecksum(c.toString())!==w)throw new q;return p}static extensionChecksum(o){let l=o.length,c=0;for(let x=l-2;x>=0;x-=2)c+=o.charAt(x).charCodeAt(0)-48;c*=3;for(let x=l-1;x>=0;x-=2)c+=o.charAt(x).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(o){for(let l=0;l<10;l++)if(o===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new q}static parseExtensionString(o){if(o.length!==5)return null;let l=pt.parseExtension5String(o);return l==null?null:new Map([[ft.SUGGESTED_PRICE,l]])}static parseExtension5String(o){let l;switch(o.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(o.substring(1)),x=(c/100).toString(),f=c%100,p=f<10?"0"+f:f.toString();return l+x+"."+p}}class At{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,c){let x=this.decodeRowStringBuffer,f=this.decodeMiddle(l,c,x),p=x.toString(),y=At.parseExtensionString(p),w=[new M((c[0]+c[1])/2,o),new M(f,o)],k=new Ge(p,null,0,w,ze.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&k.putAllMetadata(y),k}decodeMiddle(o,l,c){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1],y=0;for(let w=0;w<2&&p<f;w++){let k=Ce.decodeDigit(o,x,p,Ce.L_AND_G_PATTERNS);c+=String.fromCharCode(48+k%10);for(let L of x)p+=L;k>=10&&(y|=1<<1-w),w!==1&&(p=o.getNextSet(p),p=o.getNextUnset(p))}if(c.length!==2)throw new q;if(parseInt(c.toString())%4!==y)throw new q;return p}static parseExtensionString(o){return o.length!==2?null:new Map([[ft.ISSUE_NUMBER,parseInt(o)]])}}class zt{static decodeRow(o,l,c){let x=Ce.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pt().decodeRow(o,l,x)}catch{return new At().decodeRow(o,l,x)}}}zt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class me extends Ce{constructor(){super(),this.decodeRowStringBuffer="",me.L_AND_G_PATTERNS=me.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let l=me.L_PATTERNS[o-10],c=new Int32Array(l.length);for(let x=0;x<l.length;x++)c[x]=l[l.length-x-1];me.L_AND_G_PATTERNS[o]=c}}decodeRow(o,l,c){let x=me.findStartGuardPattern(l),f=c==null?null:c.get(z.NEED_RESULT_POINT_CALLBACK);if(f!=null){const et=new M((x[0]+x[1])/2,o);f.foundPossibleResultPoint(et)}let p=this.decodeMiddle(l,x,this.decodeRowStringBuffer),y=p.rowOffset,w=p.resultString;if(f!=null){const et=new M(y,o);f.foundPossibleResultPoint(et)}let k=this.decodeEnd(l,y);if(f!=null){const et=new M((k[0]+k[1])/2,o);f.foundPossibleResultPoint(et)}let L=k[1],Q=L+(L-k[0]);if(Q>=l.getSize()||!l.isRange(L,Q,!1))throw new q;let X=w.toString();if(X.length<8)throw new j;if(!me.checkChecksum(X))throw new C;let ce=(x[1]+x[0])/2,Ae=(k[1]+k[0])/2,ke=this.getBarcodeFormat(),Pe=[new M(ce,o),new M(Ae,o)],Le=new Ge(X,null,0,Pe,ke,new Date().getTime()),st=0;try{let et=zt.decodeRow(o,l,k[1]);Le.putMetadata(ft.UPC_EAN_EXTENSION,et.getText()),Le.putAllMetadata(et.getResultMetadata()),Le.addResultPoints(et.getResultPoints()),st=et.getText().length}catch{}let rt=c==null?null:c.get(z.ALLOWED_EAN_EXTENSIONS);if(rt!=null){let et=!1;for(let ts in rt)if(st.toString()===ts){et=!0;break}if(!et)throw new q}return Le}decodeEnd(o,l){return me.findGuardPattern(o,l,!1,me.START_END_PATTERN,new Int32Array(me.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return me.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let c=parseInt(o.charAt(l-1),10);return me.getStandardUPCEANChecksum(o.substring(0,l-1))===c}static getStandardUPCEANChecksum(o){let l=o.length,c=0;for(let x=l-1;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new j;c+=f}c*=3;for(let x=l-2;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new j;c+=f}return(1e3-c)%10}}class te extends me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,c){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1],y=0;for(let k=0;k<6&&p<f;k++){let L=me.decodeDigit(o,x,p,me.L_AND_G_PATTERNS);c+=String.fromCharCode(48+L%10);for(let Q of x)p+=Q;L>=10&&(y|=1<<5-k)}c=te.determineFirstDigit(c,y),p=me.findGuardPattern(o,p,!0,me.MIDDLE_PATTERN,new Int32Array(me.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<6&&p<f;k++){let L=me.decodeDigit(o,x,p,me.L_PATTERNS);c+=String.fromCharCode(48+L);for(let Q of x)p+=Q}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return ze.EAN_13}static determineFirstDigit(o,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return o=String.fromCharCode(48+c)+o,o;throw new q}}te.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ye extends me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,c){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1];for(let w=0;w<4&&p<f;w++){let k=me.decodeDigit(o,x,p,me.L_PATTERNS);c+=String.fromCharCode(48+k);for(let L of x)p+=L}p=me.findGuardPattern(o,p,!0,me.MIDDLE_PATTERN,new Int32Array(me.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&p<f;w++){let k=me.decodeDigit(o,x,p,me.L_PATTERNS);c+=String.fromCharCode(48+k);for(let L of x)p+=L}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return ze.EAN_8}}class ct extends me{constructor(){super(...arguments),this.ean13Reader=new te}getBarcodeFormat(){return ze.UPC_A}decode(o,l){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,l,c))}decodeMiddle(o,l,c){return this.ean13Reader.decodeMiddle(o,l,c)}maybeReturnResult(o){let l=o.getText();if(l.charAt(0)==="0"){let c=new Ge(l.substring(1),null,null,o.getResultPoints(),ze.UPC_A);return o.getResultMetadata()!=null&&c.putAllMetadata(o.getResultMetadata()),c}else throw new q}reset(){this.ean13Reader.reset()}}class $t extends me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,l,c){const x=this.decodeMiddleCounters.map(k=>k);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const f=o.getSize();let p=l[1],y=0;for(let k=0;k<6&&p<f;k++){const L=$t.decodeDigit(o,x,p,$t.L_AND_G_PATTERNS);c+=String.fromCharCode(48+L%10);for(let Q of x)p+=Q;L>=10&&(y|=1<<5-k)}let w=$t.determineNumSysAndCheckDigit(c,y);return{rowOffset:p,resultString:w}}decodeEnd(o,l){return $t.findGuardPatternWithoutCounters(o,l,!0,$t.MIDDLE_END_PATTERN)}checkChecksum(o){return me.checkChecksum($t.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,l){for(let c=0;c<=1;c++)for(let x=0;x<10;x++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][x]){let f=String.fromCharCode(48+c),p=String.fromCharCode(48+x);return f+o+p}throw q.getNotFoundInstance()}getBarcodeFormat(){return ze.UPC_E}static convertUPCEtoUPCA(o){const l=o.slice(1,7).split("").map(f=>f.charCodeAt(0)),c=new ie;c.append(o.charAt(0));let x=l[5];switch(x){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(x),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(x);break}return o.length>=8&&c.append(o.charAt(7)),c.toString()}}$t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Is extends Ft{constructor(o){super();let l=o==null?null:o.get(z.POSSIBLE_FORMATS),c=[];r(l)?(c.push(new te),c.push(new ct),c.push(new ye),c.push(new $t)):(l.indexOf(ze.EAN_13)>-1&&c.push(new te),l.indexOf(ze.UPC_A)>-1&&c.push(new ct),l.indexOf(ze.EAN_8)>-1&&c.push(new ye),l.indexOf(ze.UPC_E)>-1&&c.push(new $t)),this.readers=c}decodeRow(o,l,c){for(let x of this.readers)try{const f=x.decodeRow(o,l,c),p=f.getBarcodeFormat()===ze.EAN_13&&f.getText().charAt(0)==="0",y=c==null?null:c.get(z.POSSIBLE_FORMATS),w=y==null||y.includes(ze.UPC_A);if(p&&w){const k=f.getRawBytes(),L=new Ge(f.getText().substring(1),k,k?k.length:null,f.getResultPoints(),ze.UPC_A);return L.putAllMetadata(f.getResultMetadata()),L}return f}catch{}throw new q}reset(){for(let o of this.readers)o.reset()}}class Ut extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,l){for(let c=0;c<l.length;c++)if(Ft.patternMatchVariance(o,l[c],Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return c;throw new q}static count(o){return N.sum(new Int32Array(o))}static increment(o,l){let c=0,x=l[0];for(let f=1;f<o.length;f++)l[f]>x&&(x=l[f],c=f);o[c]++}static decrement(o,l){let c=0,x=l[0];for(let f=1;f<o.length;f++)l[f]<x&&(x=l[f],c=f);o[c]--}static isFinderPattern(o){let l=o[0]+o[1],c=l+o[2]+o[3],x=l/c;if(x>=Ut.MIN_FINDER_PATTERN_RATIO&&x<=Ut.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let y of o)y>p&&(p=y),y<f&&(f=y);return p<10*f}return!1}}Ut.MAX_AVG_VARIANCE=.2,Ut.MAX_INDIVIDUAL_VARIANCE=.45,Ut.MIN_FINDER_PATTERN_RATIO=9.5/12,Ut.MAX_FINDER_PATTERN_RATIO=12.5/14;class cs{constructor(o,l){this.value=o,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof cs))return!1;const l=o;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Js{constructor(o,l,c,x,f){this.value=o,this.startEnd=l,this.value=o,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new M(c,f)),this.resultPoints.push(new M(x,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof Js))return!1;const l=o;return this.value===l.value}hashCode(){return this.value}}class _e{constructor(){}static getRSSvalue(o,l,c){let x=0;for(let w of o)x+=w;let f=0,p=0,y=o.length;for(let w=0;w<y-1;w++){let k;for(k=1,p|=1<<w;k<o[w];k++,p&=~(1<<w)){let L=_e.combins(x-k-1,y-w-2);if(c&&p===0&&x-k-(y-w-1)>=y-w-1&&(L-=_e.combins(x-k-(y-w),y-w-2)),y-w-1>1){let Q=0;for(let X=x-k-(y-w-2);X>l;X--)Q+=_e.combins(x-k-X-1,y-w-3);L-=Q*(y-1-w)}else x-k>l&&L--;f+=L}x-=k}return f}static combins(o,l){let c,x;o-l>l?(x=l,c=o-l):(x=o-l,c=l);let f=1,p=1;for(let y=o;y>c;y--)f*=y,p<=x&&(f/=p,p++);for(;p<=x;)f/=p,p++;return f}}class re{static buildBitArray(o){let l=o.length*2-1;o[o.length-1].getRightChar()==null&&(l-=1);let c=12*l,x=new B(c),f=0,y=o[0].getRightChar().getValue();for(let w=11;w>=0;--w)(y&1<<w)!=0&&x.set(f),f++;for(let w=1;w<o.length;++w){let k=o[w],L=k.getLeftChar().getValue();for(let Q=11;Q>=0;--Q)(L&1<<Q)!=0&&x.set(f),f++;if(k.getRightChar()!=null){let Q=k.getRightChar().getValue();for(let X=11;X>=0;--X)(Q&1<<X)!=0&&x.set(f),f++}}return x}}class pe{constructor(o,l){l?this.decodedInformation=null:(this.finished=o,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ut{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class tt extends ut{constructor(o,l){super(o),this.value=l}getValue(){return this.value}isFNC1(){return this.value===tt.FNC1}}tt.FNC1="$";class Be extends ut{constructor(o,l,c){super(o),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ue extends ut{constructor(o,l,c){if(super(o),l<0||l>10||c<0||c>10)throw new j;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ue.FNC1}isSecondDigitFNC1(){return this.secondDigit===ue.FNC1}isAnyFNC1(){return this.firstDigit===ue.FNC1||this.secondDigit===ue.FNC1}}ue.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new q;let l=o.substring(0,2);for(let f of Me.TWO_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,f[2],o):Me.processFixedAI(2,f[1],o);if(o.length<3)throw new q;let c=o.substring(0,3);for(let f of Me.THREE_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,f[2],o):Me.processFixedAI(3,f[1],o);for(let f of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,f[2],o):Me.processFixedAI(4,f[1],o);if(o.length<4)throw new q;let x=o.substring(0,4);for(let f of Me.FOUR_DIGIT_DATA_LENGTH)if(f[0]===x)return f[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,f[2],o):Me.processFixedAI(4,f[1],o);throw new q}static processFixedAI(o,l,c){if(c.length<o)throw new q;let x=c.substring(0,o);if(c.length<o+l)throw new q;let f=c.substring(o,o+l),p=c.substring(o+l),y="("+x+")"+f,w=Me.parseFieldsInGeneralPurpose(p);return w==null?y:y+w}static processVariableAI(o,l,c){let x=c.substring(0,o),f;c.length<o+l?f=c.length:f=o+l;let p=c.substring(o,f),y=c.substring(f),w="("+x+")"+p,k=Me.parseFieldsInGeneralPurpose(y);return k==null?w:w+k}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class Gt{constructor(o){this.buffer=new ie,this.information=o}decodeAllCodes(o,l){let c=l,x=null;do{let f=this.decodeGeneralPurposeField(c,x),p=Me.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&o.append(p),f.isRemaining()?x=""+f.getRemainingValue():x=null,c===f.getNewPosition())break;c=f.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let l=o;l<o+3;++l)if(this.information.get(l))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(o,4);return f===0?new ue(this.information.getSize(),ue.FNC1,ue.FNC1):new ue(this.information.getSize(),f-1,ue.FNC1)}let l=this.extractNumericValueFromBitArray(o,7),c=(l-8)/11,x=(l-8)%11;return new ue(o+7,c,x)}extractNumericValueFromBitArray(o,l){return Gt.extractNumericValueFromBitArray(this.information,o,l)}static extractNumericValueFromBitArray(o,l,c){let x=0;for(let f=0;f<c;++f)o.get(l+f)&&(x|=1<<c-f-1);return x}decodeGeneralPurposeField(o,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(o);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Be(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Be(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),o=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),o=l.isFinished()):(l=this.parseNumericBlock(),o=l.isFinished()),!(c!==this.current.getPosition())&&!o)break}while(!o);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let l;return o.isSecondDigitFNC1()?l=new Be(this.current.getPosition(),this.buffer.toString()):l=new Be(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new pe(!0,l)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let l=new Be(this.current.getPosition(),this.buffer.toString());return new pe(!0,l)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Be(this.current.getPosition(),this.buffer.toString());return new pe(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Be(this.current.getPosition(),this.buffer.toString());return new pe(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pe(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,7);if(c>=64&&c<116)return!0;if(o+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(o,8);return x>=232&&x<253}decodeIsoIec646(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new tt(o+5,tt.FNC1);if(l>=5&&l<15)return new tt(o+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(o,7);if(c>=64&&c<90)return new tt(o+7,""+(c+1));if(c>=90&&c<116)return new tt(o+7,""+(c+7));let x=this.extractNumericValueFromBitArray(o,8),f;switch(x){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new j}return new tt(o+8,f)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,6);return c>=16&&c<63}decodeAlphanumeric(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new tt(o+5,tt.FNC1);if(l>=5&&l<15)return new tt(o+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(o,6);if(c>=32&&c<58)return new tt(o+6,""+(c+33));let x;switch(c){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new Te("Decoding invalid alphanumeric value: "+c)}return new tt(o+6,x)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<5&&l+o<this.information.getSize();++l)if(l===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+l))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let l=o;l<o+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<4&&l+o<this.information.getSize();++l)if(this.information.get(o+l))return!1;return!0}}class Ws{constructor(o){this.information=o,this.generalDecoder=new Gt(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class es extends Ws{constructor(o){super(o)}encodeCompressedGtin(o,l){o.append("(01)");let c=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,l,c)}encodeCompressedGtinWithoutAI(o,l,c){for(let x=0;x<4;++x){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*x,10);f/100===0&&o.append("0"),f/10===0&&o.append("0"),o.append(f)}es.appendCheckDigit(o,c)}static appendCheckDigit(o,l){let c=0;for(let x=0;x<13;x++){let f=o.charAt(x+l).charCodeAt(0)-48;c+=(x&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c)}}es.GTIN_SIZE=40;class Qs extends es{constructor(o){super(o)}parseInformation(){let o=new ie;o.append("(01)");let l=o.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Qs.HEADER_SIZE,4);return o.append(c),this.encodeCompressedGtinWithoutAI(o,Qs.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(o,Qs.HEADER_SIZE+44)}}Qs.HEADER_SIZE=4;class Ee extends Ws{constructor(o){super(o)}parseInformation(){let o=new ie;return this.getGeneralDecoder().decodeAllCodes(o,Ee.HEADER_SIZE)}}Ee.HEADER_SIZE=5;class V extends es{constructor(o){super(o)}encodeCompressedWeight(o,l,c){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(o,x);let f=this.checkWeight(x),p=1e5;for(let y=0;y<5;++y)f/p===0&&o.append("0"),p/=10;o.append(f)}}class Z extends V{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Z.HEADER_SIZE+V.GTIN_SIZE+Z.WEIGHT_SIZE)throw new q;let o=new ie;return this.encodeCompressedGtin(o,Z.HEADER_SIZE),this.encodeCompressedWeight(o,Z.HEADER_SIZE+V.GTIN_SIZE,Z.WEIGHT_SIZE),o.toString()}}Z.HEADER_SIZE=5,Z.WEIGHT_SIZE=15;class Ne extends Z{constructor(o){super(o)}addWeightCode(o,l){o.append("(3103)")}checkWeight(o){return o}}class Ke extends Z{constructor(o){super(o)}addWeightCode(o,l){l<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class lt extends es{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<lt.HEADER_SIZE+es.GTIN_SIZE)throw new q;let o=new ie;this.encodeCompressedGtin(o,lt.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(lt.HEADER_SIZE+es.GTIN_SIZE,lt.LAST_DIGIT_SIZE);o.append("(392"),o.append(l),o.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(lt.HEADER_SIZE+es.GTIN_SIZE+lt.LAST_DIGIT_SIZE,null);return o.append(c.getNewString()),o.toString()}}lt.HEADER_SIZE=8,lt.LAST_DIGIT_SIZE=2;class mt extends es{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<mt.HEADER_SIZE+es.GTIN_SIZE)throw new q;let o=new ie;this.encodeCompressedGtin(o,mt.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(mt.HEADER_SIZE+es.GTIN_SIZE,mt.LAST_DIGIT_SIZE);o.append("(393"),o.append(l),o.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(mt.HEADER_SIZE+es.GTIN_SIZE+mt.LAST_DIGIT_SIZE,mt.FIRST_THREE_DIGITS_SIZE);c/100==0&&o.append("0"),c/10==0&&o.append("0"),o.append(c);let x=this.getGeneralDecoder().decodeGeneralPurposeField(mt.HEADER_SIZE+es.GTIN_SIZE+mt.LAST_DIGIT_SIZE+mt.FIRST_THREE_DIGITS_SIZE,null);return o.append(x.getNewString()),o.toString()}}mt.HEADER_SIZE=8,mt.LAST_DIGIT_SIZE=2,mt.FIRST_THREE_DIGITS_SIZE=10;class wt extends V{constructor(o,l,c){super(o),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE+wt.DATE_SIZE)throw new q;let o=new ie;return this.encodeCompressedGtin(o,wt.HEADER_SIZE),this.encodeCompressedWeight(o,wt.HEADER_SIZE+wt.GTIN_SIZE,wt.WEIGHT_SIZE),this.encodeCompressedDate(o,wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,wt.DATE_SIZE);if(c==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let x=c%32;c/=32;let f=c%12+1;c/=12;let p=c;p/10==0&&o.append("0"),o.append(p),f/10==0&&o.append("0"),o.append(f),x/10==0&&o.append("0"),o.append(x)}addWeightCode(o,l){o.append("("),o.append(this.firstAIdigits),o.append(l/1e5),o.append(")")}checkWeight(o){return o%1e5}}wt.HEADER_SIZE=8,wt.WEIGHT_SIZE=20,wt.DATE_SIZE=16;function is(W){try{if(W.get(1))return new Qs(W);if(!W.get(2))return new Ee(W);switch(Gt.extractNumericValueFromBitArray(W,1,4)){case 4:return new Ne(W);case 5:return new Ke(W)}switch(Gt.extractNumericValueFromBitArray(W,1,5)){case 12:return new lt(W);case 13:return new mt(W)}switch(Gt.extractNumericValueFromBitArray(W,1,7)){case 56:return new wt(W,"310","11");case 57:return new wt(W,"320","11");case 58:return new wt(W,"310","13");case 59:return new wt(W,"320","13");case 60:return new wt(W,"310","15");case 61:return new wt(W,"320","15");case 62:return new wt(W,"310","17");case 63:return new wt(W,"320","17")}}catch(o){throw console.log(o),new Te("unknown decoder: "+W)}}class Yt{constructor(o,l,c,x){this.leftchar=o,this.rightchar=l,this.finderpattern=c,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,l){return o instanceof Yt?Yt.equalsOrNull(o.leftchar,l.leftchar)&&Yt.equalsOrNull(o.rightchar,l.rightchar)&&Yt.equalsOrNull(o.finderpattern,l.finderpattern):!1}static equalsOrNull(o,l){return o===null?l===null:Yt.equals(o,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fs{constructor(o,l,c){this.pairs=o,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,l){return o instanceof Fs?this.checkEqualitity(o,l)&&o.wasReversed===l.wasReversed:!1}checkEqualitity(o,l){if(!o||!l)return;let c;return o.forEach((x,f)=>{l.forEach(p=>{x.getLeftChar().getValue()===p.getLeftChar().getValue()&&x.getRightChar().getValue()===p.getRightChar().getValue()&&x.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(c=!0)})}),c}}class Xe extends Ut{constructor(o){super(...arguments),this.pairs=new Array(Xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,l,c){this.pairs.length=0,this.startFromEven=!1;try{return Xe.constructResult(this.decodeRow2pairs(o,l))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Xe.constructResult(this.decodeRow2pairs(o,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,o))}catch(f){if(f instanceof q){if(!this.pairs.length)throw new q;c=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(o,!1),x){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new q}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return o&&(this.rows=this.rows.reverse()),l}checkRows(o,l){for(let c=l;c<this.rows.length;c++){let x=this.rows[c];this.pairs.length=0;for(let p of o)this.pairs.push(p.getPairs());if(this.pairs.push(x.getPairs()),!Xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(o);f.push(x);try{return this.checkRows(f,c+1)}catch(p){this.verbose&&console.log(p)}}throw new q}static isValidSequence(o){for(let l of Xe.FINDER_PATTERN_SEQUENCES){if(o.length>l.length)continue;let c=!0;for(let x=0;x<o.length;x++)if(o[x].getFinderPattern().getValue()!=l[x]){c=!1;break}if(c)return!0}return!1}storeRow(o,l){let c=0,x=!1,f=!1;for(;c<this.rows.length;){let p=this.rows[c];if(p.getRowNumber()>o){f=p.isEquivalent(this.pairs);break}x=p.isEquivalent(this.pairs),c++}f||x||Xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Fs(this.pairs,o,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,l){for(let c of l)if(c.getPairs().length!==o.length){for(let x of c.getPairs())for(let f of o)if(Yt.equals(x,f))break}}static isPartialRow(o,l){for(let c of l){let x=!0;for(let f of o){let p=!1;for(let y of c.getPairs())if(f.equals(y)){p=!0;break}if(!p){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(o){let l=re.buildBitArray(o),x=is(l).parseInformation(),f=o[0].getFinderPattern().getResultPoints(),p=o[o.length-1].getFinderPattern().getResultPoints(),y=[f[0],f[1],p[0],p[1]];return new Ge(x,null,null,y,ze.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),l=o.getLeftChar(),c=o.getRightChar();if(c==null)return!1;let x=c.getChecksumPortion(),f=2;for(let y=1;y<this.pairs.size();++y){let w=this.pairs.get(y);x+=w.getLeftChar().getChecksumPortion(),f++;let k=w.getRightChar();k!=null&&(x+=k.getChecksumPortion(),f++)}return x%=211,211*(f-4)+x==l.getValue()}static getNextSecondBar(o,l){let c;return o.get(l)?(c=o.getNextUnset(l),c=o.getNextSet(c)):(c=o.getNextSet(l),c=o.getNextUnset(c)),c}retrieveNextPair(o,l,c){let x=l.length%2==0;this.startFromEven&&(x=!x);let f,p=!0,y=-1;do this.findNextPair(o,l,y),f=this.parseFoundFinderPattern(o,c,x),f==null?y=Xe.getNextSecondBar(o,this.startEnd[0]):p=!1;while(p);let w=this.decodeDataCharacter(o,f,x,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new q;let k;try{k=this.decodeDataCharacter(o,f,x,!1)}catch(L){k=null,this.verbose&&console.log(L)}return new Yt(w,k,f,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,l,c){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p;c>=0?p=c:this.isEmptyPair(l)?p=0:p=l[l.length-1].getFinderPattern().getStartEnd()[1];let y=l.length%2!=0;this.startFromEven&&(y=!y);let w=!1;for(;p<f&&(w=!o.get(p),!!w);)p++;let k=0,L=p;for(let Q=p;Q<f;Q++)if(o.get(Q)!=w)x[k]++;else{if(k==3){if(y&&Xe.reverseCounters(x),Xe.isFinderPattern(x)){this.startEnd[0]=L,this.startEnd[1]=Q;return}y&&Xe.reverseCounters(x),L+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,k--}else k++;x[k]=1,w=!w}throw new q}static reverseCounters(o){let l=o.length;for(let c=0;c<l/2;++c){let x=o[c];o[c]=o[l-c-1],o[l-c-1]=x}}parseFoundFinderPattern(o,l,c){let x,f,p;if(c){let k=this.startEnd[0]-1;for(;k>=0&&!o.get(k);)k--;k++,x=this.startEnd[0]-k,f=k,p=this.startEnd[1]}else f=this.startEnd[0],p=o.getNextUnset(this.startEnd[1]+1),x=p-this.startEnd[1];let y=this.getDecodeFinderCounters();F.arraycopy(y,0,y,1,y.length-1),y[0]=x;let w;try{w=this.parseFinderValue(y,Xe.FINDER_PATTERNS)}catch{return null}return new Js(w,[f,p],f,p,l)}decodeDataCharacter(o,l,c,x){let f=this.getDataCharacterCounters();for(let vs=0;vs<f.length;vs++)f[vs]=0;if(x)Xe.recordPatternInReverse(o,l.getStartEnd()[0],f);else{Xe.recordPattern(o,l.getStartEnd()[1],f);for(let vs=0,tn=f.length-1;vs<tn;vs++,tn--){let In=f[vs];f[vs]=f[tn],f[tn]=In}}let p=17,y=N.sum(new Int32Array(f))/p,w=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(y-w)/w>.3)throw new q;let k=this.getOddCounts(),L=this.getEvenCounts(),Q=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let vs=0;vs<f.length;vs++){let tn=1*f[vs]/y,In=tn+.5;if(In<1){if(tn<.3)throw new q;In=1}else if(In>8){if(tn>8.7)throw new q;In=8}let bi=vs/2;(vs&1)==0?(k[bi]=In,Q[bi]=tn-In):(L[bi]=In,X[bi]=tn-In)}this.adjustOddEvenCounts(p);let ce=4*l.getValue()+(c?0:2)+(x?0:1)-1,Ae=0,ke=0;for(let vs=k.length-1;vs>=0;vs--){if(Xe.isNotA1left(l,c,x)){let tn=Xe.WEIGHTS[ce][2*vs];ke+=k[vs]*tn}Ae+=k[vs]}let Pe=0;for(let vs=L.length-1;vs>=0;vs--)if(Xe.isNotA1left(l,c,x)){let tn=Xe.WEIGHTS[ce][2*vs+1];Pe+=L[vs]*tn}let Le=ke+Pe;if((Ae&1)!=0||Ae>13||Ae<4)throw new q;let st=(13-Ae)/2,rt=Xe.SYMBOL_WIDEST[st],et=9-rt,ts=_e.getRSSvalue(k,rt,!0),qt=_e.getRSSvalue(L,et,!1),En=Xe.EVEN_TOTAL_SUBSET[st],lr=Xe.GSUM[st],Cn=ts*En+qt+lr;return new cs(Cn,Le)}static isNotA1left(o,l,c){return!(o.getValue()==0&&l&&c)}adjustOddEvenCounts(o){let l=N.sum(new Int32Array(this.getOddCounts())),c=N.sum(new Int32Array(this.getEvenCounts())),x=!1,f=!1;l>13?f=!0:l<4&&(x=!0);let p=!1,y=!1;c>13?y=!0:c<4&&(p=!0);let w=l+c-o,k=(l&1)==1,L=(c&1)==0;if(w==1)if(k){if(L)throw new q;f=!0}else{if(!L)throw new q;y=!0}else if(w==-1)if(k){if(L)throw new q;x=!0}else{if(!L)throw new q;p=!0}else if(w==0){if(k){if(!L)throw new q;l<c?(x=!0,y=!0):(f=!0,p=!0)}else if(L)throw new q}else throw new q;if(x){if(f)throw new q;Xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new q;Xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Xe.SYMBOL_WIDEST=[7,5,4,3,1],Xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Xe.GSUM=[0,348,1388,2948,3988],Xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Xe.FINDER_PAT_A=0,Xe.FINDER_PAT_B=1,Xe.FINDER_PAT_C=2,Xe.FINDER_PAT_D=3,Xe.FINDER_PAT_E=4,Xe.FINDER_PAT_F=5,Xe.FINDER_PATTERN_SEQUENCES=[[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_C,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_E,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D,Xe.FINDER_PAT_C],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_E,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D,Xe.FINDER_PAT_D,Xe.FINDER_PAT_F],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_E,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_F,Xe.FINDER_PAT_F],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_D],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_E],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_F,Xe.FINDER_PAT_F],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_E,Xe.FINDER_PAT_F,Xe.FINDER_PAT_F]],Xe.MAX_PAIRS=11;class vn extends cs{constructor(o,l,c){super(o,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ns extends Ut{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,l,c){const x=this.decodePair(l,!1,o,c);ns.addOrTally(this.possibleLeftPairs,x),l.reverse();let f=this.decodePair(l,!0,o,c);ns.addOrTally(this.possibleRightPairs,f),l.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&ns.checkChecksum(p,y))return ns.constructResult(p,y)}throw new q}static addOrTally(o,l){if(l==null)return;let c=!1;for(let x of o)if(x.getValue()===l.getValue()){x.incrementCount(),c=!0;break}c||o.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,l){let c=4537077*o.getValue()+l.getValue(),x=new String(c).toString(),f=new ie;for(let k=13-x.length;k>0;k--)f.append("0");f.append(x);let p=0;for(let k=0;k<13;k++){let L=f.charAt(k).charCodeAt(0)-48;p+=(k&1)===0?3*L:L}p=10-p%10,p===10&&(p=0),f.append(p.toString());let y=o.getFinderPattern().getResultPoints(),w=l.getFinderPattern().getResultPoints();return new Ge(f.toString(),null,0,[y[0],y[1],w[0],w[1]],ze.RSS_14,new Date().getTime())}static checkChecksum(o,l){let c=(o.getChecksumPortion()+16*l.getChecksumPortion())%79,x=9*o.getFinderPattern().getValue()+l.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,c===x}decodePair(o,l,c,x){try{let f=this.findFinderPattern(o,l),p=this.parseFoundFinderPattern(o,c,l,f),y=x==null?null:x.get(z.NEED_RESULT_POINT_CALLBACK);if(y!=null){let L=(f[0]+f[1])/2;l&&(L=o.getSize()-1-L),y.foundPossibleResultPoint(new M(L,c))}let w=this.decodeDataCharacter(o,p,!0),k=this.decodeDataCharacter(o,p,!1);return new vn(1597*w.getValue()+k.getValue(),w.getChecksumPortion()+4*k.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(o,l,c){let x=this.getDataCharacterCounters();for(let Pe=0;Pe<x.length;Pe++)x[Pe]=0;if(c)Ft.recordPatternInReverse(o,l.getStartEnd()[0],x);else{Ft.recordPattern(o,l.getStartEnd()[1]+1,x);for(let Pe=0,Le=x.length-1;Pe<Le;Pe++,Le--){let st=x[Pe];x[Pe]=x[Le],x[Le]=st}}let f=c?16:15,p=N.sum(new Int32Array(x))/f,y=this.getOddCounts(),w=this.getEvenCounts(),k=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let Pe=0;Pe<x.length;Pe++){let Le=x[Pe]/p,st=Math.floor(Le+.5);st<1?st=1:st>8&&(st=8);let rt=Math.floor(Pe/2);(Pe&1)===0?(y[rt]=st,k[rt]=Le-st):(w[rt]=st,L[rt]=Le-st)}this.adjustOddEvenCounts(c,f);let Q=0,X=0;for(let Pe=y.length-1;Pe>=0;Pe--)X*=9,X+=y[Pe],Q+=y[Pe];let ce=0,Ae=0;for(let Pe=w.length-1;Pe>=0;Pe--)ce*=9,ce+=w[Pe],Ae+=w[Pe];let ke=X+3*ce;if(c){if((Q&1)!==0||Q>12||Q<4)throw new q;let Pe=(12-Q)/2,Le=ns.OUTSIDE_ODD_WIDEST[Pe],st=9-Le,rt=_e.getRSSvalue(y,Le,!1),et=_e.getRSSvalue(w,st,!0),ts=ns.OUTSIDE_EVEN_TOTAL_SUBSET[Pe],qt=ns.OUTSIDE_GSUM[Pe];return new cs(rt*ts+et+qt,ke)}else{if((Ae&1)!==0||Ae>10||Ae<4)throw new q;let Pe=(10-Ae)/2,Le=ns.INSIDE_ODD_WIDEST[Pe],st=9-Le,rt=_e.getRSSvalue(y,Le,!0),et=_e.getRSSvalue(w,st,!1),ts=ns.INSIDE_ODD_TOTAL_SUBSET[Pe],qt=ns.INSIDE_GSUM[Pe];return new cs(et*ts+rt+qt,ke)}}findFinderPattern(o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let x=o.getSize(),f=!1,p=0;for(;p<x&&(f=!o.get(p),l!==f);)p++;let y=0,w=p;for(let k=p;k<x;k++)if(o.get(k)!==f)c[y]++;else{if(y===3){if(Ut.isFinderPattern(c))return[w,k];w+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,f=!f}throw new q}parseFoundFinderPattern(o,l,c,x){let f=o.get(x[0]),p=x[0]-1;for(;p>=0&&f!==o.get(p);)p--;p++;const y=x[0]-p,w=this.getDecodeFinderCounters(),k=new Int32Array(w.length);F.arraycopy(w,0,k,1,w.length-1),k[0]=y;const L=this.parseFinderValue(k,ns.FINDER_PATTERNS);let Q=p,X=x[1];return c&&(Q=o.getSize()-1-Q,X=o.getSize()-1-X),new Js(L,[p,x[1]],Q,X,l)}adjustOddEvenCounts(o,l){let c=N.sum(new Int32Array(this.getOddCounts())),x=N.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1,y=!1,w=!1;o?(c>12?p=!0:c<4&&(f=!0),x>12?w=!0:x<4&&(y=!0)):(c>11?p=!0:c<5&&(f=!0),x>10?w=!0:x<4&&(y=!0));let k=c+x-l,L=(c&1)===(o?1:0),Q=(x&1)===1;if(k===1)if(L){if(Q)throw new q;p=!0}else{if(!Q)throw new q;w=!0}else if(k===-1)if(L){if(Q)throw new q;f=!0}else{if(!Q)throw new q;y=!0}else if(k===0){if(L){if(!Q)throw new q;c<x?(f=!0,w=!0):(p=!0,y=!0)}else if(Q)throw new q}else throw new q;if(f){if(p)throw new q;Ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(w)throw new q;Ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ns.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ns.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ns.OUTSIDE_GSUM=[0,161,961,2015,2715],ns.INSIDE_GSUM=[0,336,1036,1516],ns.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ns.INSIDE_ODD_WIDEST=[2,4,6,8],ns.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hn extends Ft{constructor(o,l){super(),this.readers=[],this.verbose=l===!0;const c=o?o.get(z.POSSIBLE_FORMATS):null,x=o&&o.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ze.EAN_13)||c.includes(ze.UPC_A)||c.includes(ze.EAN_8)||c.includes(ze.UPC_E))&&this.readers.push(new Is(o)),c.includes(ze.CODE_39)&&this.readers.push(new Y(x)),c.includes(ze.CODE_128)&&this.readers.push(new De),c.includes(ze.ITF)&&this.readers.push(new G),c.includes(ze.RSS_14)&&this.readers.push(new ns),c.includes(ze.RSS_EXPANDED)&&this.readers.push(new Xe(this.verbose))):(this.readers.push(new Is(o)),this.readers.push(new Y),this.readers.push(new Is(o)),this.readers.push(new De),this.readers.push(new G),this.readers.push(new ns),this.readers.push(new Xe(this.verbose)))}decodeRow(o,l,c){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(o,l,c)}catch{}throw new q}reset(){this.readers.forEach(o=>o.reset())}}class Nr extends ot{constructor(o=500,l){super(new Hn(l),o,l)}}class Zt{constructor(o,l,c){this.ecCodewords=o,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class It{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Vt{constructor(o,l,c,x,f,p){this.versionNumber=o,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=f,this.ecBlocks=p;let y=0;const w=p.getECCodewords(),k=p.getECBlocks();for(let L of k)y+=L.getCount()*(L.getDataCodewords()+w);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,l){if((o&1)!==0||(l&1)!==0)throw new j;for(let c of Vt.VERSIONS)if(c.symbolSizeRows===o&&c.symbolSizeColumns===l)return c;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Vt(1,10,10,8,8,new Zt(5,new It(1,3))),new Vt(2,12,12,10,10,new Zt(7,new It(1,5))),new Vt(3,14,14,12,12,new Zt(10,new It(1,8))),new Vt(4,16,16,14,14,new Zt(12,new It(1,12))),new Vt(5,18,18,16,16,new Zt(14,new It(1,18))),new Vt(6,20,20,18,18,new Zt(18,new It(1,22))),new Vt(7,22,22,20,20,new Zt(20,new It(1,30))),new Vt(8,24,24,22,22,new Zt(24,new It(1,36))),new Vt(9,26,26,24,24,new Zt(28,new It(1,44))),new Vt(10,32,32,14,14,new Zt(36,new It(1,62))),new Vt(11,36,36,16,16,new Zt(42,new It(1,86))),new Vt(12,40,40,18,18,new Zt(48,new It(1,114))),new Vt(13,44,44,20,20,new Zt(56,new It(1,144))),new Vt(14,48,48,22,22,new Zt(68,new It(1,174))),new Vt(15,52,52,24,24,new Zt(42,new It(2,102))),new Vt(16,64,64,14,14,new Zt(56,new It(2,140))),new Vt(17,72,72,16,16,new Zt(36,new It(4,92))),new Vt(18,80,80,18,18,new Zt(48,new It(4,114))),new Vt(19,88,88,20,20,new Zt(56,new It(4,144))),new Vt(20,96,96,22,22,new Zt(68,new It(4,174))),new Vt(21,104,104,24,24,new Zt(56,new It(6,136))),new Vt(22,120,120,18,18,new Zt(68,new It(6,175))),new Vt(23,132,132,20,20,new Zt(62,new It(8,163))),new Vt(24,144,144,22,22,new Zt(62,new It(8,156),new It(2,155))),new Vt(25,8,18,6,16,new Zt(7,new It(1,5))),new Vt(26,8,32,6,14,new Zt(11,new It(1,10))),new Vt(27,12,26,10,24,new Zt(14,new It(1,16))),new Vt(28,12,36,10,16,new Zt(18,new It(1,22))),new Vt(29,16,36,14,16,new Zt(24,new It(1,32))),new Vt(30,16,48,14,22,new Zt(28,new It(1,49)))]}}Vt.VERSIONS=Vt.buildVersions();class oo{constructor(o){const l=o.getHeight();if(l<8||l>144||(l&1)!==0)throw new j;this.version=oo.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const l=o.getHeight(),c=o.getWidth();return Vt.getVersionForDimensions(l,c)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,x=0;const f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let y=!1,w=!1,k=!1,L=!1;do if(c===f&&x===0&&!y)o[l++]=this.readCorner1(f,p)&255,c-=2,x+=2,y=!0;else if(c===f-2&&x===0&&(p&3)!==0&&!w)o[l++]=this.readCorner2(f,p)&255,c-=2,x+=2,w=!0;else if(c===f+4&&x===2&&(p&7)===0&&!k)o[l++]=this.readCorner3(f,p)&255,c-=2,x+=2,k=!0;else if(c===f-2&&x===0&&(p&7)===4&&!L)o[l++]=this.readCorner4(f,p)&255,c-=2,x+=2,L=!0;else{do c<f&&x>=0&&!this.readMappingMatrix.get(x,c)&&(o[l++]=this.readUtah(c,x,f,p)&255),c-=2,x+=2;while(c>=0&&x<p);c+=1,x+=3;do c>=0&&x<p&&!this.readMappingMatrix.get(x,c)&&(o[l++]=this.readUtah(c,x,f,p)&255),c+=2,x-=2;while(c<f&&x>=0);c+=3,x+=1}while(c<f||x<p);if(l!==this.version.getTotalCodewords())throw new j;return o}readModule(o,l,c,x){return o<0&&(o+=c,l+=4-(c+4&7)),l<0&&(l+=x,o+=4-(x+4&7)),this.readMappingMatrix.set(l,o),this.mappingBitMatrix.get(l,o)}readUtah(o,l,c,x){let f=0;return this.readModule(o-2,l-2,c,x)&&(f|=1),f<<=1,this.readModule(o-2,l-1,c,x)&&(f|=1),f<<=1,this.readModule(o-1,l-2,c,x)&&(f|=1),f<<=1,this.readModule(o-1,l-1,c,x)&&(f|=1),f<<=1,this.readModule(o-1,l,c,x)&&(f|=1),f<<=1,this.readModule(o,l-2,c,x)&&(f|=1),f<<=1,this.readModule(o,l-1,c,x)&&(f|=1),f<<=1,this.readModule(o,l,c,x)&&(f|=1),f}readCorner1(o,l){let c=0;return this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,1,o,l)&&(c|=1),c<<=1,this.readModule(o-1,2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c<<=1,this.readModule(2,l-1,o,l)&&(c|=1),c<<=1,this.readModule(3,l-1,o,l)&&(c|=1),c}readCorner2(o,l){let c=0;return this.readModule(o-3,0,o,l)&&(c|=1),c<<=1,this.readModule(o-2,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(0,l-4,o,l)&&(c|=1),c<<=1,this.readModule(0,l-3,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c}readCorner3(o,l){let c=0;return this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,l-1,o,l)&&(c|=1),c<<=1,this.readModule(0,l-3,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-3,o,l)&&(c|=1),c<<=1,this.readModule(1,l-2,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c}readCorner4(o,l){let c=0;return this.readModule(o-3,0,o,l)&&(c|=1),c<<=1,this.readModule(o-2,0,o,l)&&(c|=1),c<<=1,this.readModule(o-1,0,o,l)&&(c|=1),c<<=1,this.readModule(0,l-2,o,l)&&(c|=1),c<<=1,this.readModule(0,l-1,o,l)&&(c|=1),c<<=1,this.readModule(1,l-1,o,l)&&(c|=1),c<<=1,this.readModule(2,l-1,o,l)&&(c|=1),c<<=1,this.readModule(3,l-1,o,l)&&(c|=1),c}extractDataRegion(o){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(o.getHeight()!==l)throw new b("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=l/x|0,y=c/f|0,w=p*x,k=y*f,L=new fe(k,w);for(let Q=0;Q<p;++Q){const X=Q*x;for(let ce=0;ce<y;++ce){const Ae=ce*f;for(let ke=0;ke<x;++ke){const Pe=Q*(x+2)+1+ke,Le=X+ke;for(let st=0;st<f;++st){const rt=ce*(f+2)+1+st;if(o.get(rt,Pe)){const et=Ae+st;L.set(et,Le)}}}}}return L}}class Zi{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l){const c=l.getECBlocks();let x=0;const f=c.getECBlocks();for(let ke of f)x+=ke.getCount();const p=new Array(x);let y=0;for(let ke of f)for(let Pe=0;Pe<ke.getCount();Pe++){const Le=ke.getDataCodewords(),st=c.getECCodewords()+Le;p[y++]=new Zi(Le,new Uint8Array(st))}const k=p[0].codewords.length-c.getECCodewords(),L=k-1;let Q=0;for(let ke=0;ke<L;ke++)for(let Pe=0;Pe<y;Pe++)p[Pe].codewords[ke]=o[Q++];const X=l.getVersionNumber()===24,ce=X?8:y;for(let ke=0;ke<ce;ke++)p[ke].codewords[k-1]=o[Q++];const Ae=p[0].codewords.length;for(let ke=k;ke<Ae;ke++)for(let Pe=0;Pe<y;Pe++){const Le=X?(Pe+8)%y:Pe,st=X&&Le>7?ke-1:ke;p[Le].codewords[st]=o[Q++]}if(Q!==o.length)throw new b;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class io{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new b(""+o);let l=0,c=this.bitOffset,x=this.byteOffset;const f=this.bytes;if(c>0){const p=8-c,y=o<p?o:p,w=p-y,k=255>>8-y<<w;l=(f[x]&k)>>w,o-=y,c+=y,c===8&&(c=0,x++)}if(o>0){for(;o>=8;)l=l<<8|f[x]&255,x++,o-=8;if(o>0){const p=8-o,y=255>>p<<p;l=l<<o|(f[x]&y)>>p,c+=o}}return this.bitOffset=c,this.byteOffset=x,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ts;(function(W){W[W.PAD_ENCODE=0]="PAD_ENCODE",W[W.ASCII_ENCODE=1]="ASCII_ENCODE",W[W.C40_ENCODE=2]="C40_ENCODE",W[W.TEXT_ENCODE=3]="TEXT_ENCODE",W[W.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",W[W.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",W[W.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ts||(Ts={}));class ir{static decode(o){const l=new io(o),c=new ie,x=new ie,f=new Array;let p=Ts.ASCII_ENCODE;do if(p===Ts.ASCII_ENCODE)p=this.decodeAsciiSegment(l,c,x);else{switch(p){case Ts.C40_ENCODE:this.decodeC40Segment(l,c);break;case Ts.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case Ts.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case Ts.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case Ts.BASE256_ENCODE:this.decodeBase256Segment(l,c,f);break;default:throw new j}p=Ts.ASCII_ENCODE}while(p!==Ts.PAD_ENCODE&&l.available()>0);return x.length()>0&&c.append(x.toString()),new yt(o,c.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(o,l,c){let x=!1;do{let f=o.readBits(8);if(f===0)throw new j;if(f<=128)return x&&(f+=128),l.append(String.fromCharCode(f-1)),Ts.ASCII_ENCODE;if(f===129)return Ts.PAD_ENCODE;if(f<=229){const p=f-130;p<10&&l.append("0"),l.append(""+p)}else switch(f){case 230:return Ts.C40_ENCODE;case 231:return Ts.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return Ts.ANSIX12_ENCODE;case 239:return Ts.TEXT_ENCODE;case 240:return Ts.EDIFACT_ENCODE;case 241:break;default:if(f!==254||o.available()!==0)throw new j;break}}while(o.available()>0);return Ts.ASCII_ENCODE}static decodeC40Segment(o,l){let c=!1;const x=[];let f=0;do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),x);for(let y=0;y<3;y++){const w=x[y];switch(f){case 0:if(w<3)f=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const k=this.C40_BASIC_SET_CHARS[w];c?(l.append(String.fromCharCode(k.charCodeAt(0)+128)),c=!1):l.append(k)}else throw new j;break;case 1:c?(l.append(String.fromCharCode(w+128)),c=!1):l.append(String.fromCharCode(w)),f=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const k=this.C40_SHIFT2_SET_CHARS[w];c?(l.append(String.fromCharCode(k.charCodeAt(0)+128)),c=!1):l.append(k)}else switch(w){case 27:l.append("");break;case 30:c=!0;break;default:throw new j}f=0;break;case 3:c?(l.append(String.fromCharCode(w+224)),c=!1):l.append(String.fromCharCode(w+96)),f=0;break;default:throw new j}}}while(o.available()>0)}static decodeTextSegment(o,l){let c=!1,x=[],f=0;do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),x);for(let y=0;y<3;y++){const w=x[y];switch(f){case 0:if(w<3)f=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const k=this.TEXT_BASIC_SET_CHARS[w];c?(l.append(String.fromCharCode(k.charCodeAt(0)+128)),c=!1):l.append(k)}else throw new j;break;case 1:c?(l.append(String.fromCharCode(w+128)),c=!1):l.append(String.fromCharCode(w)),f=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const k=this.TEXT_SHIFT2_SET_CHARS[w];c?(l.append(String.fromCharCode(k.charCodeAt(0)+128)),c=!1):l.append(k)}else switch(w){case 27:l.append("");break;case 30:c=!0;break;default:throw new j}f=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const k=this.TEXT_SHIFT3_SET_CHARS[w];c?(l.append(String.fromCharCode(k.charCodeAt(0)+128)),c=!1):l.append(k),f=0}else throw new j;break;default:throw new j}}}while(o.available()>0)}static decodeAnsiX12Segment(o,l){const c=[];do{if(o.available()===8)return;const x=o.readBits(8);if(x===254)return;this.parseTwoBytes(x,o.readBits(8),c);for(let f=0;f<3;f++){const p=c[f];switch(p){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(p<14)l.append(String.fromCharCode(p+44));else if(p<40)l.append(String.fromCharCode(p+51));else throw new j;break}}}while(o.available()>0)}static parseTwoBytes(o,l,c){let x=(o<<8)+l-1,f=Math.floor(x/1600);c[0]=f,x-=f*1600,f=Math.floor(x/40),c[1]=f,c[2]=x-f*40}static decodeEdifactSegment(o,l){do{if(o.available()<=16)return;for(let c=0;c<4;c++){let x=o.readBits(6);if(x===31){const f=8-o.getBitOffset();f!==8&&o.readBits(f);return}(x&32)===0&&(x|=64),l.append(String.fromCharCode(x))}}while(o.available()>0)}static decodeBase256Segment(o,l,c){let x=1+o.getByteOffset();const f=this.unrandomize255State(o.readBits(8),x++);let p;if(f===0?p=o.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(o.readBits(8),x++),p<0)throw new j;const y=new Uint8Array(p);for(let w=0;w<p;w++){if(o.available()<8)throw new j;y[w]=this.unrandomize255State(o.readBits(8),x++)}c.push(y);try{l.append(J.decode(y,K.ISO88591))}catch(w){throw new Te("Platform does not support required encoding: "+w.message)}}static unrandomize255State(o,l){const c=149*l%255+1,x=o-c;return x>=0?x:x+256}}ir.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ir.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ir.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ir.TEXT_SHIFT2_SET_CHARS=ir.C40_SHIFT2_SET_CHARS,ir.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class hi{constructor(){this.rsDecoder=new He(ne.DATA_MATRIX_FIELD_256)}decode(o){const l=new oo(o),c=l.getVersion(),x=l.readCodewords(),f=Zi.getDataBlocks(x,c);let p=0;for(let k of f)p+=k.getNumDataCodewords();const y=new Uint8Array(p),w=f.length;for(let k=0;k<w;k++){const L=f[k],Q=L.getCodewords(),X=L.getNumDataCodewords();this.correctErrors(Q,X);for(let ce=0;ce<X;ce++)y[ce*w+k]=Q[ce]}return ir.decode(y)}correctErrors(o,l){const c=new Int32Array(o);try{this.rsDecoder.decode(c,o.length-l)}catch{throw new C}for(let x=0;x<l;x++)o[x]=c[x]}}class Ss{constructor(o){this.image=o,this.rectangleDetector=new Qe(this.image)}detect(){const o=this.rectangleDetector.detect();let l=this.detectSolid1(o);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new q;l=this.shiftToModuleCenter(l);const c=l[0],x=l[1],f=l[2],p=l[3];let y=this.transitionsBetween(c,p)+1,w=this.transitionsBetween(f,p)+1;(y&1)===1&&(y+=1),(w&1)===1&&(w+=1),4*y<7*w&&4*w<7*y&&(y=w=Math.max(y,w));let k=Ss.sampleGrid(this.image,c,x,f,p,y,w);return new ae(k,[c,x,f,p])}static shiftPoint(o,l,c){let x=(l.getX()-o.getX())/(c+1),f=(l.getY()-o.getY())/(c+1);return new M(o.getX()+x,o.getY()+f)}static moveAway(o,l,c){let x=o.getX(),f=o.getY();return x<l?x-=1:x+=1,f<c?f-=1:f+=1,new M(x,f)}detectSolid1(o){let l=o[0],c=o[1],x=o[3],f=o[2],p=this.transitionsBetween(l,c),y=this.transitionsBetween(c,x),w=this.transitionsBetween(x,f),k=this.transitionsBetween(f,l),L=p,Q=[f,l,c,x];return L>y&&(L=y,Q[0]=l,Q[1]=c,Q[2]=x,Q[3]=f),L>w&&(L=w,Q[0]=c,Q[1]=x,Q[2]=f,Q[3]=l),L>k&&(Q[0]=x,Q[1]=f,Q[2]=l,Q[3]=c),Q}detectSolid2(o){let l=o[0],c=o[1],x=o[2],f=o[3],p=this.transitionsBetween(l,f),y=Ss.shiftPoint(c,x,(p+1)*4),w=Ss.shiftPoint(x,c,(p+1)*4),k=this.transitionsBetween(y,l),L=this.transitionsBetween(w,f);return k<L?(o[0]=l,o[1]=c,o[2]=x,o[3]=f):(o[0]=c,o[1]=x,o[2]=f,o[3]=l),o}correctTopRight(o){let l=o[0],c=o[1],x=o[2],f=o[3],p=this.transitionsBetween(l,f),y=this.transitionsBetween(c,f),w=Ss.shiftPoint(l,c,(y+1)*4),k=Ss.shiftPoint(x,c,(p+1)*4);p=this.transitionsBetween(w,f),y=this.transitionsBetween(k,f);let L=new M(f.getX()+(x.getX()-c.getX())/(p+1),f.getY()+(x.getY()-c.getY())/(p+1)),Q=new M(f.getX()+(l.getX()-c.getX())/(y+1),f.getY()+(l.getY()-c.getY())/(y+1));if(!this.isValid(L))return this.isValid(Q)?Q:null;if(!this.isValid(Q))return L;let X=this.transitionsBetween(w,L)+this.transitionsBetween(k,L),ce=this.transitionsBetween(w,Q)+this.transitionsBetween(k,Q);return X>ce?L:Q}shiftToModuleCenter(o){let l=o[0],c=o[1],x=o[2],f=o[3],p=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(x,f)+1,w=Ss.shiftPoint(l,c,y*4),k=Ss.shiftPoint(x,c,p*4);p=this.transitionsBetween(w,f)+1,y=this.transitionsBetween(k,f)+1,(p&1)===1&&(p+=1),(y&1)===1&&(y+=1);let L=(l.getX()+c.getX()+x.getX()+f.getX())/4,Q=(l.getY()+c.getY()+x.getY()+f.getY())/4;l=Ss.moveAway(l,L,Q),c=Ss.moveAway(c,L,Q),x=Ss.moveAway(x,L,Q),f=Ss.moveAway(f,L,Q);let X,ce;return w=Ss.shiftPoint(l,c,y*4),w=Ss.shiftPoint(w,f,p*4),X=Ss.shiftPoint(c,l,y*4),X=Ss.shiftPoint(X,x,p*4),k=Ss.shiftPoint(x,f,y*4),k=Ss.shiftPoint(k,c,p*4),ce=Ss.shiftPoint(f,x,y*4),ce=Ss.shiftPoint(ce,l,p*4),[w,X,k,ce]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,l,c,x,f,p,y){return Ct.getInstance().sampleGrid(o,p,y,.5,.5,p-.5,.5,p-.5,y-.5,.5,y-.5,l.getX(),l.getY(),f.getX(),f.getY(),x.getX(),x.getY(),c.getX(),c.getY())}transitionsBetween(o,l){let c=Math.trunc(o.getX()),x=Math.trunc(o.getY()),f=Math.trunc(l.getX()),p=Math.trunc(l.getY()),y=Math.abs(p-x)>Math.abs(f-c);if(y){let ke=c;c=x,x=ke,ke=f,f=p,p=ke}let w=Math.abs(f-c),k=Math.abs(p-x),L=-w/2,Q=x<p?1:-1,X=c<f?1:-1,ce=0,Ae=this.image.get(y?x:c,y?c:x);for(let ke=c,Pe=x;ke!==f;ke+=X){let Le=this.image.get(y?Pe:ke,y?ke:Pe);if(Le!==Ae&&(ce++,Ae=Le),L+=k,L>0){if(Pe===p)break;Pe+=Q,L-=w}}return ce}}class ar{constructor(){this.decoder=new hi}decode(o,l=null){let c,x;if(l!=null&&l.has(z.PURE_BARCODE)){const k=ar.extractPureBits(o.getBlackMatrix());c=this.decoder.decode(k),x=ar.NO_POINTS}else{const k=new Ss(o.getBlackMatrix()).detect();c=this.decoder.decode(k.getBits()),x=k.getPoints()}const f=c.getRawBytes(),p=new Ge(c.getText(),f,8*f.length,x,ze.DATA_MATRIX,F.currentTimeMillis()),y=c.getByteSegments();y!=null&&p.putMetadata(ft.BYTE_SEGMENTS,y);const w=c.getECLevel();return w!=null&&p.putMetadata(ft.ERROR_CORRECTION_LEVEL,w),p}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(l==null||c==null)throw new q;const x=this.moduleSize(l,o);let f=l[1];const p=c[1];let y=l[0];const k=(c[0]-y+1)/x,L=(p-f+1)/x;if(k<=0||L<=0)throw new q;const Q=x/2;f+=Q,y+=Q;const X=new fe(k,L);for(let ce=0;ce<L;ce++){const Ae=f+ce*x;for(let ke=0;ke<k;ke++)o.get(y+ke*x,Ae)&&X.set(ke,ce)}return X}static moduleSize(o,l){const c=l.getWidth();let x=o[0];const f=o[1];for(;x<c&&l.get(x,f);)x++;if(x===c)throw new q;const p=x-o[0];if(p===0)throw new q;return p}}ar.NO_POINTS=[];class Ry extends ot{constructor(o=500){super(new ar,o)}}var gi;(function(W){W[W.L=0]="L",W[W.M=1]="M",W[W.Q=2]="Q",W[W.H=3]="H"})(gi||(gi={}));class Es{constructor(o,l,c){this.value=o,this.stringValue=l,this.bits=c,Es.FOR_BITS.set(c,this),Es.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Es.L;case"M":return Es.M;case"Q":return Es.Q;case"H":return Es.H;default:throw new m(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Es))return!1;const l=o;return this.value===l.value}static forBits(o){if(o<0||o>=Es.FOR_BITS.size)throw new b;return Es.FOR_BITS.get(o)}}Es.FOR_BITS=new Map,Es.FOR_VALUE=new Map,Es.L=new Es(gi.L,"L",1),Es.M=new Es(gi.M,"M",0),Es.Q=new Es(gi.Q,"Q",3),Es.H=new Es(gi.H,"H",2);class an{constructor(o){this.errorCorrectionLevel=Es.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,l){return P.bitCount(o^l)}static decodeFormatInformation(o,l){const c=an.doDecodeFormatInformation(o,l);return c!==null?c:an.doDecodeFormatInformation(o^an.FORMAT_INFO_MASK_QR,l^an.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,l){let c=Number.MAX_SAFE_INTEGER,x=0;for(const f of an.FORMAT_INFO_DECODE_LOOKUP){const p=f[0];if(p===o||p===l)return new an(f[1]);let y=an.numBitsDiffering(o,p);y<c&&(x=f[1],c=y),o!==l&&(y=an.numBitsDiffering(l,p),y<c&&(x=f[1],c=y))}return c<=3?new an(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof an))return!1;const l=o;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}an.FORMAT_INFO_MASK_QR=21522,an.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Re{constructor(o,...l){this.ecCodewordsPerBlock=o,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const l=this.ecBlocks;for(const c of l)o+=c.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class oe{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class kt{constructor(o,l,...c){this.versionNumber=o,this.alignmentPatternCenters=l,this.ecBlocks=c;let x=0;const f=c[0].getECCodewordsPerBlock(),p=c[0].getECBlocks();for(const y of p)x+=y.getCount()*(y.getDataCodewords()+f);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new j;try{return this.getVersionForNumber((o-17)/4)}catch{throw new j}}static getVersionForNumber(o){if(o<1||o>40)throw new b;return kt.VERSIONS[o-1]}static decodeVersionInformation(o){let l=Number.MAX_SAFE_INTEGER,c=0;for(let x=0;x<kt.VERSION_DECODE_INFO.length;x++){const f=kt.VERSION_DECODE_INFO[x];if(f===o)return kt.getVersionForNumber(x+7);const p=an.numBitsDiffering(o,f);p<l&&(c=x+7,l=p)}return l<=3?kt.getVersionForNumber(c):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),l=new fe(o);l.setRegion(0,0,9,9),l.setRegion(o-8,0,8,9),l.setRegion(0,o-8,9,8);const c=this.alignmentPatternCenters.length;for(let x=0;x<c;x++){const f=this.alignmentPatternCenters[x]-2;for(let p=0;p<c;p++)x===0&&(p===0||p===c-1)||x===c-1&&p===0||l.setRegion(this.alignmentPatternCenters[p]-2,f,5,5)}return l.setRegion(6,9,1,o-17),l.setRegion(9,6,o-17,1),this.versionNumber>6&&(l.setRegion(o-11,0,3,6),l.setRegion(0,o-11,6,3)),l}toString(){return""+this.versionNumber}}kt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),kt.VERSIONS=[new kt(1,new Int32Array(0),new Re(7,new oe(1,19)),new Re(10,new oe(1,16)),new Re(13,new oe(1,13)),new Re(17,new oe(1,9))),new kt(2,Int32Array.from([6,18]),new Re(10,new oe(1,34)),new Re(16,new oe(1,28)),new Re(22,new oe(1,22)),new Re(28,new oe(1,16))),new kt(3,Int32Array.from([6,22]),new Re(15,new oe(1,55)),new Re(26,new oe(1,44)),new Re(18,new oe(2,17)),new Re(22,new oe(2,13))),new kt(4,Int32Array.from([6,26]),new Re(20,new oe(1,80)),new Re(18,new oe(2,32)),new Re(26,new oe(2,24)),new Re(16,new oe(4,9))),new kt(5,Int32Array.from([6,30]),new Re(26,new oe(1,108)),new Re(24,new oe(2,43)),new Re(18,new oe(2,15),new oe(2,16)),new Re(22,new oe(2,11),new oe(2,12))),new kt(6,Int32Array.from([6,34]),new Re(18,new oe(2,68)),new Re(16,new oe(4,27)),new Re(24,new oe(4,19)),new Re(28,new oe(4,15))),new kt(7,Int32Array.from([6,22,38]),new Re(20,new oe(2,78)),new Re(18,new oe(4,31)),new Re(18,new oe(2,14),new oe(4,15)),new Re(26,new oe(4,13),new oe(1,14))),new kt(8,Int32Array.from([6,24,42]),new Re(24,new oe(2,97)),new Re(22,new oe(2,38),new oe(2,39)),new Re(22,new oe(4,18),new oe(2,19)),new Re(26,new oe(4,14),new oe(2,15))),new kt(9,Int32Array.from([6,26,46]),new Re(30,new oe(2,116)),new Re(22,new oe(3,36),new oe(2,37)),new Re(20,new oe(4,16),new oe(4,17)),new Re(24,new oe(4,12),new oe(4,13))),new kt(10,Int32Array.from([6,28,50]),new Re(18,new oe(2,68),new oe(2,69)),new Re(26,new oe(4,43),new oe(1,44)),new Re(24,new oe(6,19),new oe(2,20)),new Re(28,new oe(6,15),new oe(2,16))),new kt(11,Int32Array.from([6,30,54]),new Re(20,new oe(4,81)),new Re(30,new oe(1,50),new oe(4,51)),new Re(28,new oe(4,22),new oe(4,23)),new Re(24,new oe(3,12),new oe(8,13))),new kt(12,Int32Array.from([6,32,58]),new Re(24,new oe(2,92),new oe(2,93)),new Re(22,new oe(6,36),new oe(2,37)),new Re(26,new oe(4,20),new oe(6,21)),new Re(28,new oe(7,14),new oe(4,15))),new kt(13,Int32Array.from([6,34,62]),new Re(26,new oe(4,107)),new Re(22,new oe(8,37),new oe(1,38)),new Re(24,new oe(8,20),new oe(4,21)),new Re(22,new oe(12,11),new oe(4,12))),new kt(14,Int32Array.from([6,26,46,66]),new Re(30,new oe(3,115),new oe(1,116)),new Re(24,new oe(4,40),new oe(5,41)),new Re(20,new oe(11,16),new oe(5,17)),new Re(24,new oe(11,12),new oe(5,13))),new kt(15,Int32Array.from([6,26,48,70]),new Re(22,new oe(5,87),new oe(1,88)),new Re(24,new oe(5,41),new oe(5,42)),new Re(30,new oe(5,24),new oe(7,25)),new Re(24,new oe(11,12),new oe(7,13))),new kt(16,Int32Array.from([6,26,50,74]),new Re(24,new oe(5,98),new oe(1,99)),new Re(28,new oe(7,45),new oe(3,46)),new Re(24,new oe(15,19),new oe(2,20)),new Re(30,new oe(3,15),new oe(13,16))),new kt(17,Int32Array.from([6,30,54,78]),new Re(28,new oe(1,107),new oe(5,108)),new Re(28,new oe(10,46),new oe(1,47)),new Re(28,new oe(1,22),new oe(15,23)),new Re(28,new oe(2,14),new oe(17,15))),new kt(18,Int32Array.from([6,30,56,82]),new Re(30,new oe(5,120),new oe(1,121)),new Re(26,new oe(9,43),new oe(4,44)),new Re(28,new oe(17,22),new oe(1,23)),new Re(28,new oe(2,14),new oe(19,15))),new kt(19,Int32Array.from([6,30,58,86]),new Re(28,new oe(3,113),new oe(4,114)),new Re(26,new oe(3,44),new oe(11,45)),new Re(26,new oe(17,21),new oe(4,22)),new Re(26,new oe(9,13),new oe(16,14))),new kt(20,Int32Array.from([6,34,62,90]),new Re(28,new oe(3,107),new oe(5,108)),new Re(26,new oe(3,41),new oe(13,42)),new Re(30,new oe(15,24),new oe(5,25)),new Re(28,new oe(15,15),new oe(10,16))),new kt(21,Int32Array.from([6,28,50,72,94]),new Re(28,new oe(4,116),new oe(4,117)),new Re(26,new oe(17,42)),new Re(28,new oe(17,22),new oe(6,23)),new Re(30,new oe(19,16),new oe(6,17))),new kt(22,Int32Array.from([6,26,50,74,98]),new Re(28,new oe(2,111),new oe(7,112)),new Re(28,new oe(17,46)),new Re(30,new oe(7,24),new oe(16,25)),new Re(24,new oe(34,13))),new kt(23,Int32Array.from([6,30,54,78,102]),new Re(30,new oe(4,121),new oe(5,122)),new Re(28,new oe(4,47),new oe(14,48)),new Re(30,new oe(11,24),new oe(14,25)),new Re(30,new oe(16,15),new oe(14,16))),new kt(24,Int32Array.from([6,28,54,80,106]),new Re(30,new oe(6,117),new oe(4,118)),new Re(28,new oe(6,45),new oe(14,46)),new Re(30,new oe(11,24),new oe(16,25)),new Re(30,new oe(30,16),new oe(2,17))),new kt(25,Int32Array.from([6,32,58,84,110]),new Re(26,new oe(8,106),new oe(4,107)),new Re(28,new oe(8,47),new oe(13,48)),new Re(30,new oe(7,24),new oe(22,25)),new Re(30,new oe(22,15),new oe(13,16))),new kt(26,Int32Array.from([6,30,58,86,114]),new Re(28,new oe(10,114),new oe(2,115)),new Re(28,new oe(19,46),new oe(4,47)),new Re(28,new oe(28,22),new oe(6,23)),new Re(30,new oe(33,16),new oe(4,17))),new kt(27,Int32Array.from([6,34,62,90,118]),new Re(30,new oe(8,122),new oe(4,123)),new Re(28,new oe(22,45),new oe(3,46)),new Re(30,new oe(8,23),new oe(26,24)),new Re(30,new oe(12,15),new oe(28,16))),new kt(28,Int32Array.from([6,26,50,74,98,122]),new Re(30,new oe(3,117),new oe(10,118)),new Re(28,new oe(3,45),new oe(23,46)),new Re(30,new oe(4,24),new oe(31,25)),new Re(30,new oe(11,15),new oe(31,16))),new kt(29,Int32Array.from([6,30,54,78,102,126]),new Re(30,new oe(7,116),new oe(7,117)),new Re(28,new oe(21,45),new oe(7,46)),new Re(30,new oe(1,23),new oe(37,24)),new Re(30,new oe(19,15),new oe(26,16))),new kt(30,Int32Array.from([6,26,52,78,104,130]),new Re(30,new oe(5,115),new oe(10,116)),new Re(28,new oe(19,47),new oe(10,48)),new Re(30,new oe(15,24),new oe(25,25)),new Re(30,new oe(23,15),new oe(25,16))),new kt(31,Int32Array.from([6,30,56,82,108,134]),new Re(30,new oe(13,115),new oe(3,116)),new Re(28,new oe(2,46),new oe(29,47)),new Re(30,new oe(42,24),new oe(1,25)),new Re(30,new oe(23,15),new oe(28,16))),new kt(32,Int32Array.from([6,34,60,86,112,138]),new Re(30,new oe(17,115)),new Re(28,new oe(10,46),new oe(23,47)),new Re(30,new oe(10,24),new oe(35,25)),new Re(30,new oe(19,15),new oe(35,16))),new kt(33,Int32Array.from([6,30,58,86,114,142]),new Re(30,new oe(17,115),new oe(1,116)),new Re(28,new oe(14,46),new oe(21,47)),new Re(30,new oe(29,24),new oe(19,25)),new Re(30,new oe(11,15),new oe(46,16))),new kt(34,Int32Array.from([6,34,62,90,118,146]),new Re(30,new oe(13,115),new oe(6,116)),new Re(28,new oe(14,46),new oe(23,47)),new Re(30,new oe(44,24),new oe(7,25)),new Re(30,new oe(59,16),new oe(1,17))),new kt(35,Int32Array.from([6,30,54,78,102,126,150]),new Re(30,new oe(12,121),new oe(7,122)),new Re(28,new oe(12,47),new oe(26,48)),new Re(30,new oe(39,24),new oe(14,25)),new Re(30,new oe(22,15),new oe(41,16))),new kt(36,Int32Array.from([6,24,50,76,102,128,154]),new Re(30,new oe(6,121),new oe(14,122)),new Re(28,new oe(6,47),new oe(34,48)),new Re(30,new oe(46,24),new oe(10,25)),new Re(30,new oe(2,15),new oe(64,16))),new kt(37,Int32Array.from([6,28,54,80,106,132,158]),new Re(30,new oe(17,122),new oe(4,123)),new Re(28,new oe(29,46),new oe(14,47)),new Re(30,new oe(49,24),new oe(10,25)),new Re(30,new oe(24,15),new oe(46,16))),new kt(38,Int32Array.from([6,32,58,84,110,136,162]),new Re(30,new oe(4,122),new oe(18,123)),new Re(28,new oe(13,46),new oe(32,47)),new Re(30,new oe(48,24),new oe(14,25)),new Re(30,new oe(42,15),new oe(32,16))),new kt(39,Int32Array.from([6,26,54,82,110,138,166]),new Re(30,new oe(20,117),new oe(4,118)),new Re(28,new oe(40,47),new oe(7,48)),new Re(30,new oe(43,24),new oe(22,25)),new Re(30,new oe(10,15),new oe(67,16))),new kt(40,Int32Array.from([6,30,58,86,114,142,170]),new Re(30,new oe(19,118),new oe(6,119)),new Re(28,new oe(18,47),new oe(31,48)),new Re(30,new oe(34,24),new oe(34,25)),new Re(30,new oe(20,15),new oe(61,16)))];var Gs;(function(W){W[W.DATA_MASK_000=0]="DATA_MASK_000",W[W.DATA_MASK_001=1]="DATA_MASK_001",W[W.DATA_MASK_010=2]="DATA_MASK_010",W[W.DATA_MASK_011=3]="DATA_MASK_011",W[W.DATA_MASK_100=4]="DATA_MASK_100",W[W.DATA_MASK_101=5]="DATA_MASK_101",W[W.DATA_MASK_110=6]="DATA_MASK_110",W[W.DATA_MASK_111=7]="DATA_MASK_111"})(Gs||(Gs={}));class zn{constructor(o,l){this.value=o,this.isMasked=l}unmaskBitMatrix(o,l){for(let c=0;c<l;c++)for(let x=0;x<l;x++)this.isMasked(c,x)&&o.flip(x,c)}}zn.values=new Map([[Gs.DATA_MASK_000,new zn(Gs.DATA_MASK_000,(W,o)=>(W+o&1)===0)],[Gs.DATA_MASK_001,new zn(Gs.DATA_MASK_001,(W,o)=>(W&1)===0)],[Gs.DATA_MASK_010,new zn(Gs.DATA_MASK_010,(W,o)=>o%3===0)],[Gs.DATA_MASK_011,new zn(Gs.DATA_MASK_011,(W,o)=>(W+o)%3===0)],[Gs.DATA_MASK_100,new zn(Gs.DATA_MASK_100,(W,o)=>(Math.floor(W/2)+Math.floor(o/3)&1)===0)],[Gs.DATA_MASK_101,new zn(Gs.DATA_MASK_101,(W,o)=>W*o%6===0)],[Gs.DATA_MASK_110,new zn(Gs.DATA_MASK_110,(W,o)=>W*o%6<3)],[Gs.DATA_MASK_111,new zn(Gs.DATA_MASK_111,(W,o)=>(W+o+W*o%3&1)===0)]]);class Oy{constructor(o){const l=o.getHeight();if(l<21||(l&3)!==1)throw new j;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let f=0;f<6;f++)o=this.copyBit(f,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let f=5;f>=0;f--)o=this.copyBit(8,f,o);const l=this.bitMatrix.getHeight();let c=0;const x=l-7;for(let f=l-1;f>=x;f--)c=this.copyBit(8,f,c);for(let f=l-8;f<l;f++)c=this.copyBit(f,8,c);if(this.parsedFormatInfo=an.decodeFormatInformation(o,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),l=Math.floor((o-17)/4);if(l<=6)return kt.getVersionForNumber(l);let c=0;const x=o-11;for(let p=5;p>=0;p--)for(let y=o-9;y>=x;y--)c=this.copyBit(y,p,c);let f=kt.decodeVersionInformation(c);if(f!==null&&f.getDimensionForVersion()===o)return this.parsedVersion=f,f;c=0;for(let p=5;p>=0;p--)for(let y=o-9;y>=x;y--)c=this.copyBit(p,y,c);if(f=kt.decodeVersionInformation(c),f!==null&&f.getDimensionForVersion()===o)return this.parsedVersion=f,f;throw new j}copyBit(o,l,c){return(this.isMirror?this.bitMatrix.get(l,o):this.bitMatrix.get(o,l))?c<<1|1:c<<1}readCodewords(){const o=this.readFormatInformation(),l=this.readVersion(),c=zn.values.get(o.getDataMask()),x=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,x);const f=l.buildFunctionPattern();let p=!0;const y=new Uint8Array(l.getTotalCodewords());let w=0,k=0,L=0;for(let Q=x-1;Q>0;Q-=2){Q===6&&Q--;for(let X=0;X<x;X++){const ce=p?x-1-X:X;for(let Ae=0;Ae<2;Ae++)f.get(Q-Ae,ce)||(L++,k<<=1,this.bitMatrix.get(Q-Ae,ce)&&(k|=1),L===8&&(y[w++]=k,L=0,k=0))}p=!p}if(w!==l.getTotalCodewords())throw new j;return y}remask(){if(this.parsedFormatInfo===null)return;const o=zn.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let l=0,c=o.getWidth();l<c;l++)for(let x=l+1,f=o.getHeight();x<f;x++)o.get(l,x)!==o.get(x,l)&&(o.flip(x,l),o.flip(l,x))}}class od{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l,c){if(o.length!==l.getTotalCodewords())throw new b;const x=l.getECBlocksForLevel(c);let f=0;const p=x.getECBlocks();for(const Ae of p)f+=Ae.getCount();const y=new Array(f);let w=0;for(const Ae of p)for(let ke=0;ke<Ae.getCount();ke++){const Pe=Ae.getDataCodewords(),Le=x.getECCodewordsPerBlock()+Pe;y[w++]=new od(Pe,new Uint8Array(Le))}const k=y[0].codewords.length;let L=y.length-1;for(;L>=0&&y[L].codewords.length!==k;)L--;L++;const Q=k-x.getECCodewordsPerBlock();let X=0;for(let Ae=0;Ae<Q;Ae++)for(let ke=0;ke<w;ke++)y[ke].codewords[Ae]=o[X++];for(let Ae=L;Ae<w;Ae++)y[Ae].codewords[Q]=o[X++];const ce=y[0].codewords.length;for(let Ae=Q;Ae<ce;Ae++)for(let ke=0;ke<w;ke++){const Pe=ke<L?Ae:Ae+1;y[ke].codewords[Pe]=o[X++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Vn;(function(W){W[W.TERMINATOR=0]="TERMINATOR",W[W.NUMERIC=1]="NUMERIC",W[W.ALPHANUMERIC=2]="ALPHANUMERIC",W[W.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",W[W.BYTE=4]="BYTE",W[W.ECI=5]="ECI",W[W.KANJI=6]="KANJI",W[W.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",W[W.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",W[W.HANZI=9]="HANZI"})(Vn||(Vn={}));class Tt{constructor(o,l,c,x){this.value=o,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=x,Tt.FOR_BITS.set(x,this),Tt.FOR_VALUE.set(o,this)}static forBits(o){const l=Tt.FOR_BITS.get(o);if(l===void 0)throw new b;return l}getCharacterCountBits(o){const l=o.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Tt))return!1;const l=o;return this.value===l.value}toString(){return this.stringValue}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.TERMINATOR=new Tt(Vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Tt.NUMERIC=new Tt(Vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Tt.ALPHANUMERIC=new Tt(Vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Tt.STRUCTURED_APPEND=new Tt(Vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Tt.BYTE=new Tt(Vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Tt.ECI=new Tt(Vn.ECI,"ECI",Int32Array.from([0,0,0]),7),Tt.KANJI=new Tt(Vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Tt.FNC1_FIRST_POSITION=new Tt(Vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Tt.FNC1_SECOND_POSITION=new Tt(Vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Tt.HANZI=new Tt(Vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ms{static decode(o,l,c,x){const f=new io(o);let p=new ie;const y=new Array;let w=-1,k=-1;try{let L=null,Q=!1,X;do{if(f.available()<4)X=Tt.TERMINATOR;else{const ce=f.readBits(4);X=Tt.forBits(ce)}switch(X){case Tt.TERMINATOR:break;case Tt.FNC1_FIRST_POSITION:case Tt.FNC1_SECOND_POSITION:Q=!0;break;case Tt.STRUCTURED_APPEND:if(f.available()<16)throw new j;w=f.readBits(8),k=f.readBits(8);break;case Tt.ECI:const ce=Ms.parseECIValue(f);if(L=I.getCharacterSetECIByValue(ce),L===null)throw new j;break;case Tt.HANZI:const Ae=f.readBits(4),ke=f.readBits(X.getCharacterCountBits(l));Ae===Ms.GB2312_SUBSET&&Ms.decodeHanziSegment(f,p,ke);break;default:const Pe=f.readBits(X.getCharacterCountBits(l));switch(X){case Tt.NUMERIC:Ms.decodeNumericSegment(f,p,Pe);break;case Tt.ALPHANUMERIC:Ms.decodeAlphanumericSegment(f,p,Pe,Q);break;case Tt.BYTE:Ms.decodeByteSegment(f,p,Pe,L,y,x);break;case Tt.KANJI:Ms.decodeKanjiSegment(f,p,Pe);break;default:throw new j}break}}while(X!==Tt.TERMINATOR)}catch{throw new j}return new yt(o,p.toString(),y.length===0?null:y,c===null?null:c.toString(),w,k)}static decodeHanziSegment(o,l,c){if(c*13>o.available())throw new j;const x=new Uint8Array(2*c);let f=0;for(;c>0;){const p=o.readBits(13);let y=p/96<<8&4294967295|p%96;y<959?y+=41377:y+=42657,x[f]=y>>8&255,x[f+1]=y&255,f+=2,c--}try{l.append(J.decode(x,K.GB2312))}catch(p){throw new j(p)}}static decodeKanjiSegment(o,l,c){if(c*13>o.available())throw new j;const x=new Uint8Array(2*c);let f=0;for(;c>0;){const p=o.readBits(13);let y=p/192<<8&4294967295|p%192;y<7936?y+=33088:y+=49472,x[f]=y>>8,x[f+1]=y,f+=2,c--}try{l.append(J.decode(x,K.SHIFT_JIS))}catch(p){throw new j(p)}}static decodeByteSegment(o,l,c,x,f,p){if(8*c>o.available())throw new j;const y=new Uint8Array(c);for(let k=0;k<c;k++)y[k]=o.readBits(8);let w;x===null?w=K.guessEncoding(y,p):w=x.getName();try{l.append(J.decode(y,w))}catch(k){throw new j(k)}f.push(y)}static toAlphaNumericChar(o){if(o>=Ms.ALPHANUMERIC_CHARS.length)throw new j;return Ms.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,l,c,x){const f=l.length();for(;c>1;){if(o.available()<11)throw new j;const p=o.readBits(11);l.append(Ms.toAlphaNumericChar(Math.floor(p/45))),l.append(Ms.toAlphaNumericChar(p%45)),c-=2}if(c===1){if(o.available()<6)throw new j;l.append(Ms.toAlphaNumericChar(o.readBits(6)))}if(x)for(let p=f;p<l.length();p++)l.charAt(p)==="%"&&(p<l.length()-1&&l.charAt(p+1)==="%"?l.deleteCharAt(p+1):l.setCharAt(p,""))}static decodeNumericSegment(o,l,c){for(;c>=3;){if(o.available()<10)throw new j;const x=o.readBits(10);if(x>=1e3)throw new j;l.append(Ms.toAlphaNumericChar(Math.floor(x/100))),l.append(Ms.toAlphaNumericChar(Math.floor(x/10)%10)),l.append(Ms.toAlphaNumericChar(x%10)),c-=3}if(c===2){if(o.available()<7)throw new j;const x=o.readBits(7);if(x>=100)throw new j;l.append(Ms.toAlphaNumericChar(Math.floor(x/10))),l.append(Ms.toAlphaNumericChar(x%10))}else if(c===1){if(o.available()<4)throw new j;const x=o.readBits(4);if(x>=10)throw new j;l.append(Ms.toAlphaNumericChar(x))}}static parseECIValue(o){const l=o.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const c=o.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=o.readBits(16);return(l&31)<<16&4294967295|c}throw new j}}Ms.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ms.GB2312_SUBSET=1;class Kx{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const l=o[0];o[0]=o[2],o[2]=l}}class Ny{constructor(){this.rsDecoder=new He(ne.QR_CODE_FIELD_256)}decodeBooleanArray(o,l){return this.decodeBitMatrix(fe.parseFromBooleanArray(o),l)}decodeBitMatrix(o,l){const c=new Oy(o);let x=null;try{return this.decodeBitMatrixParser(c,l)}catch(f){x=f}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const f=this.decodeBitMatrixParser(c,l);return f.setOther(new Kx(!0)),f}catch(f){throw x!==null?x:f}}decodeBitMatrixParser(o,l){const c=o.readVersion(),x=o.readFormatInformation().getErrorCorrectionLevel(),f=o.readCodewords(),p=od.getDataBlocks(f,c,x);let y=0;for(const L of p)y+=L.getNumDataCodewords();const w=new Uint8Array(y);let k=0;for(const L of p){const Q=L.getCodewords(),X=L.getNumDataCodewords();this.correctErrors(Q,X);for(let ce=0;ce<X;ce++)w[k++]=Q[ce]}return Ms.decode(w,c,x,l)}correctErrors(o,l){const c=new Int32Array(o);try{this.rsDecoder.decode(c,o.length-l)}catch{throw new C}for(let x=0;x<l;x++)o[x]=c[x]}}class id extends M{constructor(o,l,c){super(o,l),this.estimatedModuleSize=c}aboutEquals(o,l,c){if(Math.abs(l-this.getY())<=o&&Math.abs(c-this.getX())<=o){const x=Math.abs(o-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(o,l,c){const x=(this.getX()+l)/2,f=(this.getY()+o)/2,p=(this.estimatedModuleSize+c)/2;return new id(x,f,p)}}class gl{constructor(o,l,c,x,f,p,y){this.image=o,this.startX=l,this.startY=c,this.width=x,this.height=f,this.moduleSize=p,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,l=this.height,c=this.width,x=o+c,f=this.startY+l/2,p=new Int32Array(3),y=this.image;for(let w=0;w<l;w++){const k=f+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));p[0]=0,p[1]=0,p[2]=0;let L=o;for(;L<x&&!y.get(L,k);)L++;let Q=0;for(;L<x;){if(y.get(L,k))if(Q===1)p[1]++;else if(Q===2){if(this.foundPatternCross(p)){const X=this.handlePossibleCenter(p,k,L);if(X!==null)return X}p[0]=p[2],p[1]=1,p[2]=0,Q=1}else p[++Q]++;else Q===1&&Q++,p[Q]++;L++}if(this.foundPatternCross(p)){const X=this.handlePossibleCenter(p,k,x);if(X!==null)return X}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(o,l){return l-o[2]-o[1]/2}foundPatternCross(o){const l=this.moduleSize,c=l/2;for(let x=0;x<3;x++)if(Math.abs(l-o[x])>=c)return!1;return!0}crossCheckVertical(o,l,c,x){const f=this.image,p=f.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let w=o;for(;w>=0&&f.get(l,w)&&y[1]<=c;)y[1]++,w--;if(w<0||y[1]>c)return NaN;for(;w>=0&&!f.get(l,w)&&y[0]<=c;)y[0]++,w--;if(y[0]>c)return NaN;for(w=o+1;w<p&&f.get(l,w)&&y[1]<=c;)y[1]++,w++;if(w===p||y[1]>c)return NaN;for(;w<p&&!f.get(l,w)&&y[2]<=c;)y[2]++,w++;if(y[2]>c)return NaN;const k=y[0]+y[1]+y[2];return 5*Math.abs(k-x)>=2*x?NaN:this.foundPatternCross(y)?gl.centerFromEnd(y,w):NaN}handlePossibleCenter(o,l,c){const x=o[0]+o[1]+o[2],f=gl.centerFromEnd(o,c),p=this.crossCheckVertical(l,f,2*o[1],x);if(!isNaN(p)){const y=(o[0]+o[1]+o[2])/3;for(const k of this.possibleCenters)if(k.aboutEquals(y,p,f))return k.combineEstimate(p,f,y);const w=new id(f,p,y);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class ad extends M{constructor(o,l,c,x){super(o,l),this.estimatedModuleSize=c,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,l,c){if(Math.abs(l-this.getY())<=o&&Math.abs(c-this.getX())<=o){const x=Math.abs(o-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(o,l,c){const x=this.count+1,f=(this.count*this.getX()+l)/x,p=(this.count*this.getY()+o)/x,y=(this.count*this.estimatedModuleSize+c)/x;return new ad(f,p,y,x)}}class $y{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ks{constructor(o,l){this.image=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const l=o!=null&&o.get(z.TRY_HARDER)!==void 0,c=o!=null&&o.get(z.PURE_BARCODE)!==void 0,x=this.image,f=x.getHeight(),p=x.getWidth();let y=Math.floor(3*f/(4*Ks.MAX_MODULES));(y<Ks.MIN_SKIP||l)&&(y=Ks.MIN_SKIP);let w=!1;const k=new Int32Array(5);for(let Q=y-1;Q<f&&!w;Q+=y){k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0;let X=0;for(let ce=0;ce<p;ce++)if(x.get(ce,Q))(X&1)===1&&X++,k[X]++;else if((X&1)===0)if(X===4)if(Ks.foundPatternCross(k)){if(this.handlePossibleCenter(k,Q,ce,c)===!0)if(y=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const ke=this.findRowSkip();ke>k[2]&&(Q+=ke-k[2]-y,ce=p-1)}else{k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,X=3;continue}X=0,k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0}else k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,X=3;else k[++X]++;else k[X]++;Ks.foundPatternCross(k)&&this.handlePossibleCenter(k,Q,p,c)===!0&&(y=k[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const L=this.selectBestPatterns();return M.orderBestPatterns(L),new $y(L)}static centerFromEnd(o,l){return l-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let l=0;for(let f=0;f<5;f++){const p=o[f];if(p===0)return!1;l+=p}if(l<7)return!1;const c=l/7,x=c/2;return Math.abs(c-o[0])<x&&Math.abs(c-o[1])<x&&Math.abs(3*c-o[2])<3*x&&Math.abs(c-o[3])<x&&Math.abs(c-o[4])<x}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,l,c,x){const f=this.getCrossCheckStateCount();let p=0;const y=this.image;for(;o>=p&&l>=p&&y.get(l-p,o-p);)f[2]++,p++;if(o<p||l<p)return!1;for(;o>=p&&l>=p&&!y.get(l-p,o-p)&&f[1]<=c;)f[1]++,p++;if(o<p||l<p||f[1]>c)return!1;for(;o>=p&&l>=p&&y.get(l-p,o-p)&&f[0]<=c;)f[0]++,p++;if(f[0]>c)return!1;const w=y.getHeight(),k=y.getWidth();for(p=1;o+p<w&&l+p<k&&y.get(l+p,o+p);)f[2]++,p++;if(o+p>=w||l+p>=k)return!1;for(;o+p<w&&l+p<k&&!y.get(l+p,o+p)&&f[3]<c;)f[3]++,p++;if(o+p>=w||l+p>=k||f[3]>=c)return!1;for(;o+p<w&&l+p<k&&y.get(l+p,o+p)&&f[4]<c;)f[4]++,p++;if(f[4]>=c)return!1;const L=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(L-x)<2*x&&Ks.foundPatternCross(f)}crossCheckVertical(o,l,c,x){const f=this.image,p=f.getHeight(),y=this.getCrossCheckStateCount();let w=o;for(;w>=0&&f.get(l,w);)y[2]++,w--;if(w<0)return NaN;for(;w>=0&&!f.get(l,w)&&y[1]<=c;)y[1]++,w--;if(w<0||y[1]>c)return NaN;for(;w>=0&&f.get(l,w)&&y[0]<=c;)y[0]++,w--;if(y[0]>c)return NaN;for(w=o+1;w<p&&f.get(l,w);)y[2]++,w++;if(w===p)return NaN;for(;w<p&&!f.get(l,w)&&y[3]<c;)y[3]++,w++;if(w===p||y[3]>=c)return NaN;for(;w<p&&f.get(l,w)&&y[4]<c;)y[4]++,w++;if(y[4]>=c)return NaN;const k=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(k-x)>=2*x?NaN:Ks.foundPatternCross(y)?Ks.centerFromEnd(y,w):NaN}crossCheckHorizontal(o,l,c,x){const f=this.image,p=f.getWidth(),y=this.getCrossCheckStateCount();let w=o;for(;w>=0&&f.get(w,l);)y[2]++,w--;if(w<0)return NaN;for(;w>=0&&!f.get(w,l)&&y[1]<=c;)y[1]++,w--;if(w<0||y[1]>c)return NaN;for(;w>=0&&f.get(w,l)&&y[0]<=c;)y[0]++,w--;if(y[0]>c)return NaN;for(w=o+1;w<p&&f.get(w,l);)y[2]++,w++;if(w===p)return NaN;for(;w<p&&!f.get(w,l)&&y[3]<c;)y[3]++,w++;if(w===p||y[3]>=c)return NaN;for(;w<p&&f.get(w,l)&&y[4]<c;)y[4]++,w++;if(y[4]>=c)return NaN;const k=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(k-x)>=x?NaN:Ks.foundPatternCross(y)?Ks.centerFromEnd(y,w):NaN}handlePossibleCenter(o,l,c,x){const f=o[0]+o[1]+o[2]+o[3]+o[4];let p=Ks.centerFromEnd(o,c),y=this.crossCheckVertical(l,Math.floor(p),o[2],f);if(!isNaN(y)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(y),o[2],f),!isNaN(p)&&(!x||this.crossCheckDiagonal(Math.floor(y),Math.floor(p),o[2],f)))){const w=f/7;let k=!1;const L=this.possibleCenters;for(let Q=0,X=L.length;Q<X;Q++){const ce=L[Q];if(ce.aboutEquals(w,y,p)){L[Q]=ce.combineEstimate(y,p,w),k=!0;break}}if(!k){const Q=new ad(p,y,w);L.push(Q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=Ks.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,l=0;const c=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=Ks.CENTER_QUORUM&&(o++,l+=p.getEstimatedModuleSize());if(o<3)return!1;const x=l/c;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-x);return f<=.05*l}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new q;const l=this.possibleCenters;let c;if(o>3){let x=0,f=0;for(const w of this.possibleCenters){const k=w.getEstimatedModuleSize();x+=k,f+=k*k}c=x/o;let p=Math.sqrt(f/o-c*c);l.sort((w,k)=>{const L=Math.abs(k.getEstimatedModuleSize()-c),Q=Math.abs(w.getEstimatedModuleSize()-c);return L<Q?-1:L>Q?1:0});const y=Math.max(.2*c,p);for(let w=0;w<l.length&&l.length>3;w++){const k=l[w];Math.abs(k.getEstimatedModuleSize()-c)>y&&(l.splice(w,1),w--)}}if(l.length>3){let x=0;for(const f of l)x+=f.getEstimatedModuleSize();c=x/l.length,l.sort((f,p)=>{if(p.getCount()===f.getCount()){const y=Math.abs(p.getEstimatedModuleSize()-c),w=Math.abs(f.getEstimatedModuleSize()-c);return y<w?1:y>w?-1:0}else return p.getCount()-f.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Ks.CENTER_QUORUM=2,Ks.MIN_SKIP=3,Ks.MAX_MODULES=57;class ea{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(z.NEED_RESULT_POINT_CALLBACK);const c=new Ks(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(c)}processFinderPatternInfo(o){const l=o.getTopLeft(),c=o.getTopRight(),x=o.getBottomLeft(),f=this.calculateModuleSize(l,c,x);if(f<1)throw new q("No pattern found in proccess finder.");const p=ea.computeDimension(l,c,x,f),y=kt.getProvisionalVersionForDimension(p),w=y.getDimensionForVersion()-7;let k=null;if(y.getAlignmentPatternCenters().length>0){const ce=c.getX()-l.getX()+x.getX(),Ae=c.getY()-l.getY()+x.getY(),ke=1-3/w,Pe=Math.floor(l.getX()+ke*(ce-l.getX())),Le=Math.floor(l.getY()+ke*(Ae-l.getY()));for(let st=4;st<=16;st<<=1)try{k=this.findAlignmentInRegion(f,Pe,Le,st);break}catch(rt){if(!(rt instanceof q))throw rt}}const L=ea.createTransform(l,c,x,k,p),Q=ea.sampleGrid(this.image,L,p);let X;return k===null?X=[x,l,c]:X=[x,l,c,k],new ae(Q,X)}static createTransform(o,l,c,x,f){const p=f-3.5;let y,w,k,L;return x!==null?(y=x.getX(),w=x.getY(),k=p-3,L=k):(y=l.getX()-o.getX()+c.getX(),w=l.getY()-o.getY()+c.getY(),k=p,L=p),nt.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,k,L,3.5,p,o.getX(),o.getY(),l.getX(),l.getY(),y,w,c.getX(),c.getY())}static sampleGrid(o,l,c){return Ct.getInstance().sampleGridWithTransform(o,c,c,l)}static computeDimension(o,l,c,x){const f=N.round(M.distance(o,l)/x),p=N.round(M.distance(o,c)/x);let y=Math.floor((f+p)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new q("Dimensions could be not found.")}return y}calculateModuleSize(o,l,c){return(this.calculateModuleSizeOneWay(o,l)+this.calculateModuleSizeOneWay(o,c))/2}calculateModuleSizeOneWay(o,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(l.getX()),Math.floor(l.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(c)?x/7:isNaN(x)?c/7:(c+x)/14}sizeOfBlackWhiteBlackRunBothWays(o,l,c,x){let f=this.sizeOfBlackWhiteBlackRun(o,l,c,x),p=1,y=o-(c-o);y<0?(p=o/(o-y),y=0):y>=this.image.getWidth()&&(p=(this.image.getWidth()-1-o)/(y-o),y=this.image.getWidth()-1);let w=Math.floor(l-(x-l)*p);return p=1,w<0?(p=l/(l-w),w=0):w>=this.image.getHeight()&&(p=(this.image.getHeight()-1-l)/(w-l),w=this.image.getHeight()-1),y=Math.floor(o+(y-o)*p),f+=this.sizeOfBlackWhiteBlackRun(o,l,y,w),f-1}sizeOfBlackWhiteBlackRun(o,l,c,x){const f=Math.abs(x-l)>Math.abs(c-o);if(f){let ce=o;o=l,l=ce,ce=c,c=x,x=ce}const p=Math.abs(c-o),y=Math.abs(x-l);let w=-p/2;const k=o<c?1:-1,L=l<x?1:-1;let Q=0;const X=c+k;for(let ce=o,Ae=l;ce!==X;ce+=k){const ke=f?Ae:ce,Pe=f?ce:Ae;if(Q===1===this.image.get(ke,Pe)){if(Q===2)return N.distance(ce,Ae,o,l);Q++}if(w+=y,w>0){if(Ae===x)break;Ae+=L,w-=p}}return Q===2?N.distance(c+k,x,o,l):NaN}findAlignmentInRegion(o,l,c,x){const f=Math.floor(x*o),p=Math.max(0,l-f),y=Math.min(this.image.getWidth()-1,l+f);if(y-p<o*3)throw new q("Alignment top exceeds estimated module size.");const w=Math.max(0,c-f),k=Math.min(this.image.getHeight()-1,c+f);if(k-w<o*3)throw new q("Alignment bottom exceeds estimated module size.");return new gl(this.image,p,w,y-p,k-w,o,this.resultPointCallback).find()}}class ao{constructor(){this.decoder=new Ny}getDecoder(){return this.decoder}decode(o,l){let c,x;if(l!=null&&l.get(z.PURE_BARCODE)!==void 0){const w=ao.extractPureBits(o.getBlackMatrix());c=this.decoder.decodeBitMatrix(w,l),x=ao.NO_POINTS}else{const w=new ea(o.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(w.getBits(),l),x=w.getPoints()}c.getOther()instanceof Kx&&c.getOther().applyMirroredCorrection(x);const f=new Ge(c.getText(),c.getRawBytes(),void 0,x,ze.QR_CODE,void 0),p=c.getByteSegments();p!==null&&f.putMetadata(ft.BYTE_SEGMENTS,p);const y=c.getECLevel();return y!==null&&f.putMetadata(ft.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(f.putMetadata(ft.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),f.putMetadata(ft.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),f}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(l===null||c===null)throw new q;const x=this.moduleSize(l,o);let f=l[1],p=c[1],y=l[0],w=c[0];if(y>=w||f>=p)throw new q;if(p-f!==w-y&&(w=y+(p-f),w>=o.getWidth()))throw new q;const k=Math.round((w-y+1)/x),L=Math.round((p-f+1)/x);if(k<=0||L<=0)throw new q;if(L!==k)throw new q;const Q=Math.floor(x/2);f+=Q,y+=Q;const X=y+Math.floor((k-1)*x)-w;if(X>0){if(X>Q)throw new q;y-=X}const ce=f+Math.floor((L-1)*x)-p;if(ce>0){if(ce>Q)throw new q;f-=ce}const Ae=new fe(k,L);for(let ke=0;ke<L;ke++){const Pe=f+Math.floor(ke*x);for(let Le=0;Le<k;Le++)o.get(y+Math.floor(Le*x),Pe)&&Ae.set(Le,ke)}return Ae}static moduleSize(o,l){const c=l.getHeight(),x=l.getWidth();let f=o[0],p=o[1],y=!0,w=0;for(;f<x&&p<c;){if(y!==l.get(f,p)){if(++w===5)break;y=!y}f++,p++}if(f===x||p===c)throw new q;return(f-o[0])/7}}ao.NO_POINTS=new Array;class Ot{PDF417Common(){}static getBitCountSum(o){return N.sum(o)}static toIntArray(o){if(o==null||!o.length)return Ot.EMPTY_INT_ARRAY;const l=new Int32Array(o.length);let c=0;for(const x of o)l[c++]=x;return l}static getCodeword(o){const l=O.binarySearch(Ot.SYMBOL_TABLE,o&262143);return l<0?-1:(Ot.CODEWORD_TABLE[l]-1)%Ot.NUMBER_OF_CODEWORDS}}Ot.NUMBER_OF_CODEWORDS=929,Ot.MAX_CODEWORDS_IN_BARCODE=Ot.NUMBER_OF_CODEWORDS-1,Ot.MIN_ROWS_IN_BARCODE=3,Ot.MAX_ROWS_IN_BARCODE=90,Ot.MODULES_IN_CODEWORD=17,Ot.MODULES_IN_STOP_PATTERN=18,Ot.BARS_IN_MODULE=8,Ot.EMPTY_INT_ARRAY=new Int32Array([]),Ot.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ot.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ly{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Kt{static detectMultiple(o,l,c){let x=o.getBlackMatrix(),f=Kt.detect(c,x);return f.length||(x=x.clone(),x.rotate180(),f=Kt.detect(c,x)),new Ly(x,f)}static detect(o,l){const c=new Array;let x=0,f=0,p=!1;for(;x<l.getHeight();){const y=Kt.findVertices(l,x,f);if(y[0]==null&&y[3]==null){if(!p)break;p=!1,f=0;for(const w of c)w[1]!=null&&(x=Math.trunc(Math.max(x,w[1].getY()))),w[3]!=null&&(x=Math.max(x,Math.trunc(w[3].getY())));x+=Kt.ROW_STEP;continue}if(p=!0,c.push(y),!o)break;y[2]!=null?(f=Math.trunc(y[2].getX()),x=Math.trunc(y[2].getY())):(f=Math.trunc(y[4].getX()),x=Math.trunc(y[4].getY()))}return c}static findVertices(o,l,c){const x=o.getHeight(),f=o.getWidth(),p=new Array(8);return Kt.copyToResult(p,Kt.findRowsWithPattern(o,x,f,l,c,Kt.START_PATTERN),Kt.INDEXES_START_PATTERN),p[4]!=null&&(c=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY())),Kt.copyToResult(p,Kt.findRowsWithPattern(o,x,f,l,c,Kt.STOP_PATTERN),Kt.INDEXES_STOP_PATTERN),p}static copyToResult(o,l,c){for(let x=0;x<c.length;x++)o[c[x]]=l[x]}static findRowsWithPattern(o,l,c,x,f,p){const y=new Array(4);let w=!1;const k=new Int32Array(p.length);for(;x<l;x+=Kt.ROW_STEP){let Q=Kt.findGuardPattern(o,f,x,c,!1,p,k);if(Q!=null){for(;x>0;){const X=Kt.findGuardPattern(o,f,--x,c,!1,p,k);if(X!=null)Q=X;else{x++;break}}y[0]=new M(Q[0],x),y[1]=new M(Q[1],x),w=!0;break}}let L=x+1;if(w){let Q=0,X=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;L<l;L++){const ce=Kt.findGuardPattern(o,X[0],L,c,!1,p,k);if(ce!=null&&Math.abs(X[0]-ce[0])<Kt.MAX_PATTERN_DRIFT&&Math.abs(X[1]-ce[1])<Kt.MAX_PATTERN_DRIFT)X=ce,Q=0;else{if(Q>Kt.SKIPPED_ROW_COUNT_MAX)break;Q++}}L-=Q+1,y[2]=new M(X[0],L),y[3]=new M(X[1],L)}return L-x<Kt.BARCODE_MIN_HEIGHT&&O.fill(y,null),y}static findGuardPattern(o,l,c,x,f,p,y){O.fillWithin(y,0,y.length,0);let w=l,k=0;for(;o.get(w,c)&&w>0&&k++<Kt.MAX_PIXEL_DRIFT;)w--;let L=w,Q=0,X=p.length;for(let ce=f;L<x;L++)if(o.get(L,c)!==ce)y[Q]++;else{if(Q===X-1){if(Kt.patternMatchVariance(y,p,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return new Int32Array([w,L]);w+=y[0]+y[1],F.arraycopy(y,2,y,0,Q-1),y[Q-1]=0,y[Q]=0,Q--}else Q++;y[Q]=1,ce=!ce}return Q===X-1&&Kt.patternMatchVariance(y,p,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE?new Int32Array([w,L-1]):null}static patternMatchVariance(o,l,c){let x=o.length,f=0,p=0;for(let k=0;k<x;k++)f+=o[k],p+=l[k];if(f<p)return 1/0;let y=f/p;c*=y;let w=0;for(let k=0;k<x;k++){let L=o[k],Q=l[k]*y,X=L>Q?L-Q:Q-L;if(X>c)return 1/0;w+=X}return w/f}}Kt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Kt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Kt.MAX_AVG_VARIANCE=.42,Kt.MAX_INDIVIDUAL_VARIANCE=.8,Kt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Kt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Kt.MAX_PIXEL_DRIFT=3,Kt.MAX_PATTERN_DRIFT=5,Kt.SKIPPED_ROW_COUNT_MAX=25,Kt.ROW_STEP=5,Kt.BARCODE_MIN_HEIGHT=10;class Zs{constructor(o,l){if(l.length===0)throw new b;this.field=o;let c=l.length;if(c>1&&l[0]===0){let x=1;for(;x<c&&l[x]===0;)x++;x===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-x),F.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let x=0;for(let f of this.coefficients)x=this.field.add(x,f);return x}let l=this.coefficients[0],c=this.coefficients.length;for(let x=1;x<c;x++)l=this.field.add(this.field.multiply(o,l),this.coefficients[x]);return l}add(o){if(!this.field.equals(o.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,c=o.coefficients;if(l.length>c.length){let p=l;l=c,c=p}let x=new Int32Array(c.length),f=c.length-l.length;F.arraycopy(c,0,x,0,f);for(let p=f;p<c.length;p++)x[p]=this.field.add(l[p-f],c[p]);return new Zs(this.field,x)}subtract(o){if(!this.field.equals(o.field))throw new b("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Zs?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Zs(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,x=o.coefficients,f=x.length,p=new Int32Array(c+f-1);for(let y=0;y<c;y++){let w=l[y];for(let k=0;k<f;k++)p[y+k]=this.field.add(p[y+k],this.field.multiply(w,x[k]))}return new Zs(this.field,p)}negative(){let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new Zs(this.field,l)}multiplyScalar(o){if(o===0)return new Zs(this.field,new Int32Array([0]));if(o===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let x=0;x<l;x++)c[x]=this.field.multiply(this.coefficients[x],o);return new Zs(this.field,c)}multiplyByMonomial(o,l){if(o<0)throw new b;if(l===0)return new Zs(this.field,new Int32Array([0]));let c=this.coefficients.length,x=new Int32Array(c+o);for(let f=0;f<c;f++)x[f]=this.field.multiply(this.coefficients[f],l);return new Zs(this.field,x)}toString(){let o=new ie;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(o.append(" - "),c=-c):o.length()>0&&o.append(" + "),(l===0||c!==1)&&o.append(c),l!==0&&(l===1?o.append("x"):(o.append("x^"),o.append(l))))}return o.toString()}}class jy{add(o,l){return(o+l)%this.modulus}subtract(o,l){return(this.modulus+o-l)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new b;return this.logTable[o]}inverse(o){if(o===0)throw new Et;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class ld extends jy{constructor(o,l){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let c=1;for(let x=0;x<o;x++)this.expTable[x]=c,c=c*l%o;for(let x=0;x<o-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new Zs(this,new Int32Array([0])),this.one=new Zs(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new b;if(l===0)return this.zero;let c=new Int32Array(o+1);return c[0]=l,new Zs(this,c)}}ld.PDF417_GF=new ld(Ot.NUMBER_OF_CODEWORDS,3);class Yx{constructor(){this.field=ld.PDF417_GF}decode(o,l,c){let x=new Zs(this.field,o),f=new Int32Array(l),p=!1;for(let Ae=l;Ae>0;Ae--){let ke=x.evaluateAt(this.field.exp(Ae));f[l-Ae]=ke,ke!==0&&(p=!0)}if(!p)return 0;let y=this.field.getOne();if(c!=null)for(const Ae of c){let ke=this.field.exp(o.length-1-Ae),Pe=new Zs(this.field,new Int32Array([this.field.subtract(0,ke),1]));y=y.multiply(Pe)}let w=new Zs(this.field,f),k=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),w,l),L=k[0],Q=k[1],X=this.findErrorLocations(L),ce=this.findErrorMagnitudes(Q,L,X);for(let Ae=0;Ae<X.length;Ae++){let ke=o.length-1-this.field.log(X[Ae]);if(ke<0)throw C.getChecksumInstance();o[ke]=this.field.subtract(o[ke],ce[Ae])}return X.length}runEuclideanAlgorithm(o,l,c){if(o.getDegree()<l.getDegree()){let X=o;o=l,l=X}let x=o,f=l,p=this.field.getZero(),y=this.field.getOne();for(;f.getDegree()>=Math.round(c/2);){let X=x,ce=p;if(x=f,p=y,x.isZero())throw C.getChecksumInstance();f=X;let Ae=this.field.getZero(),ke=x.getCoefficient(x.getDegree()),Pe=this.field.inverse(ke);for(;f.getDegree()>=x.getDegree()&&!f.isZero();){let Le=f.getDegree()-x.getDegree(),st=this.field.multiply(f.getCoefficient(f.getDegree()),Pe);Ae=Ae.add(this.field.buildMonomial(Le,st)),f=f.subtract(x.multiplyByMonomial(Le,st))}y=Ae.multiply(p).subtract(ce).negative()}let w=y.getCoefficient(0);if(w===0)throw C.getChecksumInstance();let k=this.field.inverse(w),L=y.multiply(k),Q=f.multiply(k);return[L,Q]}findErrorLocations(o){let l=o.getDegree(),c=new Int32Array(l),x=0;for(let f=1;f<this.field.getSize()&&x<l;f++)o.evaluateAt(f)===0&&(c[x]=this.field.inverse(f),x++);if(x!==l)throw C.getChecksumInstance();return c}findErrorMagnitudes(o,l,c){let x=l.getDegree(),f=new Int32Array(x);for(let k=1;k<=x;k++)f[x-k]=this.field.multiply(k,l.getCoefficient(k));let p=new Zs(this.field,f),y=c.length,w=new Int32Array(y);for(let k=0;k<y;k++){let L=this.field.inverse(c[k]),Q=this.field.subtract(0,o.evaluateAt(L)),X=this.field.inverse(p.evaluateAt(L));w[k]=this.field.multiply(Q,X)}return w}}class Mo{constructor(o,l,c,x,f){o instanceof Mo?this.constructor_2(o):this.constructor_1(o,l,c,x,f)}constructor_1(o,l,c,x,f){const p=l==null||c==null,y=x==null||f==null;if(p&&y)throw new q;p?(l=new M(0,x.getY()),c=new M(0,f.getY())):y&&(x=new M(o.getWidth()-1,l.getY()),f=new M(o.getWidth()-1,c.getY())),this.image=o,this.topLeft=l,this.bottomLeft=c,this.topRight=x,this.bottomRight=f,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(x.getX(),f.getX())),this.minY=Math.trunc(Math.min(l.getY(),x.getY())),this.maxY=Math.trunc(Math.max(c.getY(),f.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,l){return o==null?l:l==null?o:new Mo(o.image,o.topLeft,o.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(o,l,c){let x=this.topLeft,f=this.bottomLeft,p=this.topRight,y=this.bottomRight;if(o>0){let w=c?this.topLeft:this.topRight,k=Math.trunc(w.getY()-o);k<0&&(k=0);let L=new M(w.getX(),k);c?x=L:p=L}if(l>0){let w=c?this.bottomLeft:this.bottomRight,k=Math.trunc(w.getY()+l);k>=this.image.getHeight()&&(k=this.image.getHeight()-1);let L=new M(w.getX(),k);c?f=L:y=L}return new Mo(this.image,x,f,p,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Uy{constructor(o,l,c,x){this.columnCount=o,this.errorCorrectionLevel=x,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ta{constructor(){this.buffer=""}static form(o,l){let c=-1;function x(p,y,w,k,L,Q){if(p==="%%")return"%";if(l[++c]===void 0)return;p=k?parseInt(k.substr(1)):void 0;let X=L?parseInt(L.substr(1)):void 0,ce;switch(Q){case"s":ce=l[c];break;case"c":ce=l[c][0];break;case"f":ce=parseFloat(l[c]).toFixed(p);break;case"p":ce=parseFloat(l[c]).toPrecision(p);break;case"e":ce=parseFloat(l[c]).toExponential(p);break;case"x":ce=parseInt(l[c]).toString(X||16);break;case"d":ce=parseFloat(parseInt(l[c],X||10).toPrecision(p)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(X);let Ae=parseInt(w),ke=w&&w[0]+""=="0"?"0":" ";for(;ce.length<Ae;)ce=y!==void 0?ce+ke:ke+ce;return ce}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(f,x)}format(o,...l){this.buffer+=ta.form(o,l)}toString(){return this.buffer}}class sa{constructor(o){this.boundingBox=new Mo(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let l=this.getCodeword(o);if(l!=null)return l;for(let c=1;c<sa.MAX_NEARBY_DISTANCE;c++){let x=this.imageRowToCodewordIndex(o)-c;if(x>=0&&(l=this.codewords[x],l!=null)||(x=this.imageRowToCodewordIndex(o)+c,x<this.codewords.length&&(l=this.codewords[x],l!=null)))return l}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,l){this.codewords[this.imageRowToCodewordIndex(o)]=l}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new ta;let l=0;for(const c of this.codewords){if(c==null){o.format("%3d:    |   %n",l++);continue}o.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return o.toString()}}sa.MAX_NEARBY_DISTANCE=5;class na{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let l=this.values.get(o);l==null&&(l=0),l++,this.values.set(o,l)}getValue(){let o=-1,l=new Array;for(const[c,x]of this.values.entries()){const f={getKey:()=>c,getValue:()=>x};f.getValue()>o?(o=f.getValue(),l=[],l.push(f.getKey())):f.getValue()===o&&l.push(f.getKey())}return Ot.toIntArray(l)}getConfidence(o){return this.values.get(o)}}class Xx extends sa{constructor(o,l){super(o),this._isLeft=l}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,o);let c=this.getBoundingBox(),x=this._isLeft?c.getTopLeft():c.getTopRight(),f=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),y=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=-1,k=1,L=0;for(let Q=p;Q<y;Q++){if(l[Q]==null)continue;let X=l[Q],ce=X.getRowNumber()-w;if(ce===0)L++;else if(ce===1)k=Math.max(k,L),L=1,w=X.getRowNumber();else if(ce<0||X.getRowNumber()>=o.getRowCount()||ce>Q)l[Q]=null;else{let Ae;k>2?Ae=(k-2)*ce:Ae=ce;let ke=Ae>=Q;for(let Pe=1;Pe<=Ae&&!ke;Pe++)ke=l[Q-Pe]!=null;ke?l[Q]=null:(w=X.getRowNumber(),L=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let l=new Int32Array(o.getRowCount());for(let c of this.getCodewords())if(c!=null){let x=c.getRowNumber();if(x>=l.length)continue;l[x]++}return l}adjustIncompleteIndicatorColumnRowNumbers(o){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),x=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),y=this.getCodewords(),w=-1;for(let k=f;k<p;k++){if(y[k]==null)continue;let L=y[k];L.setRowNumberAsRowIndicatorColumn();let Q=L.getRowNumber()-w;Q===0||(Q===1?w=L.getRowNumber():L.getRowNumber()>=o.getRowCount()?y[k]=null:w=L.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),l=new na,c=new na,x=new na,f=new na;for(let y of o){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let w=y.getValue()%30,k=y.getRowNumber();switch(this._isLeft||(k+=2),k%3){case 0:c.setValue(w*3+1);break;case 1:f.setValue(w/3),x.setValue(w%3);break;case 2:l.setValue(w+1);break}}if(l.getValue().length===0||c.getValue().length===0||x.getValue().length===0||f.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+x.getValue()[0]<Ot.MIN_ROWS_IN_BARCODE||c.getValue()[0]+x.getValue()[0]>Ot.MAX_ROWS_IN_BARCODE)return null;let p=new Uy(l.getValue()[0],c.getValue()[0],x.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(o,p),p}removeIncorrectCodewords(o,l){for(let c=0;c<o.length;c++){let x=o[c];if(o[c]==null)continue;let f=x.getValue()%30,p=x.getRowNumber();if(p>l.getRowCount()){o[c]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:f*3+1!==l.getRowCountUpperPart()&&(o[c]=null);break;case 1:(Math.trunc(f/3)!==l.getErrorCorrectionLevel()||f%3!==l.getRowCountLowerPart())&&(o[c]=null);break;case 2:f+1!==l.getColumnCount()&&(o[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ra{constructor(o,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Ot.MAX_CODEWORDS_IN_BARCODE,l;do l=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let x=0;x<c.length;x++)c[x]!=null&&(c[x].hasValidRowNumber()||this.adjustRowNumbers(l,x,c))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++)if(o[c]!=null&&l[c]!=null&&o[c].getRowNumber()===l[c].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let f=this.detectionResultColumns[x].getCodewords()[c];f!=null&&(f.setRowNumber(o[c].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let x=l[c].getRowNumber(),f=0;for(let p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){let y=this.detectionResultColumns[p].getCodewords()[c];y!=null&&(f=ra.adjustRowNumberIfValid(x,f,y),y.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let x=l[c].getRowNumber(),f=0;for(let p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){let y=this.detectionResultColumns[p].getCodewords()[c];y!=null&&(f=ra.adjustRowNumberIfValid(x,f,y),y.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(o)?(c.setRowNumber(o),l=0):++l),l}adjustRowNumbers(o,l,c){if(!this.detectionResultColumns[o-1])return;let x=c[l],f=this.detectionResultColumns[o-1].getCodewords(),p=f;this.detectionResultColumns[o+1]!=null&&(p=this.detectionResultColumns[o+1].getCodewords());let y=new Array(14);y[2]=f[l],y[3]=p[l],l>0&&(y[0]=c[l-1],y[4]=f[l-1],y[5]=p[l-1]),l>1&&(y[8]=c[l-2],y[10]=f[l-2],y[11]=p[l-2]),l<c.length-1&&(y[1]=c[l+1],y[6]=f[l+1],y[7]=p[l+1]),l<c.length-2&&(y[9]=c[l+2],y[12]=f[l+2],y[13]=p[l+2]);for(let w of y)if(ra.adjustRowNumber(x,w))return}static adjustRowNumber(o,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===o.getBucket()?(o.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,l){this.detectionResultColumns[o]=l}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ta;for(let c=0;c<o.getCodewords().length;c++){l.format("CW %3d:",c);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){l.format("    |   ");continue}let f=this.detectionResultColumns[x].getCodewords()[c];if(f==null){l.format("    |   ");continue}l.format(" %3d|%3d",f.getRowNumber(),f.getValue())}l.format("%n")}return l.toString()}}class oa{constructor(o,l,c,x){this.rowNumber=oa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==oa.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}oa.BARCODE_ROW_UNKNOWN=-1;class wn{static initialize(){for(let o=0;o<Ot.SYMBOL_TABLE.length;o++){let l=Ot.SYMBOL_TABLE[o],c=l&1;for(let x=0;x<Ot.BARS_IN_MODULE;x++){let f=0;for(;(l&1)===c;)f+=1,l>>=1;c=l&1,wn.RATIOS_TABLE[o]||(wn.RATIOS_TABLE[o]=new Array(Ot.BARS_IN_MODULE)),wn.RATIOS_TABLE[o][Ot.BARS_IN_MODULE-x-1]=Math.fround(f/Ot.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let l=wn.getDecodedCodewordValue(wn.sampleBitCounts(o));return l!==-1?l:wn.getClosestDecodedValue(o)}static sampleBitCounts(o){let l=N.sum(o),c=new Int32Array(Ot.BARS_IN_MODULE),x=0,f=0;for(let p=0;p<Ot.MODULES_IN_CODEWORD;p++){let y=l/(2*Ot.MODULES_IN_CODEWORD)+p*l/Ot.MODULES_IN_CODEWORD;f+o[x]<=y&&(f+=o[x],x++),c[x]++}return c}static getDecodedCodewordValue(o){let l=wn.getBitValue(o);return Ot.getCodeword(l)===-1?-1:l}static getBitValue(o){let l=0;for(let c=0;c<o.length;c++)for(let x=0;x<o[c];x++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(o){let l=N.sum(o),c=new Array(Ot.BARS_IN_MODULE);if(l>1)for(let p=0;p<c.length;p++)c[p]=Math.fround(o[p]/l);let x=E.MAX_VALUE,f=-1;this.bSymbolTableReady||wn.initialize();for(let p=0;p<wn.RATIOS_TABLE.length;p++){let y=0,w=wn.RATIOS_TABLE[p];for(let k=0;k<Ot.BARS_IN_MODULE;k++){let L=Math.fround(w[k]-c[k]);if(y+=Math.fround(L*L),y>=x)break}y<x&&(x=y,f=Ot.SYMBOL_TABLE[p])}return f}}wn.bSymbolTableReady=!1,wn.RATIOS_TABLE=new Array(Ot.SYMBOL_TABLE.length).map(W=>new Array(Ot.BARS_IN_MODULE));class Jx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Zx{static parseLong(o,l=void 0){return parseInt(o,l)}}class ef extends h{}ef.kind="NullPointerException";class Hy{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,l,c){if(o==null)throw new ef;if(l<0||l>o.length||c<0||l+c>o.length||l+c<0)throw new S;if(c===0)return;for(let x=0;x<c;x++)this.write(o[l+x])}flush(){}close(){}}class zy extends h{}class Vy extends Hy{constructor(o=32){if(super(),this.count=0,o<0)throw new b("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let c=this.buf.length<<1;if(c-o<0&&(c=o),c<0){if(o<0)throw new zy;c=P.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,c)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,l,c){if(l<0||l>o.length||c<0||l+c-o.length>0)throw new S;this.ensureCapacity(this.count+c),F.arraycopy(o,l,this.buf,this.count,c),this.count+=c}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var ps;(function(W){W[W.ALPHA=0]="ALPHA",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.PUNCT=3]="PUNCT",W[W.ALPHA_SHIFT=4]="ALPHA_SHIFT",W[W.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ps||(ps={}));function tf(){if(typeof window<"u")return window.BigInt||null;if(typeof _i<"u")return _i.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let pl;function lo(W){if(typeof pl>"u"&&(pl=tf()),pl===null)throw new Error("BigInt is not supported!");return pl(W)}function qy(){let W=[];W[0]=lo(1);let o=lo(900);W[1]=o;for(let l=2;l<16;l++)W[l]=W[l-1]*o;return W}class $e{static decode(o,l){let c=new ie(""),x=I.ISO8859_1;c.enableDecoding(x);let f=1,p=o[f++],y=new Jx;for(;f<o[0];){switch(p){case $e.TEXT_COMPACTION_MODE_LATCH:f=$e.textCompaction(o,f,c);break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:f=$e.byteCompaction(p,o,x,f,c);break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[f++]);break;case $e.NUMERIC_COMPACTION_MODE_LATCH:f=$e.numericCompaction(o,f,c);break;case $e.ECI_CHARSET:I.getCharacterSetECIByValue(o[f++]);break;case $e.ECI_GENERAL_PURPOSE:f+=2;break;case $e.ECI_USER_DEFINED:f++;break;case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=$e.decodeMacroBlock(o,f,y);break;case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:throw new j;default:f--,f=$e.textCompaction(o,f,c);break}if(f<o.length)p=o[f++];else throw j.getFormatInstance()}if(c.length()===0)throw j.getFormatInstance();let w=new yt(null,c.toString(),null,l);return w.setOther(y),w}static decodeMacroBlock(o,l,c){if(l+$e.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw j.getFormatInstance();let x=new Int32Array($e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<$e.NUMBER_OF_SEQUENCE_CODEWORDS;y++,l++)x[y]=o[l];c.setSegmentIndex(P.parseInt($e.decodeBase900toBase10(x,$e.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new ie;l=$e.textCompaction(o,l,f),c.setFileId(f.toString());let p=-1;for(o[l]===$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=l+1);l<o[0];)switch(o[l]){case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,o[l]){case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ie;l=$e.textCompaction(o,l+1,y),c.setFileName(y.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new ie;l=$e.textCompaction(o,l+1,w),c.setSender(w.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let k=new ie;l=$e.textCompaction(o,l+1,k),c.setAddressee(k.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let L=new ie;l=$e.numericCompaction(o,l+1,L),c.setSegmentCount(P.parseInt(L.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Q=new ie;l=$e.numericCompaction(o,l+1,Q),c.setTimestamp(Zx.parseLong(Q.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let X=new ie;l=$e.numericCompaction(o,l+1,X),c.setChecksum(P.parseInt(X.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new ie;l=$e.numericCompaction(o,l+1,ce),c.setFileSize(Zx.parseLong(ce.toString()));break;default:throw j.getFormatInstance()}break;case $e.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(p!==-1){let y=l-p;c.isLastSegment()&&y--,c.setOptionalData(O.copyOfRange(o,p,p+y))}return l}static textCompaction(o,l,c){let x=new Int32Array((o[0]-l)*2),f=new Int32Array((o[0]-l)*2),p=0,y=!1;for(;l<o[0]&&!y;){let w=o[l++];if(w<$e.TEXT_COMPACTION_MODE_LATCH)x[p]=w/30,x[p+1]=w%30,p+=2;else switch(w){case $e.TEXT_COMPACTION_MODE_LATCH:x[p++]=$e.TEXT_COMPACTION_MODE_LATCH;break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:l--,y=!0;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[p]=$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=o[l++],f[p]=w,p++;break}}return $e.decodeTextCompaction(x,f,p,c),l}static decodeTextCompaction(o,l,c,x){let f=ps.ALPHA,p=ps.ALPHA,y=0;for(;y<c;){let w=o[y],k="";switch(f){case ps.ALPHA:if(w<26)k=String.fromCharCode(65+w);else switch(w){case 26:k=" ";break;case $e.LL:f=ps.LOWER;break;case $e.ML:f=ps.MIXED;break;case $e.PS:p=f,f=ps.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[y]);break;case $e.TEXT_COMPACTION_MODE_LATCH:f=ps.ALPHA;break}break;case ps.LOWER:if(w<26)k=String.fromCharCode(97+w);else switch(w){case 26:k=" ";break;case $e.AS:p=f,f=ps.ALPHA_SHIFT;break;case $e.ML:f=ps.MIXED;break;case $e.PS:p=f,f=ps.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[y]);break;case $e.TEXT_COMPACTION_MODE_LATCH:f=ps.ALPHA;break}break;case ps.MIXED:if(w<$e.PL)k=$e.MIXED_CHARS[w];else switch(w){case $e.PL:f=ps.PUNCT;break;case 26:k=" ";break;case $e.LL:f=ps.LOWER;break;case $e.AL:f=ps.ALPHA;break;case $e.PS:p=f,f=ps.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[y]);break;case $e.TEXT_COMPACTION_MODE_LATCH:f=ps.ALPHA;break}break;case ps.PUNCT:if(w<$e.PAL)k=$e.PUNCT_CHARS[w];else switch(w){case $e.PAL:f=ps.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[y]);break;case $e.TEXT_COMPACTION_MODE_LATCH:f=ps.ALPHA;break}break;case ps.ALPHA_SHIFT:if(f=p,w<26)k=String.fromCharCode(65+w);else switch(w){case 26:k=" ";break;case $e.TEXT_COMPACTION_MODE_LATCH:f=ps.ALPHA;break}break;case ps.PUNCT_SHIFT:if(f=p,w<$e.PAL)k=$e.PUNCT_CHARS[w];else switch(w){case $e.PAL:f=ps.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[y]);break;case $e.TEXT_COMPACTION_MODE_LATCH:f=ps.ALPHA;break}break}k!==""&&x.append(k),y++}}static byteCompaction(o,l,c,x,f){let p=new Vy,y=0,w=0,k=!1;switch(o){case $e.BYTE_COMPACTION_MODE_LATCH:let L=new Int32Array(6),Q=l[x++];for(;x<l[0]&&!k;)switch(L[y++]=Q,w=900*w+Q,Q=l[x++],Q){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:x--,k=!0;break;default:if(y%5===0&&y>0){for(let X=0;X<6;++X)p.write(Number(lo(w)>>lo(8*(5-X))));w=0,y=0}break}x===l[0]&&Q<$e.TEXT_COMPACTION_MODE_LATCH&&(L[y++]=Q);for(let X=0;X<y;X++)p.write(L[X]);break;case $e.BYTE_COMPACTION_MODE_LATCH_6:for(;x<l[0]&&!k;){let X=l[x++];if(X<$e.TEXT_COMPACTION_MODE_LATCH)y++,w=900*w+X;else switch(X){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:x--,k=!0;break}if(y%5===0&&y>0){for(let ce=0;ce<6;++ce)p.write(Number(lo(w)>>lo(8*(5-ce))));w=0,y=0}}break}return f.append(J.decode(p.toByteArray(),c)),x}static numericCompaction(o,l,c){let x=0,f=!1,p=new Int32Array($e.MAX_NUMERIC_CODEWORDS);for(;l<o[0]&&!f;){let y=o[l++];if(l===o[0]&&(f=!0),y<$e.TEXT_COMPACTION_MODE_LATCH)p[x]=y,x++;else switch(y){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:l--,f=!0;break}(x%$e.MAX_NUMERIC_CODEWORDS===0||y===$e.NUMERIC_COMPACTION_MODE_LATCH||f)&&x>0&&(c.append($e.decodeBase900toBase10(p,x)),x=0)}return l}static decodeBase900toBase10(o,l){let c=lo(0);for(let f=0;f<l;f++)c+=$e.EXP900[l-f-1]*lo(o[f]);let x=c.toString();if(x.charAt(0)!=="1")throw new j;return x.substring(1)}}$e.TEXT_COMPACTION_MODE_LATCH=900,$e.BYTE_COMPACTION_MODE_LATCH=901,$e.NUMERIC_COMPACTION_MODE_LATCH=902,$e.BYTE_COMPACTION_MODE_LATCH_6=924,$e.ECI_USER_DEFINED=925,$e.ECI_GENERAL_PURPOSE=926,$e.ECI_CHARSET=927,$e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$e.MACRO_PDF417_TERMINATOR=922,$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$e.MAX_NUMERIC_CODEWORDS=15,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$e.PL=25,$e.LL=27,$e.AS=27,$e.ML=28,$e.AL=28,$e.PS=29,$e.PAL=29,$e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$e.EXP900=tf()?qy():[],$e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xt{constructor(){}static decode(o,l,c,x,f,p,y){let w=new Mo(o,l,c,x,f),k=null,L=null,Q;for(let Ae=!0;;Ae=!1){if(l!=null&&(k=Xt.getRowIndicatorColumn(o,w,l,!0,p,y)),x!=null&&(L=Xt.getRowIndicatorColumn(o,w,x,!1,p,y)),Q=Xt.merge(k,L),Q==null)throw q.getNotFoundInstance();let ke=Q.getBoundingBox();if(Ae&&ke!=null&&(ke.getMinY()<w.getMinY()||ke.getMaxY()>w.getMaxY()))w=ke;else break}Q.setBoundingBox(w);let X=Q.getBarcodeColumnCount()+1;Q.setDetectionResultColumn(0,k),Q.setDetectionResultColumn(X,L);let ce=k!=null;for(let Ae=1;Ae<=X;Ae++){let ke=ce?Ae:X-Ae;if(Q.getDetectionResultColumn(ke)!==void 0)continue;let Pe;ke===0||ke===X?Pe=new Xx(w,ke===0):Pe=new sa(w),Q.setDetectionResultColumn(ke,Pe);let Le=-1,st=Le;for(let rt=w.getMinY();rt<=w.getMaxY();rt++){if(Le=Xt.getStartColumn(Q,ke,rt,ce),Le<0||Le>w.getMaxX()){if(st===-1)continue;Le=st}let et=Xt.detectCodeword(o,w.getMinX(),w.getMaxX(),ce,Le,rt,p,y);et!=null&&(Pe.setCodeword(rt,et),st=Le,p=Math.min(p,et.getWidth()),y=Math.max(y,et.getWidth()))}}return Xt.createDecoderResult(Q)}static merge(o,l){if(o==null&&l==null)return null;let c=Xt.getBarcodeMetadata(o,l);if(c==null)return null;let x=Mo.merge(Xt.adjustBoundingBox(o),Xt.adjustBoundingBox(l));return new ra(c,x)}static adjustBoundingBox(o){if(o==null)return null;let l=o.getRowHeights();if(l==null)return null;let c=Xt.getMax(l),x=0;for(let y of l)if(x+=c-y,y>0)break;let f=o.getCodewords();for(let y=0;x>0&&f[y]==null;y++)x--;let p=0;for(let y=l.length-1;y>=0&&(p+=c-l[y],!(l[y]>0));y--);for(let y=f.length-1;p>0&&f[y]==null;y--)p--;return o.getBoundingBox().addMissingRows(x,p,o.isLeft())}static getMax(o){let l=-1;for(let c of o)l=Math.max(l,c);return l}static getBarcodeMetadata(o,l){let c;if(o==null||(c=o.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let x;return l==null||(x=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==x.getColumnCount()&&c.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&c.getRowCount()!==x.getRowCount()?null:c}static getRowIndicatorColumn(o,l,c,x,f,p){let y=new Xx(l,x);for(let w=0;w<2;w++){let k=w===0?1:-1,L=Math.trunc(Math.trunc(c.getX()));for(let Q=Math.trunc(Math.trunc(c.getY()));Q<=l.getMaxY()&&Q>=l.getMinY();Q+=k){let X=Xt.detectCodeword(o,0,o.getWidth(),x,L,Q,f,p);X!=null&&(y.setCodeword(Q,X),x?L=X.getStartX():L=X.getEndX())}}return y}static adjustCodewordCount(o,l){let c=l[0][1],x=c.getValue(),f=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Xt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(x.length===0){if(f<1||f>Ot.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();c.setValue(f)}else x[0]!==f&&c.setValue(f)}static createDecoderResult(o){let l=Xt.createBarcodeMatrix(o);Xt.adjustCodewordCount(o,l);let c=new Array,x=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),f=[],p=new Array;for(let w=0;w<o.getBarcodeRowCount();w++)for(let k=0;k<o.getBarcodeColumnCount();k++){let L=l[w][k+1].getValue(),Q=w*o.getBarcodeColumnCount()+k;L.length===0?c.push(Q):L.length===1?x[Q]=L[0]:(p.push(Q),f.push(L))}let y=new Array(f.length);for(let w=0;w<y.length;w++)y[w]=f[w];return Xt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),x,Ot.toIntArray(c),Ot.toIntArray(p),y)}static createDecoderResultFromAmbiguousValues(o,l,c,x,f){let p=new Int32Array(x.length),y=100;for(;y-- >0;){for(let w=0;w<p.length;w++)l[x[w]]=f[w][p[w]];try{return Xt.decodeCodewords(l,o,c)}catch(w){if(!(w instanceof C))throw w}if(p.length===0)throw C.getChecksumInstance();for(let w=0;w<p.length;w++)if(p[w]<f[w].length-1){p[w]++;break}else if(p[w]=0,w===p.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(o){let l=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let x=0;x<l.length;x++)for(let f=0;f<l[x].length;f++)l[x][f]=new na;let c=0;for(let x of o.getDetectionResultColumns()){if(x!=null){for(let f of x.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=0){if(p>=l.length)continue;l[p][c].setValue(f.getValue())}}}c++}return l}static isValidBarcodeColumn(o,l){return l>=0&&l<=o.getBarcodeColumnCount()+1}static getStartColumn(o,l,c,x){let f=x?1:-1,p=null;if(Xt.isValidBarcodeColumn(o,l-f)&&(p=o.getDetectionResultColumn(l-f).getCodeword(c)),p!=null)return x?p.getEndX():p.getStartX();if(p=o.getDetectionResultColumn(l).getCodewordNearby(c),p!=null)return x?p.getStartX():p.getEndX();if(Xt.isValidBarcodeColumn(o,l-f)&&(p=o.getDetectionResultColumn(l-f).getCodewordNearby(c)),p!=null)return x?p.getEndX():p.getStartX();let y=0;for(;Xt.isValidBarcodeColumn(o,l-f);){l-=f;for(let w of o.getDetectionResultColumn(l).getCodewords())if(w!=null)return(x?w.getEndX():w.getStartX())+f*y*(w.getEndX()-w.getStartX());y++}return x?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,l,c,x,f,p,y,w){f=Xt.adjustCodewordStartColumn(o,l,c,x,f,p);let k=Xt.getModuleBitCount(o,l,c,x,f,p);if(k==null)return null;let L,Q=N.sum(k);if(x)L=f+Q;else{for(let Ae=0;Ae<k.length/2;Ae++){let ke=k[Ae];k[Ae]=k[k.length-1-Ae],k[k.length-1-Ae]=ke}L=f,f=L-Q}if(!Xt.checkCodewordSkew(Q,y,w))return null;let X=wn.getDecodedValue(k),ce=Ot.getCodeword(X);return ce===-1?null:new oa(f,L,Xt.getCodewordBucketNumber(X),ce)}static getModuleBitCount(o,l,c,x,f,p){let y=f,w=new Int32Array(8),k=0,L=x?1:-1,Q=x;for(;(x?y<c:y>=l)&&k<w.length;)o.get(y,p)===Q?(w[k]++,y+=L):(k++,Q=!Q);return k===w.length||y===(x?c:l)&&k===w.length-1?w:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,l,c,x,f,p){let y=f,w=x?-1:1;for(let k=0;k<2;k++){for(;(x?y>=l:y<c)&&x===o.get(y,p);){if(Math.abs(f-y)>Xt.CODEWORD_SKEW_SIZE)return f;y+=w}w=-w,x=!x}return y}static checkCodewordSkew(o,l,c){return l-Xt.CODEWORD_SKEW_SIZE<=o&&o<=c+Xt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,l,c){if(o.length===0)throw j.getFormatInstance();let x=1<<l+1,f=Xt.correctErrors(o,c,x);Xt.verifyCodewordCount(o,x);let p=$e.decode(o,""+l);return p.setErrorsCorrected(f),p.setErasures(c.length),p}static correctErrors(o,l,c){if(l!=null&&l.length>c/2+Xt.MAX_ERRORS||c<0||c>Xt.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return Xt.errorCorrection.decode(o,c,l)}static verifyCodewordCount(o,l){if(o.length<4)throw j.getFormatInstance();let c=o[0];if(c>o.length)throw j.getFormatInstance();if(c===0)if(l<o.length)o[0]=o.length-l;else throw j.getFormatInstance()}static getBitCountForCodeword(o){let l=new Int32Array(8),c=0,x=l.length-1;for(;!((o&1)!==c&&(c=o&1,x--,x<0));)l[x]++,o>>=1;return l}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Xt.getCodewordBucketNumber(Xt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let l=new ta;for(let c=0;c<o.length;c++){l.format("Row %2d: ",c);for(let x=0;x<o[c].length;x++){let f=o[c][x];f.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}l.format("%n")}return l.toString()}}Xt.CODEWORD_SKEW_SIZE=2,Xt.MAX_ERRORS=3,Xt.MAX_EC_CODEWORDS=512,Xt.errorCorrection=new Yx;class en{decode(o,l=null){let c=en.decode(o,l,!1);if(c==null||c.length===0||c[0]==null)throw q.getNotFoundInstance();return c[0]}decodeMultiple(o,l=null){try{return en.decode(o,l,!0)}catch(c){throw c instanceof j||c instanceof C?q.getNotFoundInstance():c}}static decode(o,l,c){const x=new Array,f=Kt.detectMultiple(o,l,c);for(const p of f.getPoints()){const y=Xt.decode(f.getBits(),p[4],p[5],p[6],p[7],en.getMinCodewordWidth(p),en.getMaxCodewordWidth(p)),w=new Ge(y.getText(),y.getRawBytes(),void 0,p,ze.PDF_417);w.putMetadata(ft.ERROR_CORRECTION_LEVEL,y.getECLevel());const k=y.getOther();k!=null&&w.putMetadata(ft.PDF417_EXTRA_METADATA,k),x.push(w)}return x.map(p=>p)}static getMaxWidth(o,l){return o==null||l==null?0:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMinWidth(o,l){return o==null||l==null?P.MAX_VALUE:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(en.getMaxWidth(o[0],o[4]),en.getMaxWidth(o[6],o[2])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN),Math.max(en.getMaxWidth(o[1],o[5]),en.getMaxWidth(o[7],o[3])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(en.getMinWidth(o[0],o[4]),en.getMinWidth(o[6],o[2])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN),Math.min(en.getMinWidth(o[1],o[5]),en.getMinWidth(o[7],o[3])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN)))}reset(){}}class ml extends h{}ml.kind="ReaderException";class sf{constructor(o,l){this.verbose=o===!0,l&&this.setHints(l)}decode(o,l){return l&&this.setHints(l),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const l=!r(o)&&o.get(z.TRY_HARDER)===!0,c=r(o)?null:o.get(z.POSSIBLE_FORMATS),x=new Array;if(!r(c)){const f=c.some(p=>p===ze.UPC_A||p===ze.UPC_E||p===ze.EAN_13||p===ze.EAN_8||p===ze.CODABAR||p===ze.CODE_39||p===ze.CODE_93||p===ze.CODE_128||p===ze.ITF||p===ze.RSS_14||p===ze.RSS_EXPANDED);f&&!l&&x.push(new Hn(o,this.verbose)),c.includes(ze.QR_CODE)&&x.push(new ao),c.includes(ze.DATA_MATRIX)&&x.push(new ar),c.includes(ze.AZTEC)&&x.push(new jt),c.includes(ze.PDF_417)&&x.push(new en),f&&l&&x.push(new Hn(o,this.verbose))}x.length===0&&(l||x.push(new Hn(o,this.verbose)),x.push(new ao),x.push(new ar),x.push(new jt),x.push(new en),l&&x.push(new Hn(o,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new ml("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(o,this.hints)}catch(c){if(c instanceof ml)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class Wy extends ot{constructor(o=null,l=500){const c=new sf;c.setHints(o),super(c,l)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Qy extends ot{constructor(o=500){super(new en,o)}}class Gy extends ot{constructor(o=500){super(new ao,o)}}var dd;(function(W){W[W.ERROR_CORRECTION=0]="ERROR_CORRECTION",W[W.CHARACTER_SET=1]="CHARACTER_SET",W[W.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",W[W.MIN_SIZE=3]="MIN_SIZE",W[W.MAX_SIZE=4]="MAX_SIZE",W[W.MARGIN=5]="MARGIN",W[W.PDF417_COMPACT=6]="PDF417_COMPACT",W[W.PDF417_COMPACTION=7]="PDF417_COMPACTION",W[W.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",W[W.AZTEC_LAYERS=9]="AZTEC_LAYERS",W[W.QR_VERSION=10]="QR_VERSION"})(dd||(dd={}));var js=dd;class cd{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new it(o,Int32Array.from([1])))}buildGenerator(o){const l=this.cachedGenerators;if(o>=l.length){let c=l[l.length-1];const x=this.field;for(let f=l.length;f<=o;f++){const p=c.multiply(new it(x,Int32Array.from([1,x.exp(f-1+x.getGeneratorBase())])));l.push(p),c=p}}return l[o]}encode(o,l){if(l===0)throw new b("No error correction bytes");const c=o.length-l;if(c<=0)throw new b("No data bytes provided");const x=this.buildGenerator(l),f=new Int32Array(c);F.arraycopy(o,0,f,0,c);let p=new it(this.field,f);p=p.multiplyByMonomial(l,1);const w=p.divide(x)[1].getCoefficients(),k=l-w.length;for(let L=0;L<k;L++)o[c+L]=0;F.arraycopy(w,0,o,c+k,w.length)}}class Ps{constructor(){}static applyMaskPenaltyRule1(o){return Ps.applyMaskPenaltyRule1Internal(o,!0)+Ps.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let l=0;const c=o.getArray(),x=o.getWidth(),f=o.getHeight();for(let p=0;p<f-1;p++){const y=c[p];for(let w=0;w<x-1;w++){const k=y[w];k===y[w+1]&&k===c[p+1][w]&&k===c[p+1][w+1]&&l++}}return Ps.N2*l}static applyMaskPenaltyRule3(o){let l=0;const c=o.getArray(),x=o.getWidth(),f=o.getHeight();for(let p=0;p<f;p++)for(let y=0;y<x;y++){const w=c[p];y+6<x&&w[y]===1&&w[y+1]===0&&w[y+2]===1&&w[y+3]===1&&w[y+4]===1&&w[y+5]===0&&w[y+6]===1&&(Ps.isWhiteHorizontal(w,y-4,y)||Ps.isWhiteHorizontal(w,y+7,y+11))&&l++,p+6<f&&c[p][y]===1&&c[p+1][y]===0&&c[p+2][y]===1&&c[p+3][y]===1&&c[p+4][y]===1&&c[p+5][y]===0&&c[p+6][y]===1&&(Ps.isWhiteVertical(c,y,p-4,p)||Ps.isWhiteVertical(c,y,p+7,p+11))&&l++}return l*Ps.N3}static isWhiteHorizontal(o,l,c){l=Math.max(l,0),c=Math.min(c,o.length);for(let x=l;x<c;x++)if(o[x]===1)return!1;return!0}static isWhiteVertical(o,l,c,x){c=Math.max(c,0),x=Math.min(x,o.length);for(let f=c;f<x;f++)if(o[f][l]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let l=0;const c=o.getArray(),x=o.getWidth(),f=o.getHeight();for(let w=0;w<f;w++){const k=c[w];for(let L=0;L<x;L++)k[L]===1&&l++}const p=o.getHeight()*o.getWidth();return Math.floor(Math.abs(l*2-p)*10/p)*Ps.N4}static getDataMaskBit(o,l,c){let x,f;switch(o){case 0:x=c+l&1;break;case 1:x=c&1;break;case 2:x=l%3;break;case 3:x=(c+l)%3;break;case 4:x=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:f=c*l,x=(f&1)+f%3;break;case 6:f=c*l,x=(f&1)+f%3&1;break;case 7:f=c*l,x=f%3+(c+l&1)&1;break;default:throw new b("Invalid mask pattern: "+o)}return x===0}static applyMaskPenaltyRule1Internal(o,l){let c=0;const x=l?o.getHeight():o.getWidth(),f=l?o.getWidth():o.getHeight(),p=o.getArray();for(let y=0;y<x;y++){let w=0,k=-1;for(let L=0;L<f;L++){const Q=l?p[y][L]:p[L][y];Q===k?w++:(w>=5&&(c+=Ps.N1+(w-5)),w=1,k=Q)}w>=5&&(c+=Ps.N1+(w-5))}return c}}Ps.N1=3,Ps.N2=3,Ps.N3=40,Ps.N4=10;class bl{constructor(o,l){this.width=o,this.height=l;const c=new Array(l);for(let x=0;x!==l;x++)c[x]=new Uint8Array(o);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(o,l){return this.bytes[l][o]}getArray(){return this.bytes}setNumber(o,l,c){this.bytes[l][o]=c}setBoolean(o,l,c){this.bytes[l][o]=c?1:0}clear(o){for(const l of this.bytes)O.fill(l,o)}equals(o){if(!(o instanceof bl))return!1;const l=o;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,x=this.height;c<x;++c){const f=this.bytes[c],p=l.bytes[c];for(let y=0,w=this.width;y<w;++y)if(f[y]!==p[y])return!1}return!0}toString(){const o=new ie;for(let l=0,c=this.height;l<c;++l){const x=this.bytes[l];for(let f=0,p=this.width;f<p;++f)switch(x[f]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Io{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new ie;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Io.NUM_MASK_PATTERNS}}Io.NUM_MASK_PATTERNS=8;class ys extends h{}ys.kind="WriterException";class Pt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,l,c,x,f){Pt.clearMatrix(f),Pt.embedBasicPatterns(c,f),Pt.embedTypeInfo(l,x,f),Pt.maybeEmbedVersionInfo(c,f),Pt.embedDataBits(o,x,f)}static embedBasicPatterns(o,l){Pt.embedPositionDetectionPatternsAndSeparators(l),Pt.embedDarkDotAtLeftBottomCorner(l),Pt.maybeEmbedPositionAdjustmentPatterns(o,l),Pt.embedTimingPatterns(l)}static embedTypeInfo(o,l,c){const x=new B;Pt.makeTypeInfoBits(o,l,x);for(let f=0,p=x.getSize();f<p;++f){const y=x.get(x.getSize()-1-f),w=Pt.TYPE_INFO_COORDINATES[f],k=w[0],L=w[1];if(c.setBoolean(k,L,y),f<8){const Q=c.getWidth()-f-1;c.setBoolean(Q,8,y)}else{const X=c.getHeight()-7+(f-8);c.setBoolean(8,X,y)}}}static maybeEmbedVersionInfo(o,l){if(o.getVersionNumber()<7)return;const c=new B;Pt.makeVersionInfoBits(o,c);let x=17;for(let f=0;f<6;++f)for(let p=0;p<3;++p){const y=c.get(x);x--,l.setBoolean(f,l.getHeight()-11+p,y),l.setBoolean(l.getHeight()-11+p,f,y)}}static embedDataBits(o,l,c){let x=0,f=-1,p=c.getWidth()-1,y=c.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);y>=0&&y<c.getHeight();){for(let w=0;w<2;++w){const k=p-w;if(!Pt.isEmpty(c.get(k,y)))continue;let L;x<o.getSize()?(L=o.get(x),++x):L=!1,l!==255&&Ps.getDataMaskBit(l,k,y)&&(L=!L),c.setBoolean(k,y,L)}y+=f}f=-f,y+=f,p-=2}if(x!==o.getSize())throw new ys("Not all bits consumed: "+x+"/"+o.getSize())}static findMSBSet(o){return 32-P.numberOfLeadingZeros(o)}static calculateBCHCode(o,l){if(l===0)throw new b("0 polynomial");const c=Pt.findMSBSet(l);for(o<<=c-1;Pt.findMSBSet(o)>=c;)o^=l<<Pt.findMSBSet(o)-c;return o}static makeTypeInfoBits(o,l,c){if(!Io.isValidMaskPattern(l))throw new ys("Invalid mask pattern");const x=o.getBits()<<3|l;c.appendBits(x,5);const f=Pt.calculateBCHCode(x,Pt.TYPE_INFO_POLY);c.appendBits(f,10);const p=new B;if(p.appendBits(Pt.TYPE_INFO_MASK_PATTERN,15),c.xor(p),c.getSize()!==15)throw new ys("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(o,l){l.appendBits(o.getVersionNumber(),6);const c=Pt.calculateBCHCode(o.getVersionNumber(),Pt.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new ys("should not happen but we got: "+l.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let l=8;l<o.getWidth()-8;++l){const c=(l+1)%2;Pt.isEmpty(o.get(l,6))&&o.setNumber(l,6,c),Pt.isEmpty(o.get(6,l))&&o.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new ys;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,l,c){for(let x=0;x<8;++x){if(!Pt.isEmpty(c.get(o+x,l)))throw new ys;c.setNumber(o+x,l,0)}}static embedVerticalSeparationPattern(o,l,c){for(let x=0;x<7;++x){if(!Pt.isEmpty(c.get(o,l+x)))throw new ys;c.setNumber(o,l+x,0)}}static embedPositionAdjustmentPattern(o,l,c){for(let x=0;x<5;++x){const f=Pt.POSITION_ADJUSTMENT_PATTERN[x];for(let p=0;p<5;++p)c.setNumber(o+p,l+x,f[p])}}static embedPositionDetectionPattern(o,l,c){for(let x=0;x<7;++x){const f=Pt.POSITION_DETECTION_PATTERN[x];for(let p=0;p<7;++p)c.setNumber(o+p,l+x,f[p])}}static embedPositionDetectionPatternsAndSeparators(o){const l=Pt.POSITION_DETECTION_PATTERN[0].length;Pt.embedPositionDetectionPattern(0,0,o),Pt.embedPositionDetectionPattern(o.getWidth()-l,0,o),Pt.embedPositionDetectionPattern(0,o.getWidth()-l,o);const c=8;Pt.embedHorizontalSeparationPattern(0,c-1,o),Pt.embedHorizontalSeparationPattern(o.getWidth()-c,c-1,o),Pt.embedHorizontalSeparationPattern(0,o.getWidth()-c,o);const x=7;Pt.embedVerticalSeparationPattern(x,0,o),Pt.embedVerticalSeparationPattern(o.getHeight()-x-1,0,o),Pt.embedVerticalSeparationPattern(x,o.getHeight()-x,o)}static maybeEmbedPositionAdjustmentPatterns(o,l){if(o.getVersionNumber()<2)return;const c=o.getVersionNumber()-1,x=Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let f=0,p=x.length;f!==p;f++){const y=x[f];if(y>=0)for(let w=0;w!==p;w++){const k=x[w];k>=0&&Pt.isEmpty(l.get(k,y))&&Pt.embedPositionAdjustmentPattern(k-2,y-2,l)}}}}Pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pt.VERSION_INFO_POLY=7973,Pt.TYPE_INFO_POLY=1335,Pt.TYPE_INFO_MASK_PATTERN=21522;class Ky{constructor(o,l){this.dataBytes=o,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ks{constructor(){}static calculateMaskPenalty(o){return Ps.applyMaskPenaltyRule1(o)+Ps.applyMaskPenaltyRule2(o)+Ps.applyMaskPenaltyRule3(o)+Ps.applyMaskPenaltyRule4(o)}static encode(o,l,c=null){let x=ks.DEFAULT_BYTE_MODE_ENCODING;const f=c!==null&&c.get(js.CHARACTER_SET)!==void 0;f&&(x=c.get(js.CHARACTER_SET).toString());const p=this.chooseMode(o,x),y=new B;if(p===Tt.BYTE&&(f||ks.DEFAULT_BYTE_MODE_ENCODING!==x)){const rt=I.getCharacterSetECIByName(x);rt!==void 0&&this.appendECI(rt,y)}this.appendModeInfo(p,y);const w=new B;this.appendBytes(o,p,w,x);let k;if(c!==null&&c.get(js.QR_VERSION)!==void 0){const rt=Number.parseInt(c.get(js.QR_VERSION).toString(),10);k=kt.getVersionForNumber(rt);const et=this.calculateBitsNeeded(p,y,w,k);if(!this.willFit(et,k,l))throw new ys("Data too big for requested version")}else k=this.recommendVersion(l,p,y,w);const L=new B;L.appendBitArray(y);const Q=p===Tt.BYTE?w.getSizeInBytes():o.length;this.appendLengthInfo(Q,k,p,L),L.appendBitArray(w);const X=k.getECBlocksForLevel(l),ce=k.getTotalCodewords()-X.getTotalECCodewords();this.terminateBits(ce,L);const Ae=this.interleaveWithECBytes(L,k.getTotalCodewords(),ce,X.getNumBlocks()),ke=new Io;ke.setECLevel(l),ke.setMode(p),ke.setVersion(k);const Pe=k.getDimensionForVersion(),Le=new bl(Pe,Pe),st=this.chooseMaskPattern(Ae,l,k,Le);return ke.setMaskPattern(st),Pt.buildMatrix(Ae,l,k,st,Le),ke.setMatrix(Le),ke}static recommendVersion(o,l,c,x){const f=this.calculateBitsNeeded(l,c,x,kt.getVersionForNumber(1)),p=this.chooseVersion(f,o),y=this.calculateBitsNeeded(l,c,x,p);return this.chooseVersion(y,o)}static calculateBitsNeeded(o,l,c,x){return l.getSize()+o.getCharacterCountBits(x)+c.getSize()}static getAlphanumericCode(o){return o<ks.ALPHANUMERIC_TABLE.length?ks.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,l=null){if(I.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(o))return Tt.KANJI;let c=!1,x=!1;for(let f=0,p=o.length;f<p;++f){const y=o.charAt(f);if(ks.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)x=!0;else return Tt.BYTE}return x?Tt.ALPHANUMERIC:c?Tt.NUMERIC:Tt.BYTE}static isOnlyDoubleByteKanji(o){let l;try{l=J.encode(o,I.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let x=0;x<c;x+=2){const f=l[x]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(o,l,c,x){let f=Number.MAX_SAFE_INTEGER,p=-1;for(let y=0;y<Io.NUM_MASK_PATTERNS;y++){Pt.buildMatrix(o,l,c,y,x);let w=this.calculateMaskPenalty(x);w<f&&(f=w,p=y)}return p}static chooseVersion(o,l){for(let c=1;c<=40;c++){const x=kt.getVersionForNumber(c);if(ks.willFit(o,x,l))return x}throw new ys("Data too big")}static willFit(o,l,c){const x=l.getTotalCodewords(),p=l.getECBlocksForLevel(c).getTotalECCodewords(),y=x-p,w=(o+7)/8;return y>=w}static terminateBits(o,l){const c=o*8;if(l.getSize()>c)throw new ys("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let p=0;p<4&&l.getSize()<c;++p)l.appendBit(!1);const x=l.getSize()&7;if(x>0)for(let p=x;p<8;p++)l.appendBit(!1);const f=o-l.getSizeInBytes();for(let p=0;p<f;++p)l.appendBits((p&1)===0?236:17,8);if(l.getSize()!==c)throw new ys("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,l,c,x,f,p){if(x>=c)throw new ys("Block ID too large");const y=o%c,w=c-y,k=Math.floor(o/c),L=k+1,Q=Math.floor(l/c),X=Q+1,ce=k-Q,Ae=L-X;if(ce!==Ae)throw new ys("EC bytes mismatch");if(c!==w+y)throw new ys("RS blocks mismatch");if(o!==(Q+ce)*w+(X+Ae)*y)throw new ys("Total bytes mismatch");x<w?(f[0]=Q,p[0]=ce):(f[0]=X,p[0]=Ae)}static interleaveWithECBytes(o,l,c,x){if(o.getSizeInBytes()!==c)throw new ys("Number of bits and data bytes does not match");let f=0,p=0,y=0;const w=new Array;for(let L=0;L<x;++L){const Q=new Int32Array(1),X=new Int32Array(1);ks.getNumDataBytesAndNumECBytesForBlockID(l,c,x,L,Q,X);const ce=Q[0],Ae=new Uint8Array(ce);o.toBytes(8*f,Ae,0,ce);const ke=ks.generateECBytes(Ae,X[0]);w.push(new Ky(Ae,ke)),p=Math.max(p,ce),y=Math.max(y,ke.length),f+=Q[0]}if(c!==f)throw new ys("Data bytes does not match offset");const k=new B;for(let L=0;L<p;++L)for(const Q of w){const X=Q.getDataBytes();L<X.length&&k.appendBits(X[L],8)}for(let L=0;L<y;++L)for(const Q of w){const X=Q.getErrorCorrectionBytes();L<X.length&&k.appendBits(X[L],8)}if(l!==k.getSizeInBytes())throw new ys("Interleaving error: "+l+" and "+k.getSizeInBytes()+" differ.");return k}static generateECBytes(o,l){const c=o.length,x=new Int32Array(c+l);for(let p=0;p<c;p++)x[p]=o[p]&255;new cd(ne.QR_CODE_FIELD_256).encode(x,l);const f=new Uint8Array(l);for(let p=0;p<l;p++)f[p]=x[c+p];return f}static appendModeInfo(o,l){l.appendBits(o.getBits(),4)}static appendLengthInfo(o,l,c,x){const f=c.getCharacterCountBits(l);if(o>=1<<f)throw new ys(o+" is bigger than "+((1<<f)-1));x.appendBits(o,f)}static appendBytes(o,l,c,x){switch(l){case Tt.NUMERIC:ks.appendNumericBytes(o,c);break;case Tt.ALPHANUMERIC:ks.appendAlphanumericBytes(o,c);break;case Tt.BYTE:ks.append8BitBytes(o,c,x);break;case Tt.KANJI:ks.appendKanjiBytes(o,c);break;default:throw new ys("Invalid mode: "+l)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const l=ks.getDigit(o);return l>=0&&l<=9}static appendNumericBytes(o,l){const c=o.length;let x=0;for(;x<c;){const f=ks.getDigit(o.charAt(x));if(x+2<c){const p=ks.getDigit(o.charAt(x+1)),y=ks.getDigit(o.charAt(x+2));l.appendBits(f*100+p*10+y,10),x+=3}else if(x+1<c){const p=ks.getDigit(o.charAt(x+1));l.appendBits(f*10+p,7),x+=2}else l.appendBits(f,4),x++}}static appendAlphanumericBytes(o,l){const c=o.length;let x=0;for(;x<c;){const f=ks.getAlphanumericCode(o.charCodeAt(x));if(f===-1)throw new ys;if(x+1<c){const p=ks.getAlphanumericCode(o.charCodeAt(x+1));if(p===-1)throw new ys;l.appendBits(f*45+p,11),x+=2}else l.appendBits(f,6),x++}}static append8BitBytes(o,l,c){let x;try{x=J.encode(o,c)}catch(f){throw new ys(f)}for(let f=0,p=x.length;f!==p;f++){const y=x[f];l.appendBits(y,8)}}static appendKanjiBytes(o,l){let c;try{c=J.encode(o,I.SJIS)}catch(f){throw new ys(f)}const x=c.length;for(let f=0;f<x;f+=2){const p=c[f]&255,y=c[f+1]&255,w=p<<8&4294967295|y;let k=-1;if(w>=33088&&w<=40956?k=w-33088:w>=57408&&w<=60351&&(k=w-49472),k===-1)throw new ys("Invalid byte sequence");const L=(k>>8)*192+(k&255);l.appendBits(L,13)}}static appendECI(o,l){l.appendBits(Tt.ECI.getBits(),4),l.appendBits(o.getValue(),8)}}ks.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ks.DEFAULT_BYTE_MODE_ENCODING=I.UTF8.getName();class Po{write(o,l,c,x=null){if(o.length===0)throw new b("Found empty contents");if(l<0||c<0)throw new b("Requested dimensions are too small: "+l+"x"+c);let f=Es.L,p=Po.QUIET_ZONE_SIZE;x!==null&&(x.get(js.ERROR_CORRECTION)!==void 0&&(f=Es.fromString(x.get(js.ERROR_CORRECTION).toString())),x.get(js.MARGIN)!==void 0&&(p=Number.parseInt(x.get(js.MARGIN).toString(),10)));const y=ks.encode(o,f,x);return this.renderResult(y,l,c,p)}writeToDom(o,l,c,x,f=null){typeof o=="string"&&(o=document.querySelector(o));const p=this.write(l,c,x,f);o&&o.appendChild(p)}renderResult(o,l,c,x){const f=o.getMatrix();if(f===null)throw new Te;const p=f.getWidth(),y=f.getHeight(),w=p+x*2,k=y+x*2,L=Math.max(l,w),Q=Math.max(c,k),X=Math.min(Math.floor(L/w),Math.floor(Q/k)),ce=Math.floor((L-p*X)/2),Ae=Math.floor((Q-y*X)/2),ke=this.createSVGElement(L,Q);for(let Pe=0,Le=Ae;Pe<y;Pe++,Le+=X)for(let st=0,rt=ce;st<p;st++,rt+=X)if(f.get(st,Pe)===1){const et=this.createSvgRectElement(rt,Le,X,X);ke.appendChild(et)}return ke}createSVGElement(o,l){const c=document.createElementNS(Po.SVG_NS,"svg");return c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(o,l,c,x){const f=document.createElementNS(Po.SVG_NS,"rect");return f.setAttributeNS(null,"x",o.toString()),f.setAttributeNS(null,"y",l.toString()),f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",x.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Po.QUIET_ZONE_SIZE=4,Po.SVG_NS="http://www.w3.org/2000/svg";class pi{encode(o,l,c,x,f){if(o.length===0)throw new b("Found empty contents");if(l!==ze.QR_CODE)throw new b("Can only encode QR_CODE, but got "+l);if(c<0||x<0)throw new b(`Requested dimensions are too small: ${c}x${x}`);let p=Es.L,y=pi.QUIET_ZONE_SIZE;f!==null&&(f.get(js.ERROR_CORRECTION)!==void 0&&(p=Es.fromString(f.get(js.ERROR_CORRECTION).toString())),f.get(js.MARGIN)!==void 0&&(y=Number.parseInt(f.get(js.MARGIN).toString(),10)));const w=ks.encode(o,p,f);return pi.renderResult(w,c,x,y)}static renderResult(o,l,c,x){const f=o.getMatrix();if(f===null)throw new Te;const p=f.getWidth(),y=f.getHeight(),w=p+x*2,k=y+x*2,L=Math.max(l,w),Q=Math.max(c,k),X=Math.min(Math.floor(L/w),Math.floor(Q/k)),ce=Math.floor((L-p*X)/2),Ae=Math.floor((Q-y*X)/2),ke=new fe(L,Q);for(let Pe=0,Le=Ae;Pe<y;Pe++,Le+=X)for(let st=0,rt=ce;st<p;st++,rt+=X)f.get(st,Pe)===1&&ke.setRegion(rt,Le,X,X);return ke}}pi.QUIET_ZONE_SIZE=4;class Yy{encode(o,l,c,x,f){let p;switch(l){case ze.QR_CODE:p=new pi;break;default:throw new b("No encoder available for format "+l)}return p.encode(o,l,c,x,f)}}class br extends ve{constructor(o,l,c,x,f,p,y,w){if(super(p,y),this.yuvData=o,this.dataWidth=l,this.dataHeight=c,this.left=x,this.top=f,x+p>l||f+y>c)throw new b("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(p,y)}getRow(o,l){if(o<0||o>=this.getHeight())throw new b("Requested row is outside the image: "+o);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const x=(o+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,x,l,0,c),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=o*l,x=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return F.arraycopy(this.yuvData,f,x,0,c),x;for(let p=0;p<l;p++){const y=p*o;F.arraycopy(this.yuvData,f,x,y,o),f+=this.dataWidth}return x}isCropSupported(){return!0}crop(o,l,c,x){return new br(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+l,c,x,!1)}renderThumbnail(){const o=this.getWidth()/br.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/br.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(o*l),x=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const y=p*o;for(let w=0;w<o;w++){const k=x[f+w*br.THUMBNAIL_SCALE_FACTOR]&255;c[y+w]=4278190080|k*65793}f+=this.dataWidth*br.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/br.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/br.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,l){const c=this.yuvData;for(let x=0,f=this.top*this.dataWidth+this.left;x<l;x++,f+=this.dataWidth){const p=f+o/2;for(let y=f,w=f+o-1;y<p;y++,w--){const k=c[y];c[y]=c[w],c[w]=k}}}invert(){return new Ie(this)}}br.THUMBNAIL_SCALE_FACTOR=2;class ud extends ve{constructor(o,l,c,x,f,p,y){if(super(l,c),this.dataWidth=x,this.dataHeight=f,this.left=p,this.top=y,o.BYTES_PER_ELEMENT===4){const w=l*c,k=new Uint8ClampedArray(w);for(let L=0;L<w;L++){const Q=o[L],X=Q>>16&255,ce=Q>>7&510,Ae=Q&255;k[L]=(X+ce+Ae)/4&255}this.luminances=k}else this.luminances=o;if(x===void 0&&(this.dataWidth=l),f===void 0&&(this.dataHeight=c),p===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(o,l){if(o<0||o>=this.getHeight())throw new b("Requested row is outside the image: "+o);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const x=(o+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,x,l,0,c),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=o*l,x=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return F.arraycopy(this.luminances,f,x,0,c),x;for(let p=0;p<l;p++){const y=p*o;F.arraycopy(this.luminances,f,x,y,o),f+=this.dataWidth}return x}isCropSupported(){return!0}crop(o,l,c,x){return new ud(this.luminances,c,x,this.dataWidth,this.dataHeight,this.left+o,this.top+l)}invert(){return new Ie(this)}}class nf extends I{static forName(o){return this.getCharacterSetECIByName(o)}}class xd{}xd.ISO_8859_1=I.ISO8859_1;class rf{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class of{static singletonList(o){return[o]}static min(o,l){return o.sort(l)[0]}}class Xy{constructor(o){this.previous=o}getPrevious(){return this.previous}}class mi extends Xy{constructor(o,l,c){super(o),this.value=l,this.bitCount=c}appendTo(o,l){o.appendBits(this.value,this.bitCount)}add(o,l){return new mi(this,o,l)}addBinaryShift(o,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new mi(this,o,l)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+P.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class fd extends mi{constructor(o,l,c){super(o,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(o,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):c===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(o,l){return new fd(this,o,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Jy(W,o,l){return new fd(W,o,l)}function ia(W,o,l){return new mi(W,o,l)}const Zy=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],co=0,yl=1,qn=2,af=3,yr=4,ev=new mi(null,0,0),hd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function tv(W){for(let o of W)O.fill(o,-1);return W[co][yr]=0,W[yl][yr]=0,W[yl][co]=28,W[af][yr]=0,W[qn][yr]=0,W[qn][co]=15,W}const lf=tv(O.createInt32Array(6,6));class vr{constructor(o,l,c,x){this.token=o,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,l){let c=this.bitCount,x=this.token;if(o!==this.mode){let p=hd[this.mode][o];x=ia(x,p&65535,p>>16),c+=p>>16}let f=o===qn?4:5;return x=ia(x,l,f),new vr(x,o,0,c+f)}shiftAndAppend(o,l){let c=this.token,x=this.mode===qn?4:5;return c=ia(c,lf[this.mode][o],x),c=ia(c,l,5),new vr(c,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(o){let l=this.token,c=this.mode,x=this.bitCount;if(this.mode===yr||this.mode===qn){let y=hd[c][co];l=ia(l,y&65535,y>>16),x+=y>>16,c=co}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new vr(l,c,this.binaryShiftByteCount+1,x+f);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(o+1)),p}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Jy(l,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new vr(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let l=this.bitCount+(hd[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?l+=vr.calculateBinaryShiftCost(o)-vr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(l+=10),l<=o.bitCount}toBitArray(o){let l=[];for(let x=this.endBinaryShift(o.length).token;x!==null;x=x.getPrevious())l.unshift(x);let c=new B;for(const x of l)x.appendTo(c,o);return c}toString(){return K.format("%s bits=%d bytes=%d",Zy[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}vr.INITIAL_STATE=new vr(ev,co,0,0);function sv(W){const o=K.getCharCode(" "),l=K.getCharCode("."),c=K.getCharCode(",");W[co][o]=1;const x=K.getCharCode("Z"),f=K.getCharCode("A");for(let X=f;X<=x;X++)W[co][X]=X-f+2;W[yl][o]=1;const p=K.getCharCode("z"),y=K.getCharCode("a");for(let X=y;X<=p;X++)W[yl][X]=X-y+2;W[qn][o]=1;const w=K.getCharCode("9"),k=K.getCharCode("0");for(let X=k;X<=w;X++)W[qn][X]=X-k+2;W[qn][c]=12,W[qn][l]=13;const L=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let X=0;X<L.length;X++)W[af][K.getCharCode(L[X])]=X;const Q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let X=0;X<Q.length;X++)K.getCharCode(Q[X])>0&&(W[yr][K.getCharCode(Q[X])]=X);return W}const gd=sv(O.createInt32Array(5,256));class aa{constructor(o){this.text=o}encode(){const o=K.getCharCode(" "),l=K.getCharCode(`
`);let c=of.singletonList(vr.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let p,y=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case K.getCharCode("\r"):p=y===l?2:0;break;case K.getCharCode("."):p=y===o?3:0;break;case K.getCharCode(","):p=y===o?4:0;break;case K.getCharCode(":"):p=y===o?5:0;break;default:p=0}p>0?(c=aa.updateStateListForPair(c,f,p),f++):c=this.updateStateListForChar(c,f)}return of.min(c,(f,p)=>f.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,l){const c=[];for(let x of o)this.updateStateForChar(x,l,c);return aa.simplifyStates(c)}updateStateForChar(o,l,c){let x=this.text[l]&255,f=gd[o.getMode()][x]>0,p=null;for(let y=0;y<=yr;y++){let w=gd[y][x];if(w>0){if(p==null&&(p=o.endBinaryShift(l)),!f||y===o.getMode()||y===qn){const k=p.latchAndAppend(y,w);c.push(k)}if(!f&&lf[o.getMode()][y]>=0){const k=p.shiftAndAppend(y,w);c.push(k)}}}if(o.getBinaryShiftByteCount()>0||gd[o.getMode()][x]===0){let y=o.addBinaryShiftChar(l);c.push(y)}}static updateStateListForPair(o,l,c){const x=[];for(let f of o)this.updateStateForPair(f,l,c,x);return this.simplifyStates(x)}static updateStateForPair(o,l,c,x){let f=o.endBinaryShift(l);if(x.push(f.latchAndAppend(yr,c)),o.getMode()!==yr&&x.push(f.shiftAndAppend(yr,c)),c===3||c===4){let p=f.latchAndAppend(qn,16-c).latchAndAppend(qn,1);x.push(p)}if(o.getBinaryShiftByteCount()>0){let p=o.addBinaryShiftChar(l).addBinaryShiftChar(l+1);x.push(p)}}static simplifyStates(o){let l=[];for(const c of o){let x=!0;for(const f of l){if(f.isBetterThanOrEqualTo(c)){x=!1;break}c.isBetterThanOrEqualTo(f)&&(l=l.filter(p=>p!==f))}x&&l.push(c)}return l}}class as{constructor(){}static encodeBytes(o){return as.encode(o,as.DEFAULT_EC_PERCENT,as.DEFAULT_AZTEC_LAYERS)}static encode(o,l,c){let x=new aa(o).encode(),f=P.truncDivision(x.getSize()*l,100)+11,p=x.getSize()+f,y,w,k,L,Q;if(c!==as.DEFAULT_AZTEC_LAYERS){if(y=c<0,w=Math.abs(c),w>(y?as.MAX_NB_BITS_COMPACT:as.MAX_NB_BITS))throw new b(K.format("Illegal value %s for layers",c));k=as.totalBitsInLayer(w,y),L=as.WORD_SIZE[w];let et=k-k%L;if(Q=as.stuffBits(x,L),Q.getSize()+f>et)throw new b("Data to large for user specified layer");if(y&&Q.getSize()>L*64)throw new b("Data to large for user specified layer")}else{L=0,Q=null;for(let et=0;;et++){if(et>as.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(y=et<=3,w=y?et+1:et,k=as.totalBitsInLayer(w,y),p>k)continue;(Q==null||L!==as.WORD_SIZE[w])&&(L=as.WORD_SIZE[w],Q=as.stuffBits(x,L));let ts=k-k%L;if(!(y&&Q.getSize()>L*64)&&Q.getSize()+f<=ts)break}}let X=as.generateCheckWords(Q,k,L),ce=Q.getSize()/L,Ae=as.generateModeMessage(y,w,ce),ke=(y?11:14)+w*4,Pe=new Int32Array(ke),Le;if(y){Le=ke;for(let et=0;et<Pe.length;et++)Pe[et]=et}else{Le=ke+1+2*P.truncDivision(P.truncDivision(ke,2)-1,15);let et=P.truncDivision(ke,2),ts=P.truncDivision(Le,2);for(let qt=0;qt<et;qt++){let En=qt+P.truncDivision(qt,15);Pe[et-qt-1]=ts-En-1,Pe[et+qt]=ts+En+1}}let st=new fe(Le);for(let et=0,ts=0;et<w;et++){let qt=(w-et)*4+(y?9:12);for(let En=0;En<qt;En++){let lr=En*2;for(let Cn=0;Cn<2;Cn++)X.get(ts+lr+Cn)&&st.set(Pe[et*2+Cn],Pe[et*2+En]),X.get(ts+qt*2+lr+Cn)&&st.set(Pe[et*2+En],Pe[ke-1-et*2-Cn]),X.get(ts+qt*4+lr+Cn)&&st.set(Pe[ke-1-et*2-Cn],Pe[ke-1-et*2-En]),X.get(ts+qt*6+lr+Cn)&&st.set(Pe[ke-1-et*2-En],Pe[et*2+Cn])}ts+=qt*8}if(as.drawModeMessage(st,y,Le,Ae),y)as.drawBullsEye(st,P.truncDivision(Le,2),5);else{as.drawBullsEye(st,P.truncDivision(Le,2),7);for(let et=0,ts=0;et<P.truncDivision(ke,2)-1;et+=15,ts+=16)for(let qt=P.truncDivision(Le,2)&1;qt<Le;qt+=2)st.set(P.truncDivision(Le,2)-ts,qt),st.set(P.truncDivision(Le,2)+ts,qt),st.set(qt,P.truncDivision(Le,2)-ts),st.set(qt,P.truncDivision(Le,2)+ts)}let rt=new rf;return rt.setCompact(y),rt.setSize(Le),rt.setLayers(w),rt.setCodeWords(ce),rt.setMatrix(st),rt}static drawBullsEye(o,l,c){for(let x=0;x<c;x+=2)for(let f=l-x;f<=l+x;f++)o.set(f,l-x),o.set(f,l+x),o.set(l-x,f),o.set(l+x,f);o.set(l-c,l-c),o.set(l-c+1,l-c),o.set(l-c,l-c+1),o.set(l+c,l-c),o.set(l+c,l-c+1),o.set(l+c,l+c-1)}static generateModeMessage(o,l,c){let x=new B;return o?(x.appendBits(l-1,2),x.appendBits(c-1,6),x=as.generateCheckWords(x,28,4)):(x.appendBits(l-1,5),x.appendBits(c-1,11),x=as.generateCheckWords(x,40,4)),x}static drawModeMessage(o,l,c,x){let f=P.truncDivision(c,2);if(l)for(let p=0;p<7;p++){let y=f-3+p;x.get(p)&&o.set(y,f-5),x.get(p+7)&&o.set(f+5,y),x.get(20-p)&&o.set(y,f+5),x.get(27-p)&&o.set(f-5,y)}else for(let p=0;p<10;p++){let y=f-5+p+P.truncDivision(p,5);x.get(p)&&o.set(y,f-7),x.get(p+10)&&o.set(f+7,y),x.get(29-p)&&o.set(y,f+7),x.get(39-p)&&o.set(f-7,y)}}static generateCheckWords(o,l,c){let x=o.getSize()/c,f=new cd(as.getGF(c)),p=P.truncDivision(l,c),y=as.bitsToWords(o,c,p);f.encode(y,p-x);let w=l%c,k=new B;k.appendBits(0,w);for(const L of Array.from(y))k.appendBits(L,c);return k}static bitsToWords(o,l,c){let x=new Int32Array(c),f,p;for(f=0,p=o.getSize()/l;f<p;f++){let y=0;for(let w=0;w<l;w++)y|=o.get(f*l+w)?1<<l-w-1:0;x[f]=y}return x}static getGF(o){switch(o){case 4:return ne.AZTEC_PARAM;case 6:return ne.AZTEC_DATA_6;case 8:return ne.AZTEC_DATA_8;case 10:return ne.AZTEC_DATA_10;case 12:return ne.AZTEC_DATA_12;default:throw new b("Unsupported word size "+o)}}static stuffBits(o,l){let c=new B,x=o.getSize(),f=(1<<l)-2;for(let p=0;p<x;p+=l){let y=0;for(let w=0;w<l;w++)(p+w>=x||o.get(p+w))&&(y|=1<<l-1-w);(y&f)===f?(c.appendBits(y&f,l),p--):(y&f)===0?(c.appendBits(y|1,l),p--):c.appendBits(y,l)}return c}static totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}as.DEFAULT_EC_PERCENT=33,as.DEFAULT_AZTEC_LAYERS=0,as.MAX_NB_BITS=32,as.MAX_NB_BITS_COMPACT=4,as.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class vl{encode(o,l,c,x){return this.encodeWithHints(o,l,c,x,null)}encodeWithHints(o,l,c,x,f){let p=xd.ISO_8859_1,y=as.DEFAULT_EC_PERCENT,w=as.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(js.CHARACTER_SET)&&(p=nf.forName(f.get(js.CHARACTER_SET).toString())),f.has(js.ERROR_CORRECTION)&&(y=P.parseInt(f.get(js.ERROR_CORRECTION).toString())),f.has(js.AZTEC_LAYERS)&&(w=P.parseInt(f.get(js.AZTEC_LAYERS).toString()))),vl.encodeLayers(o,l,c,x,p,y,w)}static encodeLayers(o,l,c,x,f,p,y){if(l!==ze.AZTEC)throw new b("Can only encode AZTEC, but got "+l);let w=as.encode(K.getBytes(o,f),p,y);return vl.renderResult(w,c,x)}static renderResult(o,l,c){let x=o.getMatrix();if(x==null)throw new Te;let f=x.getWidth(),p=x.getHeight(),y=Math.max(l,f),w=Math.max(c,p),k=Math.min(y/f,w/p),L=(y-f*k)/2,Q=(w-p*k)/2,X=new fe(y,w);for(let ce=0,Ae=Q;ce<p;ce++,Ae+=k)for(let ke=0,Pe=L;ke<f;ke++,Pe+=k)x.get(ke,ce)&&X.setRegion(Pe,Ae,k,k);return X}}s.AbstractExpandedDecoder=Ws,s.ArgumentException=m,s.ArithmeticException=Et,s.AztecCode=rf,s.AztecCodeReader=jt,s.AztecCodeWriter=vl,s.AztecDecoder=ee,s.AztecDetector=Qt,s.AztecDetectorResult=Fe,s.AztecEncoder=as,s.AztecHighLevelEncoder=aa,s.AztecPoint=ht,s.BarcodeFormat=ze,s.Binarizer=_,s.BinaryBitmap=v,s.BitArray=B,s.BitMatrix=fe,s.BitSource=io,s.BrowserAztecCodeReader=Ht,s.BrowserBarcodeReader=Nr,s.BrowserCodeReader=ot,s.BrowserDatamatrixCodeReader=Ry,s.BrowserMultiFormatReader=Wy,s.BrowserPDF417Reader=Qy,s.BrowserQRCodeReader=Gy,s.BrowserQRCodeSvgWriter=Po,s.CharacterSetECI=I,s.ChecksumException=C,s.Code128Reader=De,s.Code39Reader=Y,s.DataMatrixDecodedBitStreamParser=ir,s.DataMatrixReader=ar,s.DecodeHintType=z,s.DecoderResult=yt,s.DefaultGridSampler=bt,s.DetectorResult=ae,s.EAN13Reader=te,s.EncodeHintType=js,s.Exception=h,s.FormatException=j,s.GenericGF=ne,s.GenericGFPoly=it,s.GlobalHistogramBinarizer=le,s.GridSampler=Je,s.GridSamplerInstance=Ct,s.HTMLCanvasElementLuminanceSource=Ue,s.HybridBinarizer=he,s.ITFReader=G,s.IllegalArgumentException=b,s.IllegalStateException=Te,s.InvertedLuminanceSource=Ie,s.LuminanceSource=ve,s.MathUtils=N,s.MultiFormatOneDReader=Hn,s.MultiFormatReader=sf,s.MultiFormatWriter=Yy,s.NotFoundException=q,s.OneDReader=Ft,s.PDF417DecodedBitStreamParser=$e,s.PDF417DecoderErrorCorrection=Yx,s.PDF417Reader=en,s.PDF417ResultMetadata=Jx,s.PerspectiveTransform=nt,s.PlanarYUVLuminanceSource=br,s.QRCodeByteMatrix=bl,s.QRCodeDataMask=zn,s.QRCodeDecodedBitStreamParser=Ms,s.QRCodeDecoderErrorCorrectionLevel=Es,s.QRCodeDecoderFormatInformation=an,s.QRCodeEncoder=ks,s.QRCodeEncoderQRCode=Io,s.QRCodeMaskUtil=Ps,s.QRCodeMatrixUtil=Pt,s.QRCodeMode=Tt,s.QRCodeReader=ao,s.QRCodeVersion=kt,s.QRCodeWriter=pi,s.RGBLuminanceSource=ud,s.RSS14Reader=ns,s.RSSExpandedReader=Xe,s.ReaderException=ml,s.ReedSolomonDecoder=He,s.ReedSolomonEncoder=cd,s.ReedSolomonException=ge,s.Result=Ge,s.ResultMetadataType=ft,s.ResultPoint=M,s.StringUtils=K,s.UnsupportedOperationException=$,s.VideoInputDevice=be,s.WhiteRectangleDetector=Qe,s.WriterException=ys,s.ZXingArrays=O,s.ZXingCharset=nf,s.ZXingInteger=P,s.ZXingStandardCharsets=xd,s.ZXingStringBuilder=ie,s.ZXingStringEncoding=J,s.ZXingSystem=F,s.createAbstractExpandedDecoder=is,Object.defineProperty(s,"__esModule",{value:!0})}))})(Ea,Ea.exports)),Ea.exports}var Bs=a_();const l_=Ex(Bs),d_=iv({__proto__:null,default:l_},[Bs]);var Wh=(function(){function e(t,s,r){if(this.formatMap=new Map([[gt.QR_CODE,Bs.BarcodeFormat.QR_CODE],[gt.AZTEC,Bs.BarcodeFormat.AZTEC],[gt.CODABAR,Bs.BarcodeFormat.CODABAR],[gt.CODE_39,Bs.BarcodeFormat.CODE_39],[gt.CODE_93,Bs.BarcodeFormat.CODE_93],[gt.CODE_128,Bs.BarcodeFormat.CODE_128],[gt.DATA_MATRIX,Bs.BarcodeFormat.DATA_MATRIX],[gt.MAXICODE,Bs.BarcodeFormat.MAXICODE],[gt.ITF,Bs.BarcodeFormat.ITF],[gt.EAN_13,Bs.BarcodeFormat.EAN_13],[gt.EAN_8,Bs.BarcodeFormat.EAN_8],[gt.PDF_417,Bs.BarcodeFormat.PDF_417],[gt.RSS_14,Bs.BarcodeFormat.RSS_14],[gt.RSS_EXPANDED,Bs.BarcodeFormat.RSS_EXPANDED],[gt.UPC_A,Bs.BarcodeFormat.UPC_A],[gt.UPC_E,Bs.BarcodeFormat.UPC_E],[gt.UPC_EAN_EXTENSION,Bs.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!d_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(Bs.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Bs.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var s=this;return new Promise(function(r,i){try{r(s.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var s=new Bs.MultiFormatReader(this.verbose,this.hints),r=new Bs.HTMLCanvasElementLuminanceSource(t),i=new Bs.BinaryBitmap(new Bs.HybridBinarizer(r)),a=s.decode(i);return{text:a.text,format:Bb.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(s,r,i){t.set(s,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var s=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?s.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),c_=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},u_=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Qh=(function(){function e(t,s,r){if(this.formatMap=new Map([[gt.QR_CODE,"qr_code"],[gt.AZTEC,"aztec"],[gt.CODABAR,"codabar"],[gt.CODE_39,"code_39"],[gt.CODE_93,"code_93"],[gt.CODE_128,"code_128"],[gt.DATA_MATRIX,"data_matrix"],[gt.ITF,"itf"],[gt.EAN_13,"ean_13"],[gt.EAN_8,"ean_8"],[gt.PDF_417,"pdf417"],[gt.UPC_A,"upc_a"],[gt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return c_(this,void 0,void 0,function(){var s,r;return u_(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(s=i.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(s),[2,{text:r.rawValue,format:Bb.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var s=null,r=0,i=0,a=t;i<a.length;i++){var d=a[i],u=d.boundingBox.width*d.boundingBox.height;u>r&&(r=u,s=d)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(t){for(var s=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?s.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(s,r,i){t.set(s,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),Gh=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},Kh=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},x_=(function(){function e(t,s,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,s&&Qh.isSupported()?(this.primaryDecoder=new Qh(t,r,i),this.secondaryDecoder=new Wh(t,r,i)):this.primaryDecoder=new Wh(t,r,i)}return e.prototype.decodeAsync=function(t){return Gh(this,void 0,void 0,function(){var s;return Kh(this,function(r){switch(r.label){case 0:s=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Gh(this,void 0,void 0,function(){var s,r;return Kh(this,function(i){switch(i.label){case 0:s=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var s=performance.now()-t;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,s=0,r=this.executionResults;s<r.length;s++){var i=r[s];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Sx=(function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}})(),k0=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},B0=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Fb=(function(){function e(t,s){this.name=t,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var s={};s[this.name]=t;var r={advanced:[s]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var s=t[this.name];return s}return null},e})(),f_=(function(e){Sx(t,e);function t(s,r){return e.call(this,s,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(s){var r={};r[this.name]=s;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),r=s[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(Fb),h_=(function(e){Sx(t,e);function t(s){return e.call(this,"zoom",s)||this}return t})(f_),g_=(function(e){Sx(t,e);function t(s){return e.call(this,"torch",s)||this}return t})(Fb),p_=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new h_(this.track)},e.prototype.torchFeature=function(){return new g_(this.track)},e})(),m_=(function(){function e(t,s,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=s,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var s=document.createElement("video");return s.style.width="".concat(t,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,s,r,i){return k0(this,void 0,void 0,function(){var a,d;return B0(this,function(u){switch(u.label){case 0:return a=new e(t,s,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var s=this,r=function(){setTimeout(t,200),s.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return k0(this,void 0,void 0,function(){return B0(this,function(s){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(s,r){var i=t.mediaStream.getVideoTracks(),a=i.length,d=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),s())})})},e.prototype.getCapabilities=function(){return new p_(this.getFirstTrackOrFail())},e})(),b_=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,s,r){return k0(this,void 0,void 0,function(){return B0(this,function(i){return[2,m_.create(t,this.mediaStream,s,r)]})})},e.create=function(t){return k0(this,void 0,void 0,function(){var s,r;return B0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return r=i.sent(),[2,new e(r)]}})})},e})(),Yh=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},Xh=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},y_=(function(){function e(){}return e.failIfNotSupported=function(){return Yh(this,void 0,void 0,function(){return Xh(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Yh(this,void 0,void 0,function(){return Xh(this,function(s){return[2,b_.create(t)]})})},e})(),v_=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},w_=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},E_=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Di.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Di.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return v_(this,void 0,void 0,function(){var t,s,r,i,a,d,u;return w_(this,function(g){switch(g.label){case 0:return t=function(h){for(var m=h.getVideoTracks(),b=0,v=m;b<v.length;b++){var C=v[b];C.enabled=!1,C.stop(),h.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],a=0,d=r;a<d.length;a++)u=d[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(s),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,s){var r=function(a){for(var d=[],u=0,g=a;u<g.length;u++){var h=g[u];h.kind==="video"&&d.push({id:h.id,label:h.label})}t(d)},i=MediaStreamTrack;i.getSources(r)})},e})(),Rs;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rs||(Rs={}));var C_=(function(){function e(){this.state=Rs.NOT_STARTED,this.onGoingTransactionNewState=Rs.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rs.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rs.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rs.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rs.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rs.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Rs.UNKNOWN:throw"Transition from unknown is not allowed";case Rs.NOT_STARTED:this.failIfNewStateIs(t,[Rs.PAUSED]);break;case Rs.SCANNING:break;case Rs.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,s){for(var r=0,i=s;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),A_=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rs.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rs.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rs.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rs.PAUSED},e})(),k_=(function(){function e(){}return e.create=function(){return new A_(new C_)},e})(),B_=(function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}})(),On=(function(e){B_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(cr),__=(function(){function e(t,s){this.logger=s,this.fps=On.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=On.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Sb.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Dr(this.qrbox)},e.create=function(t,s){return new e(t,s)},e})(),Qa=(function(){function e(t,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof s=="boolean"?this.verbose=s===!0:s&&(r=s,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Db(this.verbose),this.qrcode=new x_(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=k_.create()}return e.prototype.start=function(t,s,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var u=__.create(s,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:On.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var b=this,v=this.stateManagerProxy.startTransition(Rs.SCANNING);return new Promise(function(C,_){var F=h?u.videoConstraints:b.createVideoConstraints(t);if(!F){v.cancel(),_("videoConstraints should be defined");return}var S={};(!h||u.aspectRatio)&&(S.aspectRatio=u.aspectRatio);var D={onRenderSurfaceReady:function(O,P){b.setupUi(O,P,u),b.isScanning=!0,b.foreverScan(u,r,d)}};y_.failIfNotSupported().then(function(O){O.create(F).then(function(P){return P.render(a.element,S,D).then(function(B){b.renderedCamera=B,v.execute(),C(null)}).catch(function(B){v.cancel(),_(B)})}).catch(function(P){v.cancel(),_(Di.errorGettingUserMedia(P))})}).catch(function(O){v.cancel(),_(Di.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rs.PAUSED),this.showPausedState(),(Dr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,s=function(){t.stateManagerProxy.directTransition(Rs.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Rs.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(On.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),s.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,s){return this.scanFileV2(t,s).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,s){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Dr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var u=d.width,g=d.height,h=document.getElementById(r.elementId),m=h.clientWidth?h.clientWidth:On.DEFAULT_WIDTH,b=Math.max(h.clientHeight?h.clientHeight:g,On.FILE_SCAN_MIN_HEIGHT),v=r.computeCanvasDrawConfig(u,g,m,b);if(s){var C=r.createCanvasElement(m,b,"qr-canvas-visible");C.style.display="inline-block",h.appendChild(C);var _=C.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=m,_.canvas.height=b,_.drawImage(d,0,0,u,g,v.x,v.y,v.width,v.height)}var F=On.FILE_SCAN_HIDDEN_CANVAS_PADDING,S=Math.max(d.width,v.width),D=Math.max(d.height,v.height),O=S+2*F,P=D+2*F,B=r.createCanvasElement(O,P);h.appendChild(B);var U=B.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=O,U.canvas.height=P,U.drawImage(d,0,0,u,g,F,F,S,D);try{r.qrcode.decodeRobustlyAsync(B).then(function(z){i(zh.createFromQrcodeResult(z))}).catch(a)}catch(z){a("QR code parse error, error = ".concat(z))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return E_.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Sb.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var s=[gt.QR_CODE,gt.AZTEC,gt.CODABAR,gt.CODE_39,gt.CODE_93,gt.CODE_128,gt.DATA_MATRIX,gt.MAXICODE,gt.ITF,gt.EAN_13,gt.EAN_8,gt.PDF_417,gt.RSS_14,gt.RSS_EXPANDED,gt.UPC_A,gt.UPC_E,gt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return s;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var d=a[i];r_(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Dr(t))return!0;if(!Dr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Dr(t.experimentalFeatures))return!0;var s=t.experimentalFeatures;return Dr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,s,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,s,a),u=function(h){if(h<On.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(On.MIN_QR_BOX_SIZE,"px.")},g=function(h){return h>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};u(d.width),u(d.height),d.width=g(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,s,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,s)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,s,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,s,r);var i=Dr(r.qrbox)?{width:t,height:s}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,s,i);a.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=s,u={x:0,y:0,width:t,height:s},g=d?this.getShadedRegionBounds(t,s,a):u,h=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},b=h.getContext("2d",m);b.canvas.width=g.width,b.canvas.height=g.height,this.element.append(h),d&&this.possiblyInsertShadingElement(this.element,t,s,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=b,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var s=document.createElement("div");s.innerText=Di.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",t.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(t,s){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,zh.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Di.codeParseError(i);return s(a,_b.createFrom(a)),!1})},e.prototype.foreverScan=function(t,s,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*d,h=this.qrRegion.height*u,m=this.qrRegion.x*d,b=this.qrRegion.y*u;this.context.drawImage(a,m,b,g,h,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,s,r)},i.getTimeoutFps(t.fps))};this.scanContext(s,r).then(function(C){!C&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(s,r).finally(function(){v()})):v()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),v()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var s="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",d=function(_){if(_ in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==s&&g!==r)throw"Only '".concat(s,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===s){var h=t.facingMode;if(typeof h=="string"){if(d(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(d(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof h;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(a in b)return{deviceId:{exact:b["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var v=typeof b;throw"Invalid type of 'deviceId' = ".concat(v)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,s,r,i){if(t<=r&&s<=i){var a=(r-t)/2,d=(i-s)/2;return{x:a,y:d,width:t,height:s}}else{var u=t,g=s;return t>r&&(s=r/t*s,t=r),s>i&&(t=i/s*t,s=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(s,".")),this.computeCanvasDrawConfig(t,s,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=t?On.BORDER_SHADER_MATCH_COLOR:On.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,s,r){var i=t,a=s,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=Dr(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,s,r){if(r.width>t||r.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(s-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,s,r,i){if(!(s-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(s-i.width)/2,u=(r-i.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(On.SHADED_REGION_ELEMENT_ID),s-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,h=40;this.insertShaderBorders(a,h,g,-g,null,0,!0),this.insertShaderBorders(a,h,g,-g,null,0,!1),this.insertShaderBorders(a,h,g,null,-g,0,!0),this.insertShaderBorders(a,h,g,null,-g,0,!1),this.insertShaderBorders(a,g,h+g,-g,null,-g,!0),this.insertShaderBorders(a,g,h+g,null,-g,-g,!0),this.insertShaderBorders(a,g,h+g,-g,null,-g,!1),this.insertShaderBorders(a,g,h+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,s,r,i,a,d,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=On.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(s,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(d,"px"):g.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),Fx="data:image/svg+xml;base64,",D_=Fx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",S_=Fx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Jh=Fx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",F_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Zh=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),T_=(function(){function e(){this.data=Zh.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Zh.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),M_=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Vh.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=Vh.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),I_=(function(){function e(t,s){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=s,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Jh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return s.onHoverIn()},this.infoIcon.onmouseout=function(r){return s.onHoverOut()},this.infoIcon.onclick=function(r){return s.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=F_,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Jh,this.infoIcon.style.opacity="0.6")},e})(),P_=(function(){function e(){var t=this;this.infoDiv=new M_,this.infoIcon=new I_(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),R_=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},O_=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},eg=(function(){function e(){}return e.hasPermissions=function(){return R_(this,void 0,void 0,function(){var t,s,r,i;return O_(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),s=0,r=t;s<r.length;s++)if(i=r[s],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),xo=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,s=this.supportedScanTypes;t<s.length;t++){var r=s[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===So.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===So.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return cr.DEFAULT_SUPPORTED_SCAN_TYPE;var s=cr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var a=i[r];if(!cr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),$n=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Kr=(function(){function e(){}return e.createElement=function(t,s){var r=document.createElement(t);return r.id=s,r.classList.add($n.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),Tb=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(d){d(a)})}return new(s||(s=Promise))(function(a,d){function u(m){try{h(r.next(m))}catch(b){d(b)}}function g(m){try{h(r.throw(m))}catch(b){d(b)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},Mb=function(e,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,h[0]&&(s=0)),s;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){s.label=h[1];break}if(h[0]===6&&s.label<a[1]){s.label=a[1],a=h;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(h);break}a[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},tg=(function(){function e(t,s,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=s,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Tb(this,void 0,void 0,function(){var t,s;return Mb(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return s=r.sent(),this.propagateFailure(t,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,s){t===s?(this.buttonController.setText(s?fs.torchOffButton():fs.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},e.prototype.propagateFailure=function(t,s){var r=t?fs.torchOnFailedMessage():fs.torchOffFailedMessage();s&&(r+="; Error = "+s),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),N_=(function(){function e(t,s){this.onTorchActionFailureCallback=s,this.torchButton=Kr.createElement("button",$n.TORCH_BUTTON_ID),this.torchController=new tg(t,this,s)}return e.prototype.render=function(t,s){var r=this;this.torchButton.innerText=fs.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return Tb(r,void 0,void 0,function(){return Mb(this,function(d){switch(d.label){case 0:return[4,i.torchController.flipState()];case 1:return d.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove($n.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add($n.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove($n.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add($n.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new tg(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=fs.torchOnButton(),this.torchController.reset()},e.create=function(t,s,r,i){var a=new e(s,i);return a.render(t,r),a},e})(),$_=(function(){function e(t,s,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Kr.createElement("button",$n.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Kr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var g=u.target;if(!(g.files&&g.files.length===0)){var h=g.files,m=h[0],b=m.name;a.setImageNameToButton(b),r(m)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=u.dataTransfer;if(g){var h=g.files;if(!h||h.length===0)return;for(var m=!1,b=0;b<h.length;++b){var v=h.item(b);if(v){var C=/image.*/;if(v.type.match(C)){m=!0;var _=v.name;a.setImageNameToButton(_),r(v),d.innerText=fs.dragAndDropMessage();break}}}m||(d.innerText=fs.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=fs.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var s=20;if(t.length>s){var r=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(r,"....").concat(a)}var d=fs.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=d},e.prototype.setInitialValueToButton=function(){var t=fs.fileSelectionChooseImage()+" - "+fs.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,s,r){var i=new e(t,s,r);return i},e})(),L_=(function(){function e(t){this.selectElement=Kr.createElement("select",$n.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var s=document.createElement("span");s.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)s.style.display="none";else{var i=fs.selectCamera();s.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,d=0,u=this.cameras;d<u.length;d++){var g=u[d],h=g.id,m=g.label==null?h:g.label;(!m||m==="")&&(m=[fs.anonymousCameraPrefix(),a++].join(" "));var b=document.createElement("option");b.value=h,b.innerText=m,this.options.push(b),this.selectElement.appendChild(b)}s.appendChild(this.selectElement),t.appendChild(s)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var s=0,r=this.options;s<r.length;s++){var i=r[s];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,s){var r=new e(s);return r.render(t),r},e})(),j_=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Kr.createElement("input",$n.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=fs.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=fs.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,s,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,s){var r=new e;return r.render(t,s),r},e})(),Nn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Nn||(Nn={}));function U_(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function H_(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var z_=(function(){function e(t,s,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(s),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new xo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Db(this.verbose),this.persistedDataManager=new T_,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,s){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,d){if(t)t(a,d);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(fs.lastMatch(a),Nn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,d){s&&s(a,d)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Qa(this.getScanRegionId(),H_(this.config,this.verbose))},e.prototype.pause=function(t){(Dr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,s=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),s(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),s(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=cr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!cr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=cr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=cr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:cr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:cr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:cr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var s=document.createElement("div"),r=this.getScanRegionId();s.id=r,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",t.appendChild(s),xo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",t.appendChild(s);var r=new P_;r.renderInto(s);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",s.appendChild(i)},e.prototype.createSection=function(t){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",t.appendChild(s)},e.prototype.createCameraListUi=function(t,s,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(fs.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(t,s)};Qa.getCameras().then(function(d){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),d&&d.length>0?(t.removeChild(s),i.renderCameraSelection(d)):(i.setHeaderMessage(fs.noCameraFound(),Nn.STATUS_WARNING),a())}).catch(function(d){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(d,Nn.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,s){var r=this,i=Kr.createElement("button",this.getCameraPermissionButtonId());i.innerText=fs.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,s,i)}),s.appendChild(i)},e.prototype.createPermissionsUi=function(t,s){var r=this;if(xo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){eg.hasPermissions().then(function(i){i?r.createCameraListUi(t,s):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,s))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,s)});return}this.createPermissionButton(t,s)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");t.appendChild(s);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=xo.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(s)},e.prototype.renderFileScanUi=function(t){var s=xo.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";xo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(fs.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(d){r.resetHeaderMessage(),r.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){r.setHeaderMessage(d,Nn.STATUS_WARNING),r.qrCodeErrorCallback(d,_b.createFrom(d))}))};this.fileSelectionUi=$_.create(t,s,i)},e.prototype.renderCameraSelection=function(t){var s=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=j_.create(i,!1),d=function(F){var S=F.zoomFeature();if(S.isSupported()){a.setOnCameraZoomValueChangeCallback(function(O){S.apply(O)});var D=1;s.config.defaultZoomValueIfSupported&&(D=s.config.defaultZoomValueIfSupported),D=o_(D,S.min(),S.max()),a.setValues(S.min(),S.max(),D,S.step()),a.show()}},u=L_.create(i,t),g=document.createElement("span"),h=Kr.createElement("button",$n.CAMERA_START_BUTTON_ID);h.innerText=fs.scanButtonStartScanningText(),g.appendChild(h);var m=Kr.createElement("button",$n.CAMERA_STOP_BUTTON_ID);m.innerText=fs.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,g.appendChild(m);var b,v=function(F){if(!F.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(F.torchFeature()):b=N_.create(g,F.torchFeature(),{display:"none",marginLeft:"5px"},function(S){r.setHeaderMessage(S,Nn.STATUS_WARNING)}),b.show()};i.appendChild(g);var C=function(F){F||(h.style.display="none"),h.innerText=fs.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,F&&(h.style.display="inline-block")};if(h.addEventListener("click",function(F){h.innerText=fs.scanButtonScanningStarting(),u.disable(),h.disabled=!0,h.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var S=u.getValue();r.persistedDataManager.setLastUsedCameraId(S),r.html5Qrcode.start(S,U_(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(D){m.disabled=!1,m.style.display="inline-block",C(!1);var O=r.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&v(O),s.config.showZoomSliderIfSupported===!0&&d(O)}).catch(function(D){r.showHideScanTypeSwapLink(!0),u.enable(),C(!0),r.setHeaderMessage(D,Nn.STATUS_WARNING)})}),u.hasSingleItem()&&h.click(),m.addEventListener("click",function(F){if(!r.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,r.html5Qrcode.stop().then(function(S){s.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),h.disabled=!1,m.style.display="none",h.style.display="inline-block",b&&(b.reset(),b.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(S){m.disabled=!1,r.setHeaderMessage(S,Nn.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var _=r.persistedDataManager.getLastUsedCameraId();u.hasValue(_)?(u.setValue(_),h.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,s=fs.textIfCameraScanSelected(),r=fs.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var d=Kr.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=xo.isCameraScanType(this.currentScanType)?s:r,d.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,xo.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),d.innerText=r,t.currentScanType=So.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),d.innerText=s,t.currentScanType=So.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(d),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){eg.hasPermissions().then(function(r){if(r){var i=document.getElementById(s.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(r){s.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,s){s||(s=Nn.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",s){case Nn.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Nn.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Nn.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){s.innerHTML="<br>",s.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=D_,this.cameraScanImage.alt=fs.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){s.innerHTML="<br>",s.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=S_,this.fileScanImage.alt=fs.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return $n.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return $n.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const V_={class:"min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6 transition-colors duration-300"},q_={class:"bg-white p-4 rounded-lg shadow mb-6 border border-gray-100"},W_={class:"flex flex-col md:flex-row justify-between gap-4"},Q_={class:"flex flex-wrap gap-2 w-full md:w-3/4"},G_={class:"flex gap-2 w-full md:w-auto"},K_={class:"relative flex-grow sm:flex-grow-0 flex gap-2"},Y_={class:"relative w-full sm:w-64"},X_=["disabled"],J_={key:0},Z_={key:1},eD={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},tD={class:"bg-white rounded-xl shadow p-4 border-l-4 border-blue-500"},sD={class:"flex justify-between items-start"},nD={class:"text-2xl font-bold text-gray-800 mt-1"},rD={class:"bg-white rounded-xl shadow p-4 border-l-4 border-green-500"},oD={class:"flex justify-between items-start"},iD={class:"text-2xl font-bold text-gray-800 mt-1"},aD={class:"text-xs font-normal text-gray-400"},lD={class:"w-full bg-gray-200 rounded-full h-1.5 mt-2"},dD={class:"flex justify-between items-start"},cD={class:"flex justify-between items-start"},uD={class:"text-2xl font-bold text-orange-600 mt-1"},xD={class:"overflow-x-auto bg-white shadow-md rounded-lg"},fD={class:"w-full border-collapse border border-blue-300 text-sm"},hD={class:"bg-blue-200 text-gray-800 font-semibold text-center"},gD={rowspan:"2",class:"border border-blue-400 p-2 align-middle w-10"},pD=["disabled"],mD={class:"border border-gray-300 p-2 text-center"},bD=["value","disabled"],yD={class:"border border-gray-300 p-2 bg-gray-50 text-xs font-mono font-bold text-blue-900"},vD=["title"],wD={key:0,class:"mt-1"},ED={class:"border border-gray-300 p-2 bg-gray-50 text-right whitespace-nowrap"},CD={class:"font-bold text-gray-800"},AD={class:"border border-gray-300 p-2 bg-gray-50 font-bold"},kD={class:"border border-gray-300 p-1"},BD=["onClick"],_D={class:"truncate max-w-[80px]"},DD={class:"border border-gray-300 p-1"},SD=["onClick"],FD={class:"truncate max-w-[80px]"},TD={class:"border border-gray-300 p-1"},MD=["onUpdate:modelValue","disabled"],ID={class:"border border-gray-300 p-1 bg-yellow-50"},PD=["onUpdate:modelValue"],RD={class:"border border-gray-300 p-1 bg-yellow-50 text-center align-middle"},OD={key:0,class:"flex flex-col items-center justify-center"},ND={key:0,class:"text-[9px] text-red-400 mt-1"},$D=["onClick"],LD={key:2,class:"text-green-600 font-bold text-[10px] border border-green-600 bg-green-50 px-2 py-0.5 rounded inline-block"},jD={key:3,class:"text-gray-400 text-[10px]"},UD={key:0,class:"bg-gray-50"},HD={colspan:"11",class:"border border-gray-300 p-2"},zD={class:"flex items-center justify-between"},VD=["onClick"],qD={key:1,class:"text-xs text-gray-500 italic"},WD=["onClick"],QD={key:0,class:"mt-3 overflow-x-auto"},GD={class:"w-full text-xs border border-gray-300"},KD={class:"border border-gray-300 p-2 text-center"},YD={class:"border border-gray-300 p-2 text-right"},XD={class:"border border-gray-300 p-2 text-right"},JD={class:"border border-gray-300 p-2 text-center"},ZD={class:"border border-gray-300 p-2"},eS={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded border border-green-200"},tS={key:1,class:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm"},sS={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 flex flex-col max-h-[90vh]"},nS={class:"p-4 border-b bg-gray-50 flex justify-between items-center rounded-t-lg"},rS={class:"p-6 overflow-y-auto"},oS={class:"text-sm text-gray-600 mb-4"},iS={class:"border rounded-lg overflow-hidden"},aS={class:"w-full text-sm"},lS={class:"divide-y divide-gray-200"},dS={class:"p-2"},cS={class:"p-2"},uS={class:"p-2"},xS={class:"p-2 text-right font-bold"},fS={class:"p-4 border-t bg-gray-50 flex justify-end gap-3 rounded-b-lg"},hS={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm transition-opacity"},gS={class:"bg-white rounded-lg shadow-2xl w-full max-w-sm mx-4 overflow-hidden relative animate-fade-in-down"},pS={class:"bg-gray-100 px-4 py-3 border-b flex justify-between items-center"},mS={class:"font-bold text-gray-800 text-sm"},bS={class:"text-blue-600"},yS={class:"p-0 bg-white relative"},vS={key:0,class:"absolute inset-0 flex items-center justify-center text-white text-xs"},wS={key:3,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm"},ES={class:"bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 text-center animate-bounce-short"},CS={class:"text-sm text-gray-500 mb-6"},AS={key:0,class:"inline-flex items-center gap-2 text-gray-500"},kS={key:1,class:"text-xs text-gray-400 italic"},BS=rr({__name:"CycleCount",props:{initialStocks:Array,nextPageUrl:String,filters:Object,statistics:Object},setup(e){const t=e,s=xl({items:[]}),r=de([]),i=Xs(),a=Ze(()=>i.props.permissions?.includes("cycle_count.approve")),d=de(null),u=de(t.nextPageUrl),g=de(!1);let h=null;const m=Mr({search:t.filters?.search||"",status:t.filters?.status||"",frequency:t.filters?.frequency||"",category:t.filters?.category||""}),b=()=>{Bt.get("/transaction/cycle-count",m,{preserveState:!0,replace:!0,onSuccess:()=>{}})},v=()=>{m.search="",m.status="",m.frequency="",m.category="",b()},C=()=>{m.frequency="never",b()},_=xe=>{xe.target.checked?r.value=s.items.filter(ee=>S(ee)):r.value=[]},F=xe=>r.value.some(ee=>ee.material_id===xe.material_id&&ee.bin_id===xe.bin_id),S=xe=>xe.status==="APPROVED"||xe.history_count&&xe.history_count>0,D=()=>{r.value.length!==0&&(J.value=!0)},O=()=>{const xe=r.value.map(ee=>({material_id:ee.material_id,bin_id:ee.bin_id}));Bt.post("/transaction/cycle-count/bulk-repeat",{targets:xe},{onSuccess:()=>{J.value=!1,r.value=[],alert(`Berhasil membuat ${xe.length} cycle count baru!`),Bt.reload()},onError:ee=>{console.error(ee),alert("Gagal memproses permintaan bulk.")}})},P=de(t.filters?.search||""),B=()=>{Bt.get("/transaction/cycle-count",{search:P.value},{preserveState:!0,replace:!0})},U=()=>{P.value="",B()},z=de(!1),j=de(!1),H=de(null),I=de("");let $=null;const J=de(!1),K=de(!1),ie=de("");gn(()=>{fe()});const fe=()=>{t.initialStocks&&(s.items=JSON.parse(JSON.stringify(t.initialStocks)),s.items.forEach(xe=>{xe.showHistory=!1}),r.value=[],u.value=t.nextPageUrl,q())};Hs(()=>t.initialStocks,()=>{fe()});const q=()=>{h&&h.disconnect(),u.value&&_n(()=>{const xe=d.value;xe&&(h=new IntersectionObserver(ee=>{ee[0].isIntersecting&&!g.value&&u.value&&(console.log("Trigger Load More..."),le())},{root:null,rootMargin:"100px",threshold:.1}),h.observe(xe))})},le=async()=>{if(!(g.value||!u.value)){g.value=!0;try{console.log("Fetching: "+u.value);const xe=await Rt.get(u.value,{params:{...m},headers:{Accept:"application/json"}}),ee=xe.data.data,N=xe.data.next_page_url;ee&&ee.length>0?(ee.forEach(E=>E.showHistory=!1),s.items=[...s.items,...ee],u.value=N,N?q():h&&h.disconnect()):u.value=null}catch(xe){console.error("Gagal memuat data tambahan:",xe),alert("Gagal memuat data. Periksa koneksi internet.")}finally{g.value=!1}}};U0(()=>{$&&$.clear().catch(xe=>console.error(xe)),h&&h.disconnect()});const he=xe=>{if(!xe)return"";const ee=xe.toString().trim().toUpperCase();if(ee.includes("|")){const N=ee.split("|");if(N.length>=3)return N[2]}return ee},ve=(xe,ee)=>{H.value=xe,I.value=ee,z.value=!0,j.value=!0,setTimeout(()=>{_n(()=>{Ie()})},300)},Ie=()=>{if(!document.getElementById("reader"))return;const xe={fps:10,qrbox:{width:200,height:200},aspectRatio:1,formatsToSupport:[gt.QR_CODE,gt.CODE_128,gt.CODE_39]};$&&$.clear().catch(ee=>console.warn(ee));try{$=new z_("reader",xe,!1),$.render(Ue,()=>{}),j.value=!1}catch{alert("Error Camera"),be()}},Ue=xe=>{let ee=xe.trim(),N=!1;try{const E=JSON.parse(ee);I.value==="scan_bin"&&E.bin_code&&(ee=E.bin_code,N=!0)}catch{}if((I.value==="scan_serial"||I.value==="search")&&!N&&(ee=he(ee)),ee=ee.toUpperCase(),I.value==="search"){P.value=ee,B(),be();return}if(H.value&&I.value){let E="",M="";if(I.value==="scan_bin"?(E=qe(H.value.location),M="Lokasi Bin"):I.value==="scan_serial"&&(E=he(H.value.serial_number),M="Serial Number"),ee!==E){be(),ie.value=`Kode ${M} (${ee}) TIDAK SESUAI target (${E}).`,K.value=!0;return}H.value[I.value]=ee}be()},be=()=>{$?$.clear().catch(()=>{}).finally(()=>{$=null,z.value=!1}):z.value=!1},qe=xe=>(xe||"").toString().trim().toUpperCase(),ot=xe=>{const ee=qe(xe.scan_serial),N=he(xe.serial_number);return ee===N&&ee.length>0},Ge=xe=>qe(xe.scan_bin)===qe(xe.location)&&!!xe.scan_bin,dt=xe=>ot(xe)&&Ge(xe),ze=xe=>new Intl.NumberFormat("en-US").format(xe),xt=xe=>{if(!dt(xe))return"0.00";const ee=xe.physical_qty??0,N=xe.onhand;return N?(ee/N*100).toFixed(2):"0.00"},ft=xe=>{if(!dt(xe))return"0.00";const ee=xe.physical_qty;if(ee==null||ee==="")return"0.00";const N=xe.onhand;return N?((ee-N)/N*100).toFixed(2):"0.00"},yt=xe=>{if(!dt(xe))return"text-gray-300";const ee=parseFloat(xt(xe));return ee===100?"text-green-600":ee>100?"text-blue-600":"text-red-600"},vt=xe=>parseFloat(ft(xe))===0?"text-gray-400":"text-red-600",it=xe=>{switch(xe){case"KARANTINA":return"bg-orange-100 text-orange-700 border-orange-300";case"RELEASED":return"bg-green-100 text-green-700 border-green-300";case"HOLD":return"bg-gray-100 text-gray-700 border-gray-300";case"REJECTED":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-50 text-gray-500 border-gray-200"}},Et=xe=>{const ee=(xe||"").toUpperCase();return ee.includes("RAW")?"bg-purple-100 text-purple-700 border-purple-300":ee.includes("PACKAGING")?"bg-pink-100 text-pink-700 border-pink-300":"bg-gray-100 text-gray-700 border-gray-300"},ne=()=>{confirm("Simpan hasil opname?")&&s.post("/transaction/cycle-count/store",{onSuccess:()=>{alert("Berhasil disubmit ke Supervisor!")},onError:xe=>{console.error(xe),alert("Gagal menyimpan data.")}})},ge=xe=>{if(console.log("approveItem called with:",xe),xe.status!=="REVIEW_NEEDED"){alert("Item belum disubmit oleh Warehouseman!");return}!xe.spv_note&&!confirm("Approve tanpa catatan?")||(console.log("Sending approve request:",{id:xe.id,material_id:xe.material_id,spv_note:xe.spv_note}),Bt.post("/transaction/cycle-count/approve",{id:xe.id,material_id:xe.material_id,spv_note:xe.spv_note},{onSuccess:ee=>{console.log("Approve success response:",ee),xe.status="APPROVED",alert("Item berhasil diapprove dan inventory telah disesuaikan!"),Bt.reload()},onError:ee=>{console.error("Approve error:",ee),alert("Gagal approve: "+(typeof ee=="string"?ee:JSON.stringify(ee)))},onFinish:()=>{console.log("Approve request finished")}}))},Te=xe=>{s.items[xe].showHistory=!s.items[xe].showHistory},He=xe=>{confirm(`Apakah Anda yakin ingin mengulang cycle count untuk ${xe.product_name}?`)&&Bt.post("/transaction/cycle-count/repeat",{material_id:xe.material_id,bin_id:xe.bin_id},{onSuccess:()=>{alert("Cycle count baru berhasil dibuat!"),Bt.reload()},onError:ee=>{console.error(ee),alert("Gagal membuat cycle count baru.")}})};return(xe,ee)=>(T(),Dt(pn,{title:"Cycle Count"},{default:_t(()=>[n("div",V_,[n("div",q_,[n("div",W_,[n("div",Q_,[we(n("select",{"onUpdate:modelValue":ee[0]||(ee[0]=N=>m.status=N),onChange:b,class:"w-full sm:w-40 text-sm border rounded bg-gray-50 py-1.5"},[...ee[10]||(ee[10]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"DRAFT"},"Draft / Progress",-1),n("option",{value:"REVIEW_NEEDED"},"Butuh Approval",-1),n("option",{value:"APPROVED"},"Selesai (Approved)",-1)])],544),[[St,m.status]]),we(n("select",{"onUpdate:modelValue":ee[1]||(ee[1]=N=>m.frequency=N),onChange:b,class:"w-full sm:w-48 text-sm border border-orange-300 rounded bg-orange-50 py-1.5 text-orange-800 font-semibold"},[...ee[11]||(ee[11]=[n("option",{value:""},"Semua Frekuensi",-1),n("option",{value:"never"},"Belum Pernah Opname",-1),n("option",{value:"rare"},"Jarang (< 2x Opname)",-1),n("option",{value:"often"},"Sering (> 5x Opname)",-1)])],544),[[St,m.frequency]]),we(n("select",{"onUpdate:modelValue":ee[2]||(ee[2]=N=>m.category=N),onChange:b,class:"w-full sm:w-48 text-sm border rounded bg-gray-50 py-1.5"},[...ee[12]||(ee[12]=[n("option",{value:""},"Semua Kategori",-1),n("option",{value:"RAW MATERIAL"},"Raw Material",-1),n("option",{value:"PACKAGING"},"Packaging Material",-1)])],544),[[St,m.category]]),n("button",{onClick:v,class:"px-3 py-1.5 text-sm text-gray-500 hover:text-red-500 underline"},"Reset")]),n("div",G_,[r.value.length>0?(T(),R("button",{key:0,onClick:D,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg shadow transition-colors flex items-center justify-center gap-2 animate-pulse whitespace-nowrap"},[ee[13]||(ee[13]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),n("span",null,"Ulangi ("+A(r.value.length)+")",1)])):se("",!0),n("div",K_,[n("button",{onClick:ee[3]||(ee[3]=N=>ve(null,"search")),class:"bg-blue-200 hover:bg-blue-300 text-blue-700 p-2 rounded-lg shadow transition-colors flex items-center justify-center"},[...ee[14]||(ee[14]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),n("div",Y_,[we(n("input",{type:"text","onUpdate:modelValue":ee[4]||(ee[4]=N=>P.value=N),onKeydown:al(B,["enter"]),placeholder:"Scan QR Material / Cari...",class:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[Ve,P.value]]),ee[16]||(ee[16]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),P.value?(T(),R("button",{key:0,onClick:U,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[...ee[15]||(ee[15]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):se("",!0)])]),n("button",{onClick:ne,disabled:We(s).processing,class:Se(["flex items-center justify-center gap-2 px-4 py-2 rounded shadow transition-colors whitespace-nowrap",We(s).processing?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"])},[We(s).processing?(T(),R("span",J_,"Menyimpan...")):(T(),R("span",Z_,"Submit ke Supervisor"))],10,X_)])])]),n("div",eD,[n("div",tD,[n("div",sD,[n("div",null,[ee[17]||(ee[17]=n("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Total SKU (Stock)",-1)),n("h3",nD,A(ze(e.statistics.total_sku)),1)]),ee[18]||(ee[18]=n("div",{class:"p-2 bg-blue-100 rounded-lg text-blue-600"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]),n("div",rD,[n("div",oD,[n("div",null,[ee[19]||(ee[19]=n("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Sudah Opname (Bulan Ini)",-1)),n("h3",iD,[Oe(A(ze(e.statistics.counted_items))+" ",1),n("span",aD,"/ "+A(ze(e.statistics.total_sku)),1)]),n("div",lD,[n("div",{class:"bg-green-500 h-1.5 rounded-full",style:Rr(`width: ${e.statistics.progress_percentage}%`)},null,4)])]),ee[20]||(ee[20]=n("div",{class:"p-2 bg-green-100 rounded-lg text-green-600"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),n("div",{class:Se(["bg-white rounded-xl shadow p-4 border-l-4",e.statistics.avg_accuracy>=98?"border-indigo-500":"border-red-500"])},[n("div",dD,[n("div",null,[ee[21]||(ee[21]=n("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Rata-rata Akurasi",-1)),n("h3",{class:Se(["text-2xl font-bold mt-1",e.statistics.avg_accuracy>=98?"text-indigo-600":"text-red-600"])},A(e.statistics.avg_accuracy)+"% ",3),ee[22]||(ee[22]=n("p",{class:"text-[10px] text-gray-400 mt-1"},"Target: >98%",-1))]),n("div",{class:Se(["p-2 rounded-lg",e.statistics.avg_accuracy>=98?"bg-indigo-100 text-indigo-600":"bg-red-100 text-red-600"])},[...ee[23]||(ee[23]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)])],2)])],2),n("div",{class:"bg-white rounded-xl shadow p-4 border-l-4 border-orange-500 cursor-pointer hover:bg-orange-50 transition-colors",onClick:C},[n("div",cD,[n("div",null,[ee[24]||(ee[24]=n("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Belum Pernah Opname",-1)),n("h3",uD,A(ze(e.statistics.never_counted)),1),ee[25]||(ee[25]=n("p",{class:"text-[10px] text-orange-400 mt-1 font-bold underline"},"Klik untuk filter",-1))]),ee[26]||(ee[26]=n("div",{class:"p-2 bg-orange-100 rounded-lg text-orange-600"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])]),n("div",xD,[n("table",fD,[n("thead",hD,[n("tr",null,[n("th",gD,[n("input",{type:"checkbox",onChange:ee[5]||(ee[5]=N=>_(N)),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:We(s).items.every(N=>!S(N))},null,40,pD)]),ee[27]||(ee[27]=n("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Serial Number",-1)),ee[28]||(ee[28]=n("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Product Name",-1)),ee[29]||(ee[29]=n("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Onhand",-1)),ee[30]||(ee[30]=n("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Loc",-1)),ee[31]||(ee[31]=n("th",{colspan:"3",class:"border border-blue-400 p-2 bg-blue-300"},"Input Warehouseman",-1)),ee[32]||(ee[32]=n("th",{colspan:"2",class:"border border-blue-400 p-2 bg-blue-300"},"Hasil",-1)),ee[33]||(ee[33]=n("th",{colspan:"2",class:"border border-blue-400 p-2 bg-yellow-200"},"Area Supervisor",-1))]),ee[34]||(ee[34]=n("tr",null,[n("th",{class:"border border-blue-400 p-2 bg-blue-100 w-32"},"Scan Serial"),n("th",{class:"border border-blue-400 p-2 bg-blue-100 w-24"},"Scan Bin"),n("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Qty"),n("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Acc"),n("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"In Acc"),n("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-40"},"Note SPV"),n("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-20"},"Action")],-1))]),n("tbody",null,[(T(!0),R(Ye,null,at(We(s).items,(N,E)=>(T(),R(Ye,{key:E},[n("tr",{class:Se(["hover:bg-gray-50 text-center text-gray-700",F(N)?"bg-orange-50":""])},[n("td",mD,[we(n("input",{type:"checkbox",value:N,"onUpdate:modelValue":ee[6]||(ee[6]=M=>r.value=M),disabled:!S(N),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"},null,8,bD),[[Yn,r.value]])]),n("td",yD,A(he(N.serial_number)),1),n("td",{class:"border border-gray-300 p-2 text-left bg-gray-50 text-xs truncate max-w-[150px]",title:N.product_name},[Oe(A(N.product_name)+" ",1),N.category?(T(),R("div",wD,[n("span",{class:Se(["text-[10px] px-1.5 py-0.5 rounded font-bold border",Et(N.category)])},A(N.category),3)])):se("",!0)],8,vD),n("td",ED,[n("span",CD,A(ze(N.onhand))+" "+A(N.uom),1),N.inventory_status?(T(),R("span",{key:0,class:Se(["ml-2 text-[10px] px-1.5 py-0.5 rounded font-bold border",it(N.inventory_status)])},A(N.inventory_status),3)):se("",!0)]),n("td",AD,A(N.location),1),n("td",kD,[n("button",{type:"button",onClick:M=>ve(N,"scan_serial"),class:Se(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",ot(N)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[ee[35]||(ee[35]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4h2v-4zM6 6h12v12H6V6z"})],-1)),n("span",_D,A(N.scan_serial?N.scan_serial:"Scan SN"),1)],10,BD)]),n("td",DD,[n("button",{type:"button",onClick:M=>ve(N,"scan_bin"),class:Se(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",Ge(N)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[ee[36]||(ee[36]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),n("span",FD,A(N.scan_bin?N.scan_bin:"Bin"),1)],10,SD)]),n("td",TD,[we(n("input",{type:"number","onUpdate:modelValue":M=>N.physical_qty=M,disabled:!dt(N),class:Se(["w-full text-center border rounded text-xs py-1 font-bold",dt(N)?"bg-white border-blue-500 text-blue-800":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"]),placeholder:"0"},null,10,MD),[[Ve,N.physical_qty,void 0,{number:!0}]])]),n("td",{class:Se(["border border-gray-300 p-2 text-xs font-bold",yt(N)])},A(xt(N))+"%",3),n("td",{class:Se(["border border-gray-300 p-2 text-xs font-bold",vt(N)])},A(ft(N))+"%",3),n("td",ID,[we(n("input",{type:"text","onUpdate:modelValue":M=>N.spv_note=M,class:"w-full text-xs border border-yellow-300 rounded px-1 py-1 bg-white focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Catatan SPV..."},null,8,PD),[[Ve,N.spv_note]])]),n("td",RD,[N.status==="DRAFT"||!N.status?(T(),R("div",OD,[ee[37]||(ee[37]=n("span",{class:"text-gray-400 text-[10px] italic"},"Waiting Submit",-1)),dt(N)?se("",!0):(T(),R("span",ND,"(Belum Scan)"))])):N.status==="REVIEW_NEEDED"&&a.value?(T(),R("button",{key:1,onClick:M=>ge(N),type:"button",class:"bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-bold py-1 px-3 rounded shadow flex items-center justify-center gap-1 mx-auto transition-transform active:scale-95 animate-pulse"},[...ee[38]||(ee[38]=[n("span",null,"Approve",-1)])],8,$D)):N.status==="APPROVED"?(T(),R("span",LD," DONE ")):(T(),R("span",jD,"-"))])],2),N.status==="APPROVED"||N.history&&N.history_count>0?(T(),R("tr",UD,[n("td",HD,[n("div",zD,[N.history&&N.history_count>0?(T(),R("button",{key:0,onClick:M=>Te(E),class:"flex items-center gap-2 text-xs text-blue-600 hover:text-blue-800 font-semibold"},[(T(),R("svg",{xmlns:"http://www.w3.org/2000/svg",class:Se(["h-4 w-4 transition-transform",N.showHistory?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...ee[39]||(ee[39]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),n("span",null,A(N.showHistory?"Sembunyikan":"Lihat")+" Riwayat ("+A(N.history_count)+"x)",1)],8,VD)):(T(),R("span",qD," Material ini sudah selesai di-cycle count ")),n("button",{onClick:M=>He(N),class:"flex items-center gap-1 px-3 py-1 text-xs bg-orange-500 hover:bg-orange-600 text-white rounded shadow transition-colors"},[...ee[40]||(ee[40]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),n("span",null,"Ulangi Cycle Count",-1)])],8,WD)]),N.showHistory&&N.history&&N.history_count>0?(T(),R("div",QD,[n("table",GD,[ee[41]||(ee[41]=n("thead",{class:"bg-gray-200"},[n("tr",null,[n("th",{class:"border border-gray-300 p-2"},"Tanggal"),n("th",{class:"border border-gray-300 p-2"},"System Qty"),n("th",{class:"border border-gray-300 p-2"},"Physical Qty"),n("th",{class:"border border-gray-300 p-2"},"Accuracy"),n("th",{class:"border border-gray-300 p-2"},"Status"),n("th",{class:"border border-gray-300 p-2"},"Note SPV")])],-1)),n("tbody",null,[(T(!0),R(Ye,null,at(N.history,(M,ae)=>(T(),R("tr",{key:ae,class:"hover:bg-gray-100"},[n("td",KD,A(M.count_date),1),n("td",YD,A(ze(M.system_qty)),1),n("td",XD,A(ze(M.physical_qty)),1),n("td",{class:Se(["border border-gray-300 p-2 text-center font-bold",M.accuracy===100?"text-green-600":"text-red-600"])},A(M.accuracy)+"%",3),n("td",JD,[n("span",{class:Se(["px-2 py-0.5 rounded text-[10px] font-bold",M.status==="APPROVED"?"bg-green-100 text-green-700 border border-green-500":"bg-gray-100 text-gray-600"])},A(M.status),3)]),n("td",ZD,A(M.spv_note||"-"),1)]))),128))])])])):se("",!0)])])):se("",!0)],64))),128))])])]),xe.$page.props.flash.success?(T(),R("div",eS,A(xe.$page.props.flash.success),1)):se("",!0),J.value?(T(),R("div",tS,[n("div",sS,[n("div",nS,[ee[42]||(ee[42]=n("h3",{class:"text-lg font-bold text-gray-800"},"Konfirmasi Cycle Count Ulang",-1)),n("button",{onClick:ee[7]||(ee[7]=N=>J.value=!1),class:"text-gray-500 hover:text-red-500 text-xl font-bold"},"")]),n("div",rS,[n("p",oS,[ee[43]||(ee[43]=Oe(" Anda akan mengulang cycle count untuk ",-1)),n("b",null,A(r.value.length)+" material",1),ee[44]||(ee[44]=Oe(" berikut. Data saat ini akan di-reset menjadi DRAFT dan Warehouseman harus melakukan scan ulang. ",-1))]),n("div",iS,[n("table",aS,[ee[45]||(ee[45]=n("thead",{class:"bg-gray-100"},[n("tr",null,[n("th",{class:"p-2 text-left"},"Kode Material"),n("th",{class:"p-2 text-left"},"Nama Produk"),n("th",{class:"p-2 text-left"},"Lokasi"),n("th",{class:"p-2 text-right"},"System Qty")])],-1)),n("tbody",lS,[(T(!0),R(Ye,null,at(r.value,(N,E)=>(T(),R("tr",{key:E,class:"hover:bg-gray-50"},[n("td",dS,A(N.code),1),n("td",cS,A(N.product_name),1),n("td",uS,A(N.location),1),n("td",xS,A(ze(N.onhand)),1)]))),128))])])])]),n("div",fS,[n("button",{onClick:ee[8]||(ee[8]=N=>J.value=!1),class:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded font-semibold transition-colors"}," Batal "),n("button",{onClick:O,class:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded font-semibold shadow transition-colors flex items-center gap-2"},[...ee[46]||(ee[46]=[n("span",null,"Konfirmasi & Buat Ulang",-1)])])])])])):se("",!0),z.value?(T(),R("div",hS,[n("div",gS,[n("div",pS,[n("h3",mS,[ee[47]||(ee[47]=Oe("Scan: ",-1)),n("span",bS,A(I.value==="scan_serial"?"Serial Number":I.value==="scan_bin"?"Lokasi Bin":"Cari Material"),1)]),n("button",{onClick:be,class:"text-gray-400 hover:text-red-500 font-bold text-2xl leading-none"},"")]),n("div",yS,[ee[48]||(ee[48]=n("div",{id:"reader",class:"w-full",style:{"min-height":"300px"}},null,-1)),j.value?(T(),R("div",vS,"Memuat Kamera...")):se("",!0)]),n("div",{class:"bg-white px-4 py-3 border-t text-center"},[n("button",{onClick:be,class:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded shadow"},"Batal Scan")])])])):se("",!0),K.value?(T(),R("div",wS,[n("div",ES,[ee[49]||(ee[49]=n("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[n("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),ee[50]||(ee[50]=n("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-2"},"Scan Ditolak!",-1)),n("p",CS,A(ie.value),1),n("button",{onClick:ee[9]||(ee[9]=N=>K.value=!1),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm"}," Tutup & Scan Ulang ")])])):se("",!0),n("div",{ref_key:"scrollTrigger",ref:d,class:"py-6 text-center"},[g.value?(T(),R("div",AS,[...ee[51]||(ee[51]=[n("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n("span",{class:"text-sm font-semibold"},"Memuat data berikutnya...",-1)])])):u.value?se("",!0):(T(),R("div",kS," -- Semua data telah ditampilkan -- "))],512)])]),_:1}))}}),_S=Object.freeze(Object.defineProperty({__proto__:null,default:BS},Symbol.toStringTag,{value:"Module"}));var Ei={},Fc,sg;function DS(){return sg||(sg=1,Fc=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Fc}var Tc={},fo={},ng;function ui(){if(ng)return fo;ng=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return fo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},fo.getSymbolTotalCodewords=function(r){return t[r]},fo.getBCHDigit=function(s){let r=0;for(;s!==0;)r++,s>>>=1;return r},fo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},fo.isKanjiModeEnabled=function(){return typeof e<"u"},fo.toSJIS=function(r){return e(r)},fo}var Mc={},rg;function Tx(){return rg||(rg=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+s)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(Mc)),Mc}var Ic,og;function SS(){if(og)return Ic;og=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const s=Math.floor(t/8);return(this.buffer[s]>>>7-t%8&1)===1},put:function(t,s){for(let r=0;r<s;r++)this.putBit((t>>>s-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),t&&(this.buffer[s]|=128>>>this.length%8),this.length++}},Ic=e,Ic}var Pc,ig;function FS(){if(ig)return Pc;ig=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,s,r,i){const a=t*this.size+s;this.data[a]=r,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,s){return this.data[t*this.size+s]},e.prototype.xor=function(t,s,r){this.data[t*this.size+s]^=r},e.prototype.isReserved=function(t,s){return this.reservedBit[t*this.size+s]},Pc=e,Pc}var Rc={},ag;function TS(){return ag||(ag=1,(function(e){const t=ui().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=t(r),d=a===145?26:Math.ceil((a-13)/(2*i-2))*2,u=[a-7];for(let g=1;g<i-1;g++)u[g]=u[g-1]-d;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],a=e.getRowColCoords(r),d=a.length;for(let u=0;u<d;u++)for(let g=0;g<d;g++)u===0&&g===0||u===0&&g===d-1||u===d-1&&g===0||i.push([a[u],a[g]]);return i}})(Rc)),Rc}var Oc={},lg;function MS(){if(lg)return Oc;lg=1;const e=ui().getSymbolSize,t=7;return Oc.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Oc}var Nc={},dg;function IS(){return dg||(dg=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let d=0,u=0,g=0,h=null,m=null;for(let b=0;b<a;b++){u=g=0,h=m=null;for(let v=0;v<a;v++){let C=i.get(b,v);C===h?u++:(u>=5&&(d+=t.N1+(u-5)),h=C,u=1),C=i.get(v,b),C===m?g++:(g>=5&&(d+=t.N1+(g-5)),m=C,g=1)}u>=5&&(d+=t.N1+(u-5)),g>=5&&(d+=t.N1+(g-5))}return d},e.getPenaltyN2=function(i){const a=i.size;let d=0;for(let u=0;u<a-1;u++)for(let g=0;g<a-1;g++){const h=i.get(u,g)+i.get(u,g+1)+i.get(u+1,g)+i.get(u+1,g+1);(h===4||h===0)&&d++}return d*t.N2},e.getPenaltyN3=function(i){const a=i.size;let d=0,u=0,g=0;for(let h=0;h<a;h++){u=g=0;for(let m=0;m<a;m++)u=u<<1&2047|i.get(h,m),m>=10&&(u===1488||u===93)&&d++,g=g<<1&2047|i.get(m,h),m>=10&&(g===1488||g===93)&&d++}return d*t.N3},e.getPenaltyN4=function(i){let a=0;const d=i.data.length;for(let g=0;g<d;g++)a+=i.data[g];return Math.abs(Math.ceil(a*100/d/5)-10)*t.N4};function s(r,i,a){switch(r){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,a){const d=a.size;for(let u=0;u<d;u++)for(let g=0;g<d;g++)a.isReserved(g,u)||a.xor(g,u,s(i,g,u))},e.getBestMask=function(i,a){const d=Object.keys(e.Patterns).length;let u=0,g=1/0;for(let h=0;h<d;h++){a(h),e.applyMask(h,i);const m=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(h,i),m<g&&(g=m,u=h)}return u}})(Nc)),Nc}var Pl={},cg;function Ib(){if(cg)return Pl;cg=1;const e=Tx(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Pl.getBlocksCount=function(i,a){switch(a){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Pl.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return s[(i-1)*4+0];case e.M:return s[(i-1)*4+1];case e.Q:return s[(i-1)*4+2];case e.H:return s[(i-1)*4+3];default:return}},Pl}var $c={},ha={},ug;function PS(){if(ug)return ha;ug=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),ha.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},ha.exp=function(r){return e[r]},ha.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},ha}var xg;function RS(){return xg||(xg=1,(function(e){const t=PS();e.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let d=0;d<r.length;d++)for(let u=0;u<i.length;u++)a[d+u]^=t.mul(r[d],i[u]);return a},e.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const d=a[0];for(let g=0;g<i.length;g++)a[g]^=t.mul(i[g],d);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})($c)),$c}var Lc,fg;function OS(){if(fg)return Lc;fg=1;const e=RS();function t(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=e.mod(i,this.genPoly),d=this.degree-a.length;if(d>0){const u=new Uint8Array(this.degree);return u.set(a,d),u}return a},Lc=t,Lc}var jc={},Uc={},Hc={},hg;function Pb(){return hg||(hg=1,Hc.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Hc}var Cr={},gg;function Rb(){if(gg)return Cr;gg=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+`)(?:.|[\r
]))+`;Cr.KANJI=new RegExp(s,"g"),Cr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Cr.BYTE=new RegExp(r,"g"),Cr.NUMERIC=new RegExp(e,"g"),Cr.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+s+"$"),a=new RegExp("^"+e+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Cr.testKanji=function(g){return i.test(g)},Cr.testNumeric=function(g){return a.test(g)},Cr.testAlphanumeric=function(g){return d.test(g)},Cr}var pg;function xi(){return pg||(pg=1,(function(e){const t=Pb(),s=Rb();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,d){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?a.ccBits[0]:d<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return s.testNumeric(a)?e.NUMERIC:s.testAlphanumeric(a)?e.ALPHANUMERIC:s.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,d){if(e.isValid(a))return a;try{return r(a)}catch{return d}}})(Uc)),Uc}var mg;function NS(){return mg||(mg=1,(function(e){const t=ui(),s=Ib(),r=Tx(),i=xi(),a=Pb(),d=7973,u=t.getBCHDigit(d);function g(v,C,_){for(let F=1;F<=40;F++)if(C<=e.getCapacity(F,_,v))return F}function h(v,C){return i.getCharCountIndicator(v,C)+4}function m(v,C){let _=0;return v.forEach(function(F){const S=h(F.mode,C);_+=S+F.getBitsLength()}),_}function b(v,C){for(let _=1;_<=40;_++)if(m(v,_)<=e.getCapacity(_,C,i.MIXED))return _}e.from=function(C,_){return a.isValid(C)?parseInt(C,10):_},e.getCapacity=function(C,_,F){if(!a.isValid(C))throw new Error("Invalid QR Code version");typeof F>"u"&&(F=i.BYTE);const S=t.getSymbolTotalCodewords(C),D=s.getTotalCodewordsCount(C,_),O=(S-D)*8;if(F===i.MIXED)return O;const P=O-h(F,C);switch(F){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},e.getBestVersionForData=function(C,_){let F;const S=r.from(_,r.M);if(Array.isArray(C)){if(C.length>1)return b(C,S);if(C.length===0)return 1;F=C[0]}else F=C;return g(F.mode,F.getLength(),S)},e.getEncodedBits=function(C){if(!a.isValid(C)||C<7)throw new Error("Invalid QR Code version");let _=C<<12;for(;t.getBCHDigit(_)-u>=0;)_^=d<<t.getBCHDigit(_)-u;return C<<12|_}})(jc)),jc}var zc={},bg;function $S(){if(bg)return zc;bg=1;const e=ui(),t=1335,s=21522,r=e.getBCHDigit(t);return zc.getEncodedBits=function(a,d){const u=a.bit<<3|d;let g=u<<10;for(;e.getBCHDigit(g)-r>=0;)g^=t<<e.getBCHDigit(g)-r;return(u<<10|g)^s},zc}var Vc={},qc,yg;function LS(){if(yg)return qc;yg=1;const e=xi();function t(s){this.mode=e.NUMERIC,this.data=s.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,a,d;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),d=parseInt(a,10),r.put(d,10);const u=this.data.length-i;u>0&&(a=this.data.substr(i),d=parseInt(a,10),r.put(d,u*3+1))},qc=t,qc}var Wc,vg;function jS(){if(vg)return Wc;vg=1;const e=xi(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(r){this.mode=e.ALPHANUMERIC,this.data=r}return s.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let d=t.indexOf(this.data[a])*45;d+=t.indexOf(this.data[a+1]),i.put(d,11)}this.data.length%2&&i.put(t.indexOf(this.data[a]),6)},Wc=s,Wc}var Qc,wg;function US(){if(wg)return Qc;wg=1;const e=xi();function t(s){this.mode=e.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){for(let r=0,i=this.data.length;r<i;r++)s.put(this.data[r],8)},Qc=t,Qc}var Gc,Eg;function HS(){if(Eg)return Gc;Eg=1;const e=xi(),t=ui();function s(r){this.mode=e.KANJI,this.data=r}return s.getBitsLength=function(i){return i*13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=t.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Gc=s,Gc}var Kc={exports:{}},Cg;function zS(){return Cg||(Cg=1,(function(e){var t={single_source_shortest_paths:function(s,r,i){var a={},d={};d[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var g,h,m,b,v,C,_,F,S;!u.empty();){g=u.pop(),h=g.value,b=g.cost,v=s[h]||{};for(m in v)v.hasOwnProperty(m)&&(C=v[m],_=b+C,F=d[m],S=typeof d[m]>"u",(S||F>_)&&(d[m]=_,u.push(m,_),a[m]=h))}if(typeof i<"u"&&typeof d[i]>"u"){var D=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(D)}return a},extract_shortest_path_from_predecessor_list:function(s,r){for(var i=[],a=r;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,r,i){var a=t.single_source_shortest_paths(s,r,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var r=t.PriorityQueue,i={},a;s=s||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=s.sorter||r.default_sorter,i},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){var i={value:s,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Kc)),Kc.exports}var Ag;function VS(){return Ag||(Ag=1,(function(e){const t=xi(),s=LS(),r=jS(),i=US(),a=HS(),d=Rb(),u=ui(),g=zS();function h(D){return unescape(encodeURIComponent(D)).length}function m(D,O,P){const B=[];let U;for(;(U=D.exec(P))!==null;)B.push({data:U[0],index:U.index,mode:O,length:U[0].length});return B}function b(D){const O=m(d.NUMERIC,t.NUMERIC,D),P=m(d.ALPHANUMERIC,t.ALPHANUMERIC,D);let B,U;return u.isKanjiModeEnabled()?(B=m(d.BYTE,t.BYTE,D),U=m(d.KANJI,t.KANJI,D)):(B=m(d.BYTE_KANJI,t.BYTE,D),U=[]),O.concat(P,B,U).sort(function(j,H){return j.index-H.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function v(D,O){switch(O){case t.NUMERIC:return s.getBitsLength(D);case t.ALPHANUMERIC:return r.getBitsLength(D);case t.KANJI:return a.getBitsLength(D);case t.BYTE:return i.getBitsLength(D)}}function C(D){return D.reduce(function(O,P){const B=O.length-1>=0?O[O.length-1]:null;return B&&B.mode===P.mode?(O[O.length-1].data+=P.data,O):(O.push(P),O)},[])}function _(D){const O=[];for(let P=0;P<D.length;P++){const B=D[P];switch(B.mode){case t.NUMERIC:O.push([B,{data:B.data,mode:t.ALPHANUMERIC,length:B.length},{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.ALPHANUMERIC:O.push([B,{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.KANJI:O.push([B,{data:B.data,mode:t.BYTE,length:h(B.data)}]);break;case t.BYTE:O.push([{data:B.data,mode:t.BYTE,length:h(B.data)}])}}return O}function F(D,O){const P={},B={start:{}};let U=["start"];for(let z=0;z<D.length;z++){const j=D[z],H=[];for(let I=0;I<j.length;I++){const $=j[I],J=""+z+I;H.push(J),P[J]={node:$,lastCount:0},B[J]={};for(let K=0;K<U.length;K++){const ie=U[K];P[ie]&&P[ie].node.mode===$.mode?(B[ie][J]=v(P[ie].lastCount+$.length,$.mode)-v(P[ie].lastCount,$.mode),P[ie].lastCount+=$.length):(P[ie]&&(P[ie].lastCount=$.length),B[ie][J]=v($.length,$.mode)+4+t.getCharCountIndicator($.mode,O))}}U=H}for(let z=0;z<U.length;z++)B[U[z]].end=0;return{map:B,table:P}}function S(D,O){let P;const B=t.getBestModeForData(D);if(P=t.from(O,B),P!==t.BYTE&&P.bit<B.bit)throw new Error('"'+D+'" cannot be encoded with mode '+t.toString(P)+`.
 Suggested mode is: `+t.toString(B));switch(P===t.KANJI&&!u.isKanjiModeEnabled()&&(P=t.BYTE),P){case t.NUMERIC:return new s(D);case t.ALPHANUMERIC:return new r(D);case t.KANJI:return new a(D);case t.BYTE:return new i(D)}}e.fromArray=function(O){return O.reduce(function(P,B){return typeof B=="string"?P.push(S(B,null)):B.data&&P.push(S(B.data,B.mode)),P},[])},e.fromString=function(O,P){const B=b(O,u.isKanjiModeEnabled()),U=_(B),z=F(U,P),j=g.find_path(z.map,"start","end"),H=[];for(let I=1;I<j.length-1;I++)H.push(z.table[j[I]].node);return e.fromArray(C(H))},e.rawSplit=function(O){return e.fromArray(b(O,u.isKanjiModeEnabled()))}})(Vc)),Vc}var kg;function qS(){if(kg)return Tc;kg=1;const e=ui(),t=Tx(),s=SS(),r=FS(),i=TS(),a=MS(),d=IS(),u=Ib(),g=OS(),h=NS(),m=$S(),b=xi(),v=VS();function C(z,j){const H=z.size,I=a.getPositions(j);for(let $=0;$<I.length;$++){const J=I[$][0],K=I[$][1];for(let ie=-1;ie<=7;ie++)if(!(J+ie<=-1||H<=J+ie))for(let fe=-1;fe<=7;fe++)K+fe<=-1||H<=K+fe||(ie>=0&&ie<=6&&(fe===0||fe===6)||fe>=0&&fe<=6&&(ie===0||ie===6)||ie>=2&&ie<=4&&fe>=2&&fe<=4?z.set(J+ie,K+fe,!0,!0):z.set(J+ie,K+fe,!1,!0))}}function _(z){const j=z.size;for(let H=8;H<j-8;H++){const I=H%2===0;z.set(H,6,I,!0),z.set(6,H,I,!0)}}function F(z,j){const H=i.getPositions(j);for(let I=0;I<H.length;I++){const $=H[I][0],J=H[I][1];for(let K=-2;K<=2;K++)for(let ie=-2;ie<=2;ie++)K===-2||K===2||ie===-2||ie===2||K===0&&ie===0?z.set($+K,J+ie,!0,!0):z.set($+K,J+ie,!1,!0)}}function S(z,j){const H=z.size,I=h.getEncodedBits(j);let $,J,K;for(let ie=0;ie<18;ie++)$=Math.floor(ie/3),J=ie%3+H-8-3,K=(I>>ie&1)===1,z.set($,J,K,!0),z.set(J,$,K,!0)}function D(z,j,H){const I=z.size,$=m.getEncodedBits(j,H);let J,K;for(J=0;J<15;J++)K=($>>J&1)===1,J<6?z.set(J,8,K,!0):J<8?z.set(J+1,8,K,!0):z.set(I-15+J,8,K,!0),J<8?z.set(8,I-J-1,K,!0):J<9?z.set(8,15-J-1+1,K,!0):z.set(8,15-J-1,K,!0);z.set(I-8,8,1,!0)}function O(z,j){const H=z.size;let I=-1,$=H-1,J=7,K=0;for(let ie=H-1;ie>0;ie-=2)for(ie===6&&ie--;;){for(let fe=0;fe<2;fe++)if(!z.isReserved($,ie-fe)){let q=!1;K<j.length&&(q=(j[K]>>>J&1)===1),z.set($,ie-fe,q),J--,J===-1&&(K++,J=7)}if($+=I,$<0||H<=$){$-=I,I=-I;break}}}function P(z,j,H){const I=new s;H.forEach(function(fe){I.put(fe.mode.bit,4),I.put(fe.getLength(),b.getCharCountIndicator(fe.mode,z)),fe.write(I)});const $=e.getSymbolTotalCodewords(z),J=u.getTotalCodewordsCount(z,j),K=($-J)*8;for(I.getLengthInBits()+4<=K&&I.put(0,4);I.getLengthInBits()%8!==0;)I.putBit(0);const ie=(K-I.getLengthInBits())/8;for(let fe=0;fe<ie;fe++)I.put(fe%2?17:236,8);return B(I,z,j)}function B(z,j,H){const I=e.getSymbolTotalCodewords(j),$=u.getTotalCodewordsCount(j,H),J=I-$,K=u.getBlocksCount(j,H),ie=I%K,fe=K-ie,q=Math.floor(I/K),le=Math.floor(J/K),he=le+1,ve=q-le,Ie=new g(ve);let Ue=0;const be=new Array(K),qe=new Array(K);let ot=0;const Ge=new Uint8Array(z.buffer);for(let yt=0;yt<K;yt++){const vt=yt<fe?le:he;be[yt]=Ge.slice(Ue,Ue+vt),qe[yt]=Ie.encode(be[yt]),Ue+=vt,ot=Math.max(ot,vt)}const dt=new Uint8Array(I);let ze=0,xt,ft;for(xt=0;xt<ot;xt++)for(ft=0;ft<K;ft++)xt<be[ft].length&&(dt[ze++]=be[ft][xt]);for(xt=0;xt<ve;xt++)for(ft=0;ft<K;ft++)dt[ze++]=qe[ft][xt];return dt}function U(z,j,H,I){let $;if(Array.isArray(z))$=v.fromArray(z);else if(typeof z=="string"){let q=j;if(!q){const le=v.rawSplit(z);q=h.getBestVersionForData(le,H)}$=v.fromString(z,q||40)}else throw new Error("Invalid data");const J=h.getBestVersionForData($,H);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(!j)j=J;else if(j<J)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+J+`.
`);const K=P(j,H,$),ie=e.getSymbolSize(j),fe=new r(ie);return C(fe,j),_(fe),F(fe,j),D(fe,H,0),j>=7&&S(fe,j),O(fe,K),isNaN(I)&&(I=d.getBestMask(fe,D.bind(null,fe,H))),d.applyMask(I,fe),D(fe,H,I),{modules:fe,version:j,errorCorrectionLevel:H,maskPattern:I,segments:$}}return Tc.create=function(j,H){if(typeof j>"u"||j==="")throw new Error("No input text");let I=t.M,$,J;return typeof H<"u"&&(I=t.from(H.errorCorrectionLevel,t.M),$=h.from(H.version),J=d.from(H.maskPattern),H.toSJISFunc&&e.setToSJISFunction(H.toSJISFunc)),U(j,$,I,J)},Tc}var Yc={},Xc={},Bg;function Ob(){return Bg||(Bg=1,(function(e){function t(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let r=s.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+s);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,d=r.scale||4;return{width:a,scale:a?4:d,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const a=e.getScale(r,i);return Math.floor((r+i.margin*2)*a)},e.qrToImageData=function(r,i,a){const d=i.modules.size,u=i.modules.data,g=e.getScale(d,a),h=Math.floor((d+a.margin*2)*g),m=a.margin*g,b=[a.color.light,a.color.dark];for(let v=0;v<h;v++)for(let C=0;C<h;C++){let _=(v*h+C)*4,F=a.color.light;if(v>=m&&C>=m&&v<h-m&&C<h-m){const S=Math.floor((v-m)/g),D=Math.floor((C-m)/g);F=b[u[S*d+D]?1:0]}r[_++]=F.r,r[_++]=F.g,r[_++]=F.b,r[_]=F.a}}})(Xc)),Xc}var _g;function WS(){return _g||(_g=1,(function(e){const t=Ob();function s(i,a,d){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=d,a.width=d,a.style.height=d+"px",a.style.width=d+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,d,u){let g=u,h=d;typeof g>"u"&&(!d||!d.getContext)&&(g=d,d=void 0),d||(h=r()),g=t.getOptions(g);const m=t.getImageWidth(a.modules.size,g),b=h.getContext("2d"),v=b.createImageData(m,m);return t.qrToImageData(v.data,a,g),s(b,h,m),b.putImageData(v,0,0),h},e.renderToDataURL=function(a,d,u){let g=u;typeof g>"u"&&(!d||!d.getContext)&&(g=d,d=void 0),g||(g={});const h=e.render(a,d,g),m=g.type||"image/png",b=g.rendererOpts||{};return h.toDataURL(m,b.quality)}})(Yc)),Yc}var Jc={},Dg;function QS(){if(Dg)return Jc;Dg=1;const e=Ob();function t(i,a){const d=i.a/255,u=a+'="'+i.hex+'"';return d<1?u+" "+a+'-opacity="'+d.toFixed(2).slice(1)+'"':u}function s(i,a,d){let u=i+a;return typeof d<"u"&&(u+=" "+d),u}function r(i,a,d){let u="",g=0,h=!1,m=0;for(let b=0;b<i.length;b++){const v=Math.floor(b%a),C=Math.floor(b/a);!v&&!h&&(h=!0),i[b]?(m++,b>0&&v>0&&i[b-1]||(u+=h?s("M",v+d,.5+C+d):s("m",g,0),g=0,h=!1),v+1<a&&i[b+1]||(u+=s("h",m),m=0)):g++}return u}return Jc.render=function(a,d,u){const g=e.getOptions(d),h=a.modules.size,m=a.modules.data,b=h+g.margin*2,v=g.color.light.a?"<path "+t(g.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",C="<path "+t(g.color.dark,"stroke")+' d="'+r(m,h,g.margin)+'"/>',_='viewBox="0 0 '+b+" "+b+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+_+' shape-rendering="crispEdges">'+v+C+`</svg>
`;return typeof u=="function"&&u(null,S),S},Jc}var Sg;function GS(){if(Sg)return Ei;Sg=1;const e=DS(),t=qS(),s=WS(),r=QS();function i(a,d,u,g,h){const m=[].slice.call(arguments,1),b=m.length,v=typeof m[b-1]=="function";if(!v&&!e())throw new Error("Callback required as last argument");if(v){if(b<2)throw new Error("Too few arguments provided");b===2?(h=u,u=d,d=g=void 0):b===3&&(d.getContext&&typeof h>"u"?(h=g,g=void 0):(h=g,g=u,u=d,d=void 0))}else{if(b<1)throw new Error("Too few arguments provided");return b===1?(u=d,d=g=void 0):b===2&&!d.getContext&&(g=u,u=d,d=void 0),new Promise(function(C,_){try{const F=t.create(u,g);C(a(F,d,g))}catch(F){_(F)}})}try{const C=t.create(u,g);h(null,a(C,d,g))}catch(C){h(C)}}return Ei.create=t.create,Ei.toCanvas=i.bind(null,s.render),Ei.toDataURL=i.bind(null,s.renderToDataURL),Ei.toString=i.bind(null,function(a,d,u){return r.render(a,u)}),Ei}var KS=GS();const Qo=Ex(KS),YS={class:"min-h-screen bg-gray-50 p-6"},XS={class:"mb-6"},JS={key:0,class:"mb-4 space-y-2"},ZS=["onClick"],eF={class:"flex items-center space-x-2"},tF={key:0,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},sF={key:1,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},nF={key:2,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rF=["onClick"],oF={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[80vh] overflow-hidden"},iF={class:"p-6"},aF={class:"flex justify-between items-center mb-6"},lF={class:"text-xl font-bold text-red-600 flex items-center gap-2"},dF={class:"overflow-y-auto max-h-[60vh]"},cF={class:"min-w-full divide-y divide-gray-200"},uF={class:"bg-white divide-y divide-gray-200"},xF={class:"px-4 py-3 text-sm text-gray-900"},fF={class:"px-4 py-3 text-sm text-gray-900"},hF={class:"px-4 py-3 text-sm text-gray-900"},gF={class:"px-4 py-3 text-sm"},pF={class:"px-4 py-3 text-sm text-gray-900"},mF={class:"px-4 py-3 text-sm"},bF={class:"flex flex-col gap-1"},yF={key:0,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},vF={key:1,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},wF={class:"px-4 py-3"},EF={key:2,class:"mb-6"},CF={class:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg shadow-lg p-6 text-white card-dashboard"},AF={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4"},kF={class:"flex items-start md:items-center space-x-4"},BF={class:"min-w-0"},_F={class:"text-xl md:text-2xl font-bold mb-1 break-words"},DF=["disabled"],SF={class:"mt-4 pt-4 border-t border-white/20"},FF={class:"flex items-center justify-between mb-3"},TF={class:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto"},MF=["value"],IF={class:"flex-1 text-sm"},PF={class:"font-semibold flex items-center gap-2"},RF={key:0,class:"px-1.5 py-0.5 bg-orange-600 text-white text-[9px] font-bold rounded"},OF={class:"text-red-100 text-xs mt-0.5"},NF={key:0,class:"text-orange-200 text-[10px] mt-1"},$F={key:0,class:"text-xs text-red-100 mt-2"},LF={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},jF={class:"flex flex-wrap gap-4 items-center justify-between"},UF={class:"flex flex-wrap gap-4 items-center flex-1"},HF={class:"relative"},zF=["value"],VF={class:"hidden md:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},qF={class:"overflow-x-auto"},WF={class:"w-full"},QF={class:"bg-gray-50"},GF=["onClick"],KF={class:"flex items-center space-x-1"},YF={class:"bg-white divide-y divide-gray-200"},XF=["onClick"],JF={class:"px-4 py-3 whitespace-nowrap"},ZF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},eT={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900"},tT={class:"px-4 py-3 text-sm text-gray-900"},sT={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},nT={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},rT={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},oT={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},iT={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},aT={class:"px-4 py-3 whitespace-nowrap"},lT={class:"px-4 py-3 whitespace-nowrap text-sm space-x-2 flex items-center"},dT=["onClick"],cT=["onClick"],uT={key:0,class:"text-center py-12"},xT={class:"md:hidden space-y-4"},fT=["onClick"],hT={class:"flex justify-between items-start mb-3"},gT={class:"mb-3"},pT={class:"font-bold text-gray-900 text-base mb-1"},mT={class:"text-sm text-gray-500 font-mono"},bT={class:"grid grid-cols-2 gap-y-2 gap-x-4 text-sm text-gray-600 mb-4 bg-gray-50 p-2 rounded"},yT={class:"font-medium text-gray-900"},vT={class:"font-medium text-gray-900"},wT={class:"col-span-2"},ET={class:"flex justify-end gap-2 border-t pt-3"},CT=["onClick"],AT={key:0,class:"text-center py-8 bg-white rounded-lg shadow-sm border border-gray-200"},kT={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]"},BT={class:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-screen overflow-y-auto"},_T={class:"bg-gray-50 rounded-lg p-4 mb-6"},DT={class:"grid grid-cols-2 gap-4 text-sm"},ST={class:"ml-2 font-medium text-gray-900"},FT={class:"ml-2 font-medium text-gray-900"},TT={class:"ml-2 font-medium text-gray-900"},MT={class:"ml-2 font-medium text-blue-600"},IT={class:"ml-2 font-medium text-gray-900"},PT={class:"space-y-4"},RT={class:"flex items-center space-x-2"},OT=["max"],NT={class:"text-gray-600"},$T={key:0,class:"text-red-500 text-xs mt-1"},LT={label:"Standard Storage"},jT=["value"],UT={label:"Hazardous Storage"},HT=["value"],zT={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},VT={class:"space-y-1 text-sm text-blue-800"},qT={class:"flex justify-between"},WT={class:"font-medium"},QT={class:"flex justify-between"},GT={class:"font-medium"},KT={class:"flex justify-between"},YT={class:"font-medium"},XT={class:"flex justify-between"},JT={class:"flex gap-3 justify-end mt-6 pt-6 border-t border-gray-200"},ZT=["disabled"],eM={class:"h-full flex flex-col"},tM={class:"flex-1 overflow-y-auto"},sM={class:"p-6 space-y-6"},nM={class:"space-y-2 text-sm"},rM={class:"flex justify-between"},oM={class:"flex justify-between"},iM={class:"font-medium text-gray-900"},aM={class:"flex justify-between"},lM={class:"font-medium text-gray-900 text-right"},dM={class:"flex justify-between"},cM={class:"font-medium text-gray-900"},uM={class:"flex justify-between"},xM={class:"font-medium text-gray-900"},fM={class:"flex justify-between"},hM={class:"font-medium text-gray-900"},gM={class:"flex justify-between"},pM={class:"flex justify-between"},mM={class:"bg-gray-50 rounded-lg p-4 text-center"},bM={class:"w-32 h-32 bg-white mx-auto mb-2 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg overflow-hidden"},yM=["src"],vM={key:1,class:"text-xs text-gray-400"},wM={class:"text-xs text-gray-500 mb-2"},EM={class:"mt-3 space-y-1 text-sm"},CM={class:"flex justify-between"},AM={class:"text-blue-600 font-medium"},kM={class:"flex justify-between"},BM={class:"text-blue-600 font-medium"},_M={class:"flex justify-between"},DM={class:"text-blue-600 font-medium"},SM={key:0,class:"space-y-3"},FM={class:"flex-1 text-sm"},TM={class:"flex justify-between items-start"},MM={class:"text-gray-900 font-medium"},IM={class:"text-gray-500 text-xs"},PM={class:"text-gray-600 text-xs mt-1"},RM={class:"text-gray-500 text-xs"},OM={key:1,class:"text-sm text-gray-500 italic p-3 bg-gray-50 rounded-lg"},NM={key:3,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[10000]"},$M={class:"bg-white rounded-lg p-6 w-full max-w-sm"},LM={class:"flex justify-between items-center mb-6 border-b pb-4"},jM={class:"text-xl font-semibold text-gray-900"},UM={class:"text-center space-y-4"},HM={id:"qr-code-to-print",class:"p-4 border border-gray-200 rounded-lg inline-block"},zM={class:"w-48 h-48 bg-white mx-auto flex items-center justify-center overflow-hidden"},VM=["src"],qM={key:1,class:"text-xs text-gray-600"},WM={class:"text-sm font-medium text-gray-700"},QM={class:"text-xs text-gray-500"},GM={class:"mt-6 flex justify-between gap-3"},KM={key:4,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn"},YM={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-slideUp"},XM={class:"p-6"},JM={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},ZM={class:"text-sm text-red-800 whitespace-pre-line leading-relaxed"},eI={key:5,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},tI={class:"bg-white rounded-lg max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto"},sI={class:"p-6"},nI={key:0,class:"space-y-4 mb-6"},rI={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},oI={class:"grid grid-cols-2 gap-3 text-sm"},iI={class:"bg-white rounded p-3 border border-green-200"},aI={class:"text-green-700 text-2xl font-bold"},lI={class:"bg-white rounded p-3 border border-orange-200"},dI={class:"text-orange-700 text-2xl font-bold"},cI={class:"bg-white rounded p-3 border border-red-200"},uI={class:"text-red-700 text-2xl font-bold"},xI={key:0,class:"bg-white rounded p-3 border border-yellow-200"},fI={class:"text-yellow-700 text-2xl font-bold"},hI={class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4"},gI={class:"flex items-center justify-between mb-2"},pI={class:"text-2xl font-bold text-indigo-700"},mI={class:"flex items-center justify-between text-xs text-indigo-700"},bI={class:"font-semibold"},yI={key:0,class:"bg-yellow-50 border border-yellow-300 rounded-lg p-3"},vI={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},wI=["disabled"],EI={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},CI={key:1,class:"animate-spin h-5 w-5 mr-2 text-white",fill:"none",viewBox:"0 0 24 24"},AI={key:6,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[10000]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},kI={class:"bg-white rounded-lg p-8 max-w-md mx-4 w-full"},BI={class:"mb-4"},_I={class:"flex justify-between text-sm text-gray-600 mb-2"},DI={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},SI={class:"text-center text-sm text-gray-700"},FI={class:"font-medium"},TI=rr({__name:"Dashboard",props:{materialItems:{},alerts:{}},setup(e){const t=de(""),s=e;de(!1);const r=de(""),i=de(""),a=de(""),d=de(""),u=de("kode"),g=de("asc"),h=de(null),m=de(!1),b=de(!1),v=de(!1),C=de(null),_=de([...s.alerts]),F=de("default"),S=de(!1),D=de(null),O=de(!1),P=de(!1),B=de(0),U=de(""),z=de([]);Hs(F,me=>{me==="newest"?(u.value="entry_date",g.value="desc"):me==="oldest"?(u.value="entry_date",g.value="asc"):(u.value="kode",g.value="asc")});const j=de({material:null,qty:0,destinationBin:"",reason:"",notes:""}),H=de([]);gn(async()=>{try{const me=await Rt.get("/master-data/bins");H.value=me.data}catch(me){console.error("Error fetching bin locations:",me)}});const I=[{key:"type",label:"kategori"},{key:"subkategori",label:"Sub Kategori"},{key:"kode",label:"Kode"},{key:"nama",label:"Nama Material"},{key:"lot",label:"Serial/Lot"},{key:"lokasi",label:"Lokasi"},{key:"qty",label:"Qty"},{key:"uom",label:"UoM"},{key:"expiredDate",label:"Expired Date"},{key:"status",label:"Status"}],$=Ze(()=>[...new Set(s.materialItems.map(me=>me.lokasi))].sort()),J=Ze(()=>{const me=j.value.material?.lokasi;return{standard:H.value.filter(te=>te.type==="STD"&&te.code!==me),hazardous:H.value.filter(te=>te.type==="HAZ"&&te.code!==me)}}),K=Ze(()=>H.value.find(me=>me.code===j.value.destinationBin)),ie=Ze(()=>j.value.material!==null&&j.value.qty>0&&j.value.qty<=(j.value.material?.qty||0)&&j.value.destinationBin!==""&&j.value.reason!==""),fe=Ze(()=>{let me=s.materialItems;if(t.value==="putAwayRequired")me=me.filter(te=>te.requiresPutAway);else if(t.value==="requiresQC")me=me.filter(te=>te.requiresQC);else if(t.value==="expiringSoon"){const te=new Date,ye=new Date;ye.setDate(te.getDate()+30),me=me.filter(ct=>{const $t=new Date(ct.expiredDate);return $t>te&&$t<=ye})}if(r.value){const te=r.value.toLowerCase();me=me.filter(ye=>ye.kode.toLowerCase().includes(te)||ye.nama.toLowerCase().includes(te)||ye.lot.toLowerCase().includes(te))}return i.value&&(me=me.filter(te=>te.qr_type===i.value)),a.value&&(me=me.filter(te=>te.type===a.value)),d.value&&(me=me.filter(te=>te.lokasi===d.value)),me.sort((te,ye)=>{let ct=te[u.value],$t=ye[u.value];return typeof ct=="string"&&(ct=ct.toLowerCase()),typeof $t=="string"&&($t=$t.toLowerCase()),ct<$t?g.value==="asc"?-1:1:ct>$t?g.value==="asc"?1:-1:0}),me}),q=Ze(()=>{const me=new Date,te=new Date;return te.setDate(me.getDate()+30),s.materialItems.filter(ye=>new Date(ye.expiredDate)<=te)}),le=Ze(()=>q.value.length),he=de([]),ve=de(!1),Ie=de(""),Ue=de(!1),be=()=>{he.value.length===q.value.length?he.value=[]:he.value=q.value.map(me=>ot(me)).filter(me=>me!==null)},qe=me=>["QRT-HALAL","QRT-NON HALAL","QRT-HALAL-AC"].includes(me),ot=me=>{const te=me.id.match(/INV-(\d+)/);return te?te[1]:null},Ge=()=>{ve.value=!1,Ie.value=""},dt=()=>{if(he.value.length===0){Ie.value="Pilih minimal 1 material untuk Re-QC",ve.value=!0;return}console.log(" Initiating Re-QC for:",he.value),Bt.post("/dashboard/reqc/initiate",{inventory_stock_ids:he.value},{preserveState:!0,preserveScroll:!0,onStart:()=>{console.log(" Re-QC request started...")},onSuccess:me=>{console.log(" Re-QC initiated successfully",me)},onError:me=>{if(console.error(" Re-QC error:",me),me.message)Ie.value=me.message;else{const te=Object.values(me).flat().join(`
`);Ie.value=te||"Terjadi kesalahan. Silakan coba lagi."}ve.value=!0},onFinish:()=>{console.log(" Re-QC request finished")}})},ze=me=>{t.value===me?t.value="":(t.value=me,i.value="",a.value="",d.value="",r.value="")},xt=()=>{Ue.value=!0},ft=()=>{Ue.value=!1},yt=me=>{u.value===me?g.value=g.value==="asc"?"desc":"asc":(u.value=me,g.value="asc")},vt=me=>{const te=new Date,ye=new Date(me.expiredDate),ct=Math.ceil((ye.getTime()-te.getTime())/(1e3*60*60*24));return ct<0?"bg-red-50 dark:bg-red-900/20":ct<=30?"bg-yellow-50 dark:bg-yellow-900/20":""},it=me=>{const te=new Date,ye=new Date(me),ct=Math.ceil((ye.getTime()-te.getTime())/(1e3*60*60*24));return ct<0?"text-red-600 dark:text-red-400 font-semibold":ct<=30?"text-yellow-600 dark:text-yellow-400 font-semibold":"text-gray-900"},Et=me=>({"Waiting QC":"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900 dark:text-yellow-200",Karantina:"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200",Released:"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200",Rejected:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200","In Production":"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900 dark:text-blue-200",Returned:"bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900 dark:text-purple-200",KARANTINA:"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200",RELEASED:"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200",HOLD:"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200",REJECTED:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200",REJECT:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200"})[me]||"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-200",ne=me=>({error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"})[me]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",ge=me=>{if(!me)return"";const te=me.currentItems/me.maxItems*100;return te>=90?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":te>=70?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Te=me=>{if(!me)return"";const te=me.currentItems/me.maxItems*100;return te>=90?"Hampir Penuh":te>=70?"Cukup Terisi":"Tersedia"},He=me=>new Date(me).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),xe=me=>new Date(me).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),ee=me=>{const te=new Date,ye=new Date(me);return Math.ceil((ye.getTime()-te.getTime())/(1e3*60*60*24))},N=me=>{const te=ee(me);return te<0?"KADALUARSA":te===0?"EXPIRED HARI INI":te===1?"1 HARI LAGI":`${te} HARI LAGI`},E=me=>{const te=ee(me);return te<0?"bg-red-600 text-white":te===0?"bg-red-500 text-white":te<=7?"bg-orange-500 text-white":te<=30?"bg-yellow-500 text-gray-900":"bg-green-500 text-white"},M=me=>{const te={QC_SAMPLING:"Pengambilan Sampel",STATUS_CHANGE:"Perubahan Status",RESERVATION:"Material Dipesan",PICKING:"Pengambilan Material",PUTAWAY:"Penyimpanan Material",BIN_TRANSFER:"Pemindahan Lokasi",RETURN:"Pengembalian",ADJUSTMENT:"Penyesuaian Stok",RECEIVING:"Penerimaan Barang",GR:"Penerimaan Barang",GOODS_RECEIPT:"Material Masuk",INCOMING:"Barang Datang"};if(te[me])return te[me];for(const[ye,ct]of Object.entries(te))if(me.toUpperCase().includes(ye))return ct;return me.replace(/_/g," ").replace(/\b\w/g,ye=>ye.toUpperCase())},ae=(me,te)=>te?te.replace(/QC_SAMPLING/gi,"pengambilan sampel untuk pemeriksaan kualitas").replace(/STATUS_CHANGE/gi,"perubahan status").replace(/RESERVATION/gi,"pemesanan material").replace(/PICKING/gi,"pengambilan material dari gudang").replace(/PUTAWAY/gi,"penyimpanan ke lokasi").replace(/BIN_TRANSFER/gi,"perpindahan antar lokasi").replace(/RETURN/gi,"pengembalian").replace(/ADJUSTMENT/gi,"penyesuaian jumlah").replace(/from bin/gi,"dari lokasi").replace(/to bin/gi,"ke lokasi").replace(/bin/gi,"lokasi").replace(/qty/gi,"jumlah").replace(/quantity/gi,"jumlah").replace(/stock/gi,"stok").replace(/inventory/gi,"persediaan").replace(/warehouse/gi,"gudang").replace(/material/gi,"barang").replace(/item/gi,"barang").replace(/released/gi,"dilepas").replace(/rejected/gi,"ditolak").replace(/karantina/gi,"dalam pemeriksaan").replace(/sample/gi,"sampel"):"",Fe=async me=>{const te=me.status.toUpperCase(),ye=`${me.kode}|${te}|${me.lot}|${me.qty}|${me.expiredDate}`;me.qr_data=ye;try{const ct=await Qo.toDataURL(ye,{width:200,margin:1,errorCorrectionLevel:"M"});me.qr_image_url=ct}catch(ct){console.error("Error generating QR:",ct)}},Qe=async me=>{h.value=me,m.value=!0,await Fe(me)},Je=()=>{m.value=!1,setTimeout(()=>{h.value=null},300)},nt=me=>{const te=_.value.findIndex(ye=>ye.id===me);te>-1&&_.value.splice(te,1)},bt=async me=>{C.value=me,v.value=!0,await Fe(me)},Ct=()=>{v.value=!1,C.value=null},ht=me=>{console.log(`Mempersiapkan cetak QR Code untuk: ${me.kode}-${me.lot} (Tipe: ${me.qr_type})`);const te=document.getElementById("qr-code-to-print")?.innerHTML;if(te){const ye=window.open("","_blank");if(ye){ye.document.write("<html><head><title>Cetak QR Code</title>"),ye.document.write("<style>"),ye.document.write("body { font-family: sans-serif; margin: 0; padding: 10mm; }"),ye.document.write("#qr-content { display: flex; flex-direction: column; align-items: center; text-align: center; border: 2px solid #3b82f6; padding: 2px; width: fit-content; margin: 0 auto; }"),ye.document.write("h4 { margin-bottom: 5px; font-size: 14pt; }"),ye.document.write("p { margin: 0; font-size: 8pt; }"),ye.document.write(".qr-area { margin-bottom: 10px; }"),ye.document.write("@media print { body { padding: 0; } #qr-content { border: none; padding: 0; } }"),ye.document.write("</style>"),ye.document.write("</head><body>");let ct=me.status==="Karantina"?"QR KARANTINA":"QR RELEASED";ye.document.write('<div id="qr-content">'),ye.document.write(`<h4>${ct}</h4>`),ye.document.write('<div class="qr-area">'),ye.document.write(te),ye.document.write("</div>"),ye.document.write(`<p>Kode Material: ${me.kode}</p>`),ye.document.write(`<p>Lot/Serial: ${me.lot}</p>`),ye.document.write(`<p>Qty: ${me.qty} ${me.uom}</p>`),ye.document.write(`<p>Lokasi: ${me.lokasi}</p>`),ye.document.write("</div>"),ye.document.write("<script>window.onload = function() { window.print(); window.close(); }<\/script>"),ye.document.write("</body></html>"),ye.document.close()}}else alert("Gagal mengambil konten QR Code untuk dicetak.")},Qt=()=>{b.value=!1,j.value={material:null,qty:0,destinationBin:"",reason:"",notes:""}},jt=()=>{if(!ie.value||!j.value.material)return;const me=`TO-B2B-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,te={toNumber:me,type:"Bin to Bin Transfer",status:"Pending Approval",material:j.value.material,sourceBin:j.value.material.lokasi,destinationBin:j.value.destinationBin,qty:j.value.qty,reason:j.value.reason,notes:j.value.notes,createdBy:"Admin User",createdAt:new Date().toISOString(),approvalRequired:!0};console.log("Transfer Order Created:",te),alert(` Transfer Order ${me} berhasil dibuat!

Material: ${j.value.material.kode} - ${j.value.material.nama}
Dari: ${j.value.material.lokasi}
Ke: ${j.value.destinationBin}
Qty: ${j.value.qty} ${j.value.material.uom}

Status: Menunggu approval dari Manager/Admin`),Qt()},Ht=()=>{const me=JSON.stringify(fe.value,null,2),te=new Blob([me],{type:"application/json"}),ye=URL.createObjectURL(te),ct=document.createElement("a");ct.href=ye,ct.download=`wms_central_data_${new Date().toISOString().split("T")[0]}.json`,ct.click(),URL.revokeObjectURL(ye)},Ft=me=>{let te="";me.qr_type==="Karantina"?(te="QR KARANTINA (JANGAN DIGUNAKAN)",alert(`Print QR KARANTINA untuk ${me.kode} - ${me.lot}
Data QR: ${me.qr_data}`)):(te="QR RELEASED (SIAP PRODUKSI)",alert(`Print QR RELEASED untuk ${me.kode} - ${me.lot}
Data QR: ${me.qr_data}`)),console.log(`Logika cetak QR Code: ${te}`)},De=async()=>{try{const me=await Rt.get("/api/inventory/stats");me.data.success?(D.value=me.data.data,S.value=!0):alert("Gagal mengambil statistik inventory")}catch(me){console.error("Error fetching inventory stats:",me),alert("Terjadi kesalahan saat mengambil statistik inventory")}},Y=()=>{S.value=!1,D.value=null},G=async()=>{if(D.value){O.value=!0,S.value=!1,P.value=!0,B.value=0,z.value=[];try{const me=D.value.total_qr_codes;let te=0;const ye=100;let ct=[];for(U.value=`Fetching data... 0 / ${me} QR codes`;;){const $t=await Rt.get("/api/inventory/print-all",{params:{offset:te,limit:ye}});if(!$t.data.success)throw new Error($t.data.message||"Failed to fetch materials");const Is=$t.data.data;ct=[...ct,...Is];const Ut=Math.min(50,Math.floor(ct.length/me*50));if(B.value=Ut,U.value=`Fetching data... ${ct.length} / ${me} QR codes`,!$t.data.pagination.has_more)break;te+=ye}z.value=ct,U.value="Data fetched successfully. Generating QR codes...",await Ce(ct)}catch(me){console.error("Error in proceedToPrintAll:",me),alert(`Error: ${me.message||"Terjadi kesalahan saat memproses data"}`)}finally{O.value=!1,P.value=!1,B.value=0,U.value=""}}},Ce=async me=>{const ye=me.length;let ct="";const $t=50;for(let Ut=0;Ut<ye;Ut+=$t){const cs=Math.min(Ut+$t,ye),Js=50+Math.floor((Ut+1)/ye*50);B.value=Js,U.value=`Generating QR codes... ${Ut+1} / ${ye}`;for(let _e=Ut;_e<cs;_e++){const re=me[_e];try{const pe=await Qo.toDataURL(re.qr_content,{width:150,margin:1,errorCorrectionLevel:"M"}),ut=pt(re,pe);_e%16===0&&(_e>0&&(ct+="</div>"),ct+='<div class="print-page">'),ct+=ut}catch(pe){console.error(`Error generating QR for ${re.kode_item}:`,pe)}}await new Promise(_e=>setTimeout(_e,10))}ye>0&&(ct+="</div>"),U.value="Opening print window...";const Is=window.open("","_blank");if(!Is){alert("Gagal membuka window print. Mohon izinkan popup.");return}Is.document.write(At(ct)),Is.document.close(),Is.focus(),setTimeout(()=>{Is.print()},500)},pt=(me,te)=>`
    <div class="label-item">
      <div class="label-container">
        <div class="qr-wrapper">
          <img src="${te}" class="qr-image" alt="QR Code"/>
        </div>
        <div class="material-name">
          ${me.nama_material}
        </div>
      </div>
    </div>
  `,At=me=>`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Print All QR Codes</title>
      <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; }
        
        .print-page {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          grid-template-rows: repeat(4, 1fr);
          gap: 8px;
          padding: 8px;
          page-break-after: always;
          width: 210mm;
          height: 297mm;
        }
        
        .print-page:last-child {
          page-break-after: avoid;
        }
        
        .label-item {
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .label-container {
          width: 50mm;
          height: 68mm;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 8px;
        }
        
        .qr-wrapper {
          margin-bottom: 8px;
        }
        
        .qr-image {
          width: 100px;
          height: 100px;
          display: block;
        }
        
        .material-name {
          text-align: center;
          font-size: 8px;
          font-weight: 600;
          color: #000;
          line-height: 1.2;
          max-width: 100%;
          word-wrap: break-word;
        }
        
        @media print {
          .print-page {
            page-break-after: always;
            margin: 0;
          }
          .print-page:last-child {
            page-break-after: avoid;
          }
          body {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
        }
      </style>
    </head>
    <body>
      ${me}
    </body>
    </html>
  `,zt=(me,te)=>{if(me==null)return"0";const ye=parseFloat(me);return isNaN(ye)?"0":te==="Packaging"?Math.ceil(ye).toString():ye===Math.floor(ye)?ye.toString():ye.toFixed(6).replace(/\.?0+$/,"")};return(me,te)=>(T(),Dt(pn,{pageTitle:"Dashboard",pageDescription:"Ringkasan sistem warehouse management"},{default:_t(()=>[n("div",YS,[n("div",XS,[te[36]||(te[36]=n("div",{class:"flex justify-between items-center mb-4"},[n("div",null,[n("h1",{class:"text-3xl font-bold text-gray-900"},"Central Data WMS"),n("p",{class:"text-gray-600 mt-1"},"Kelola semua material di gudang")])],-1)),_.value.length>0?(T(),R("div",JS,[(T(!0),R(Ye,null,at(_.value,ye=>(T(),R("div",{key:ye.id,class:Se([[ne(ye.type),{"ring-2 ring-blue-500 ring-offset-2":t.value==="putAwayRequired"&&ye.id==="0","ring-2 ring-orange-500 ring-offset-2":t.value==="requiresQC"&&ye.id==="3","ring-2 ring-yellow-500 ring-offset-2":t.value==="expiringSoon"&&ye.id==="1","cursor-pointer hover:shadow-md transition duration-150 ease-in-out":["0","3","1","2"].includes(ye.id)}],"p-3 rounded-lg flex items-center justify-between"]),onClick:ct=>ye.id==="0"?ze("putAwayRequired"):ye.id==="3"?ze("requiresQC"):ye.id==="1"?ze("expiringSoon"):ye.id==="2"?xt():null},[n("div",eF,[ye.id==="0"?(T(),R("svg",tF,[...te[14]||(te[14]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])])):se("",!0),ye.id==="3"?(T(),R("svg",sF,[...te[15]||(te[15]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.276a2 2 0 010 2.553l-3.52 3.52c-.144.144-.33.225-.53.225H12V7h3.707l-3.52-3.52a2 2 0 012.553 0l3.52 3.52z"},null,-1)])])):se("",!0),ye.id==="1"?(T(),R("svg",nF,[...te[16]||(te[16]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):se("",!0),n("span",null,A(ye.message),1)]),n("button",{onClick:Os(ct=>nt(ye.id),["stop"]),class:"text-current opacity-70 hover:opacity-100 p-1"},[...te[17]||(te[17]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,rF)],10,ZS))),128))])):se("",!0),Ue.value?(T(),R("div",{key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]",onClick:Os(ft,["self"])},[n("div",oF,[n("div",iF,[n("div",aF,[n("h3",lF,[te[18]||(te[18]=n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),Oe(" Material Expired / Near Expiry ("+A(le.value)+") ",1)]),n("button",{onClick:ft,class:"text-gray-400 hover:text-gray-600"},[...te[19]||(te[19]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",dF,[n("table",cF,[te[22]||(te[22]=n("thead",{class:"bg-gray-50 sticky top-0"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lokasi"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Expired Date"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),n("tbody",uF,[(T(!0),R(Ye,null,at(q.value,ye=>(T(),R("tr",{key:ye.id,class:"hover:bg-gray-50"},[n("td",xF,A(ye.kode),1),n("td",fF,A(ye.nama),1),n("td",hF,A(ye.lot),1),n("td",gF,[n("span",{class:Se(qe(ye.lokasi)?"text-blue-600 font-medium":"text-orange-600 font-medium")},A(ye.lokasi),3)]),n("td",pF,A(ye.qty)+" "+A(ye.uom),1),n("td",mF,[n("div",bF,[n("span",{class:Se(it(ye.expiredDate))},A(He(ye.expiredDate)),3),n("span",{class:Se([E(ye.expiredDate),"px-2 py-0.5 text-xs font-semibold rounded-full inline-flex items-center gap-1 w-fit"])},[ee(ye.expiredDate)<0?(T(),R("svg",yF,[...te[20]||(te[20]=[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])):(T(),R("svg",vF,[...te[21]||(te[21]=[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},null,-1)])])),Oe(" "+A(N(ye.expiredDate)),1)],2)])]),n("td",wF,[n("span",{class:Se([Et(ye.status),"px-2 py-1 text-xs font-semibold rounded-full"])},A(ye.status),3)])]))),128))])])]),n("div",{class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},[n("button",{onClick:ft,class:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Tutup ")])])])])):se("",!0),le.value>0?(T(),R("div",EF,[n("form",{onSubmit:Os(dt,["prevent"]),method:"POST"},[n("div",CF,[n("div",AF,[n("div",kF,[te[25]||(te[25]=n("div",{class:"relative flex-shrink-0"},[n("div",{class:"absolute inset-0 bg-white/20 rounded-full animate-ping"}),n("div",{class:"relative bg-white/30 p-4 rounded-full"},[n("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])])],-1)),n("div",BF,[n("h3",_F,A(le.value)+" Material Expired / Near Expiry!",1),te[23]||(te[23]=n("p",{class:"text-red-100 text-sm leading-relaxed break-words"},"Pilih material yang sudah/hampir expired (H-30) di bin QRT untuk proses Re-QC",-1)),te[24]||(te[24]=n("p",{class:"text-red-100 text-xs mt-1 opacity-80"},"Bin QRT: QRT-HALAL, QRT-NON HALAL, QRT-HALAL-AC",-1))])]),n("button",{type:"submit",disabled:he.value.length===0,class:Se([he.value.length>0?"bg-white hover:bg-red-50":"bg-white/50 cursor-not-allowed","text-red-600 px-6 py-3 rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center justify-center space-x-2 group w-full md:w-auto flex-shrink-0"])},[n("span",null,"Proses Re-QC ("+A(he.value.length)+")",1),te[26]||(te[26]=n("svg",{class:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1))],10,DF)]),n("div",SF,[n("div",FF,[te[27]||(te[27]=n("p",{class:"text-sm text-red-100"},"Pilih material untuk Re-QC:",-1)),n("button",{type:"button",onClick:be,class:"text-xs text-white hover:text-red-100 underline"},A(he.value.length===q.value.length?"Batalkan Semua":"Pilih Semua"),1)]),n("div",TF,[(T(!0),R(Ye,null,at(q.value,ye=>(T(),R("label",{key:ye.id,class:Se(["flex items-start gap-3 p-3 rounded cursor-pointer transition-colors",qe(ye.lokasi)?"bg-white/10 hover:bg-white/20":"bg-orange-500/50 hover:bg-orange-500/60"])},[we(n("input",{type:"checkbox",value:ot(ye),"onUpdate:modelValue":te[0]||(te[0]=ct=>he.value=ct),class:"mt-1 w-4 h-4 rounded"},null,8,MF),[[Yn,he.value]]),n("div",IF,[n("div",PF,[Oe(A(ye.nama)+" ",1),qe(ye.lokasi)?se("",!0):(T(),R("span",RF," Belum QRT "))]),n("div",OF," Exp: "+A(He(ye.expiredDate))+"  "+A(ye.lokasi)+"  "+A(ye.lot),1),qe(ye.lokasi)?se("",!0):(T(),R("div",NF,[...te[28]||(te[28]=[n("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-white"},"Bin-to-Bin dulu ",-1)])]))])],2))),128))]),le.value>10?(T(),R("p",$F," +"+A(le.value-10)+" material lainnya (scroll untuk lihat semua) ",1)):se("",!0)])])],32)])):se("",!0),n("div",LF,[n("div",jF,[n("div",UF,[n("div",HF,[te[29]||(te[29]=n("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),we(n("input",{"onUpdate:modelValue":te[1]||(te[1]=ye=>r.value=ye),type:"text",placeholder:"Cari kode, nama material, atau lot...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full md:w-80 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,r.value]])]),we(n("select",{"onUpdate:modelValue":te[2]||(te[2]=ye=>i.value=ye),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...te[30]||(te[30]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"KARANTINA"},"Karantina",-1),n("option",{value:"RELEASED"},"Released",-1),n("option",{value:"REJECTED"},"Rejected",-1)])],512),[[St,i.value]]),we(n("select",{"onUpdate:modelValue":te[3]||(te[3]=ye=>a.value=ye),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...te[31]||(te[31]=[n("option",{value:""},"Semua Tipe",-1),n("option",{value:"Raw Material"},"Raw Material",-1),n("option",{value:"Packaging"},"Packaging Material",-1)])],512),[[St,a.value]]),we(n("select",{"onUpdate:modelValue":te[4]||(te[4]=ye=>d.value=ye),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[te[32]||(te[32]=n("option",{value:""},"Semua Lokasi",-1)),(T(!0),R(Ye,null,at($.value,ye=>(T(),R("option",{key:ye,value:ye},A(ye),9,zF))),128))],512),[[St,d.value]]),we(n("select",{"onUpdate:modelValue":te[5]||(te[5]=ye=>F.value=ye),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...te[33]||(te[33]=[n("option",{value:"default"},"Default Sort (Kode)",-1),n("option",{value:"newest"},"Terbaru (Newest)",-1),n("option",{value:"oldest"},"Terlama (Oldest)",-1)])],512),[[St,F.value]])]),n("div",{class:"flex gap-2"},[n("button",{onClick:De,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2"},[...te[34]||(te[34]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),n("span",null,"Print All QR",-1)])]),n("button",{onClick:Ht,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2"},[...te[35]||(te[35]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),n("span",null,"Export",-1)])])])])])]),n("div",VF,[n("div",qF,[n("table",WF,[n("thead",QF,[n("tr",null,[(T(),R(Ye,null,at(I,ye=>n("th",{key:ye.key,onClick:ct=>yt(ye.key),class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"},[n("div",KF,[n("span",null,A(ye.label),1),u.value===ye.key?(T(),R("svg",{key:0,class:Se(["w-4 h-4",g.value==="asc"?"":"transform rotate-180"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...te[37]||(te[37]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2)):se("",!0)])],8,GF)),64)),te[38]||(te[38]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi",-1))])]),n("tbody",YF,[(T(!0),R(Ye,null,at(fe.value,ye=>(T(),R("tr",{key:ye.id,onClick:ct=>Qe(ye),class:Se([vt(ye),"hover:bg-gray-50 cursor-pointer transition-colors"])},[n("td",JF,[n("span",{class:Se([ye.type==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800","px-2 py-1 text-xs font-semibold rounded-full"])},A(ye.type),3)]),n("td",ZF,A(ye.subkategori||"-"),1),n("td",eT,A(ye.kode),1),n("td",tT,A(ye.nama),1),n("td",sT,A(ye.lot),1),n("td",nT,A(ye.lokasi),1),n("td",rT,A(zt(ye.qty,ye.type)),1),n("td",oT,A(ye.uom),1),n("td",iT,[n("span",{class:Se(it(ye.expiredDate))},A(He(ye.expiredDate)),3)]),n("td",aT,[n("span",{class:Se([Et(ye.qr_type),"px-2 py-1 text-xs font-semibold rounded-full border"])},A(ye.status),3)]),n("td",lT,[ye.requiresPutAway?(T(),R(Ye,{key:0},[n("button",{onClick:te[6]||(te[6]=Os(ct=>We(Bt).get("/transaction/putaway-transfer"),["stop"])),class:"px-2 py-1 text-xs font-semibold bg-indigo-500 text-white rounded hover:bg-indigo-700 transition-colors flex items-center space-x-1",title:"Put Away Cepat ke lokasi permanen"},[...te[39]||(te[39]=[n("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),n("span",null,"Put Away",-1)])]),n("button",{onClick:Os(ct=>bt(ye),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors ml-2",title:"Cetak/Lihat Detail QR"},[...te[40]||(te[40]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,dT)],64)):(T(),R("button",{key:1,onClick:Os(ct=>bt(ye),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors",title:"Cetak/Lihat Detail QR"},[...te[41]||(te[41]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,cT))])],10,XF))),128))])])]),fe.value.length===0?(T(),R("div",uT,[...te[42]||(te[42]=[n("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-4.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 009.586 13H7"})],-1),n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada data",-1),n("p",{class:"mt-1 text-sm text-gray-500"},"Data material tidak ditemukan atau filter terlalu spesifik",-1)])])):se("",!0)]),n("div",xT,[(T(!0),R(Ye,null,at(fe.value,ye=>(T(),R("div",{key:ye.id,onClick:ct=>Qe(ye),class:"bg-white rounded-lg shadow-sm p-4 border border-gray-200 active:scale-[0.98] transition-transform"},[n("div",hT,[n("span",{class:Se([ye.type==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800","px-2 py-1 text-xs font-semibold rounded-full"])},A(ye.type),3),n("span",{class:Se([Et(ye.qr_type),"px-2 py-1 text-xs font-semibold rounded-full border"])},A(ye.status),3)]),n("div",gT,[n("h4",pT,A(ye.nama),1),n("div",mT,A(ye.kode)+"  "+A(ye.lot),1)]),n("div",bT,[n("div",null,[te[43]||(te[43]=n("span",{class:"text-xs text-gray-500 block"},"Lokasi",-1)),n("span",yT,A(ye.lokasi),1)]),n("div",null,[te[44]||(te[44]=n("span",{class:"text-xs text-gray-500 block"},"Qty",-1)),n("span",vT,A(zt(ye.qty,ye.type))+" "+A(ye.uom),1)]),n("div",wT,[te[45]||(te[45]=n("span",{class:"text-xs text-gray-500 block"},"Expired",-1)),n("span",{class:Se(it(ye.expiredDate))},A(He(ye.expiredDate)),3)])]),n("div",ET,[ye.requiresPutAway?(T(),R("button",{key:0,onClick:te[7]||(te[7]=Os(ct=>We(Bt).get("/transaction/putaway-transfer"),["stop"])),class:"flex-1 px-3 py-2 text-xs font-semibold bg-indigo-500 text-white rounded hover:bg-indigo-700 transition-colors flex items-center justify-center gap-1"},[...te[46]||(te[46]=[n("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),Oe(" Put Away ",-1)])])):se("",!0),n("button",{onClick:Os(ct=>bt(ye),["stop"]),class:"px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors flex items-center gap-1"},[...te[47]||(te[47]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1),Oe(" QR Info ",-1)])],8,CT)])],8,fT))),128)),fe.value.length===0?(T(),R("div",AT,[...te[48]||(te[48]=[n("svg",{class:"mx-auto h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-4.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 009.586 13H7"})],-1),n("p",{class:"mt-2 text-sm text-gray-500"},"Tidak ada data ditemukan",-1)])])):se("",!0)]),b.value?(T(),R("div",kT,[n("div",BT,[n("div",{class:"flex justify-between items-center mb-6"},[te[50]||(te[50]=n("h3",{class:"text-xl font-semibold text-gray-900"},"Bin to Bin Transfer",-1)),n("button",{onClick:Qt,class:"text-gray-400 hover:text-gray-600"},[...te[49]||(te[49]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",_T,[te[56]||(te[56]=n("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),n("div",DT,[n("div",null,[te[51]||(te[51]=n("span",{class:"text-gray-600"},"Kode:",-1)),n("span",ST,A(j.value.material?.kode),1)]),n("div",null,[te[52]||(te[52]=n("span",{class:"text-gray-600"},"Nama:",-1)),n("span",FT,A(j.value.material?.nama),1)]),n("div",null,[te[53]||(te[53]=n("span",{class:"text-gray-600"},"Lot:",-1)),n("span",TT,A(j.value.material?.lot),1)]),n("div",null,[te[54]||(te[54]=n("span",{class:"text-gray-600"},"Lokasi Saat Ini:",-1)),n("span",MT,A(j.value.material?.lokasi),1)]),n("div",null,[te[55]||(te[55]=n("span",{class:"text-gray-600"},"Qty Tersedia:",-1)),n("span",IT,A(j.value.material?.qty)+" "+A(j.value.material?.uom),1)])])]),n("div",PT,[n("div",null,[te[57]||(te[57]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Oe(" Quantity Transfer "),n("span",{class:"text-red-500"},"*")],-1)),n("div",RT,[we(n("input",{"onUpdate:modelValue":te[8]||(te[8]=ye=>j.value.qty=ye),type:"number",max:j.value.material?.qty,min:"0",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan qty yang akan di-transfer"},null,8,OT),[[Ve,j.value.qty,void 0,{number:!0}]]),n("span",NT,A(j.value.material?.uom),1)]),j.value.qty>(j.value.material?.qty||0)?(T(),R("p",$T," Qty transfer melebihi qty tersedia! ")):se("",!0)]),n("div",null,[te[59]||(te[59]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Oe(" Bin Tujuan "),n("span",{class:"text-red-500"},"*")],-1)),we(n("select",{"onUpdate:modelValue":te[9]||(te[9]=ye=>j.value.destinationBin=ye),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[te[58]||(te[58]=n("option",{value:""},"-- Pilih Bin Tujuan --",-1)),n("optgroup",LT,[(T(!0),R(Ye,null,at(J.value.standard,ye=>(T(),R("option",{key:ye.code,value:ye.code},A(ye.code)+" - "+A(ye.zone)+" ("+A(ye.currentItems)+"/"+A(ye.maxItems)+" items) ",9,jT))),128))]),n("optgroup",UT,[(T(!0),R(Ye,null,at(J.value.hazardous,ye=>(T(),R("option",{key:ye.code,value:ye.code},A(ye.code)+" - "+A(ye.zone)+" ("+A(ye.currentItems)+"/"+A(ye.maxItems)+" items) ",9,HT))),128))])],512),[[St,j.value.destinationBin]])]),j.value.destinationBin?(T(),R("div",zT,[te[64]||(te[64]=n("h5",{class:"text-sm font-medium text-blue-900 mb-2"},"Detail Bin Tujuan",-1)),n("div",VT,[n("div",qT,[te[60]||(te[60]=n("span",null,"Kode Bin:",-1)),n("span",WT,A(K.value?.code),1)]),n("div",QT,[te[61]||(te[61]=n("span",null,"Zona:",-1)),n("span",GT,A(K.value?.zone),1)]),n("div",KT,[te[62]||(te[62]=n("span",null,"Kapasitas:",-1)),n("span",YT,A(K.value?.currentItems)+"/"+A(K.value?.maxItems)+" items",1)]),n("div",XT,[te[63]||(te[63]=n("span",null,"Status:",-1)),n("span",{class:Se([ge(K.value),"px-2 py-0.5 text-xs rounded-full"])},A(Te(K.value)),3)])])])):se("",!0),n("div",null,[te[66]||(te[66]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Oe(" Alasan Transfer "),n("span",{class:"text-red-500"},"*")],-1)),we(n("select",{"onUpdate:modelValue":te[10]||(te[10]=ye=>j.value.reason=ye),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 mb-2"},[...te[65]||(te[65]=[n("option",{value:""},"-- Pilih Alasan --",-1),n("option",{value:"optimization"},"Optimasi Ruang Gudang",-1),n("option",{value:"consolidation"},"Konsolidasi Material",-1),n("option",{value:"reorganization"},"Reorganisasi Zona",-1),n("option",{value:"safety"},"Alasan Keamanan",-1),n("option",{value:"quality"},"Segregasi Quality",-1),n("option",{value:"other"},"Lainnya",-1)])],512),[[St,j.value.reason]]),j.value.reason==="other"||j.value.reason?we((T(),R("textarea",{key:0,"onUpdate:modelValue":te[11]||(te[11]=ye=>j.value.notes=ye),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan..."},null,512)),[[Ve,j.value.notes]]):se("",!0)]),te[67]||(te[67]=n("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[n("div",{class:"flex items-start space-x-2"},[n("svg",{class:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),n("div",{class:"flex-1"},[n("h5",{class:"text-sm font-medium text-yellow-900"},"Persetujuan Manager"),n("p",{class:"text-xs text-yellow-800 mt-1"}," Transfer Order Bin to Bin akan dibuat dan memerlukan approval dari manager/admin sebelum dapat dieksekusi. ")])])],-1))]),n("div",JT,[n("button",{onClick:Qt,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),n("button",{onClick:jt,disabled:!ie.value,class:Se([ie.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-lg transition-colors flex items-center space-x-2"])},[...te[68]||(te[68]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),n("span",null,"Buat Transfer Order",-1)])],10,ZT)])])])):se("",!0),h.value?(T(),R("div",{key:1,class:Se(["fixed inset-y-0 right-0 w-full md:w-96 bg-white shadow-xl z-[998] transform transition-transform duration-300 border-l border-gray-200",m.value?"translate-x-0":"translate-x-full"]),style:{"max-height":"100vh",overflow:"hidden"}},[n("div",eM,[n("div",{class:"px-6 py-4 bg-gray-50 border-b border-gray-200"},[n("div",{class:"flex items-center justify-between"},[te[70]||(te[70]=n("h3",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),n("button",{onClick:Je,class:"text-gray-400 hover:text-gray-600"},[...te[69]||(te[69]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),n("div",tM,[n("div",sM,[n("div",null,[te[79]||(te[79]=n("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),n("div",nM,[n("div",rM,[te[71]||(te[71]=n("span",{class:"text-gray-600"},"Tipe:",-1)),n("span",{class:Se([h.value.type==="RM"?"text-blue-600":"text-green-600","font-medium"])},A(h.value.type),3)]),n("div",oM,[te[72]||(te[72]=n("span",{class:"text-gray-600"},"Kode:",-1)),n("span",iM,A(h.value.kode),1)]),n("div",aM,[te[73]||(te[73]=n("span",{class:"text-gray-600"},"Nama:",-1)),n("span",lM,A(h.value.nama),1)]),n("div",dM,[te[74]||(te[74]=n("span",{class:"text-gray-600"},"Lot/Serial:",-1)),n("span",cM,A(h.value.lot),1)]),n("div",uM,[te[75]||(te[75]=n("span",{class:"text-gray-600"},"Lokasi:",-1)),n("span",xM,A(h.value.lokasi),1)]),n("div",fM,[te[76]||(te[76]=n("span",{class:"text-gray-600"},"Qty:",-1)),n("span",hM,A(h.value.qty)+" "+A(h.value.uom),1)]),n("div",gM,[te[77]||(te[77]=n("span",{class:"text-gray-600"},"Expired:",-1)),n("span",{class:Se([it(h.value.expiredDate),"font-medium"])},A(He(h.value.expiredDate)),3)]),n("div",pM,[te[78]||(te[78]=n("span",{class:"text-gray-600"},"Status:",-1)),n("span",{class:Se([Et(h.value.status),"px-2 py-1 text-xs font-semibold rounded-full"])},A(h.value.status),3)])])]),n("div",null,[te[83]||(te[83]=n("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"QR Code & Dokumen",-1)),n("div",mM,[n("div",bM,[h.value.qr_image_url?(T(),R("img",{key:0,src:h.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,yM)):(T(),R("div",vM,"Generating..."))]),n("p",wM,A(h.value.kode)+"-"+A(h.value.lot),1),n("button",{onClick:te[12]||(te[12]=ye=>Ft(h.value)),class:"text-blue-600 text-sm hover:underline font-medium"}," Print QR Code ")]),n("div",EM,[n("div",CM,[te[80]||(te[80]=n("span",{class:"text-gray-600"},"No PO:",-1)),n("span",AM,A(h.value.no_po||"-"),1)]),n("div",kM,[te[81]||(te[81]=n("span",{class:"text-gray-600"},"No Surat Jalan:",-1)),n("span",BM,A(h.value.no_surat_jalan||"-"),1)]),n("div",_M,[te[82]||(te[82]=n("span",{class:"text-gray-600"},"No Incoming:",-1)),n("span",DM,A(h.value.no_incoming||"-"),1)])])]),n("div",null,[te[85]||(te[85]=n("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Riwayat Pergerakan",-1)),h.value.history.length>0?(T(),R("div",SM,[(T(!0),R(Ye,null,at(h.value.history,ye=>(T(),R("div",{key:ye.id,class:"flex items-start space-x-3"},[te[84]||(te[84]=n("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),n("div",FM,[n("div",TM,[n("span",MM,A(M(ye.action)),1),n("span",IM,A(xe(ye.date)),1)]),n("p",PM,A(ae(ye.action,ye.detail)),1),n("p",RM,"Oleh: "+A(ye.user),1)])]))),128))])):(T(),R("div",OM," Belum ada riwayat pergerakan untuk item ini. "))])])])])],2)):se("",!0),m.value?(T(),R("div",{key:2,onClick:Je,class:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[997]"})):se("",!0),v.value&&C.value?(T(),R("div",NM,[n("div",$M,[n("div",LM,[n("h3",jM,[te[86]||(te[86]=Oe(" QR Code: ",-1)),n("span",{class:Se(C.value.qr_type==="Karantina"?"text-orange-600":"text-green-600")},A(C.value.qr_type),3)]),n("button",{onClick:Ct,class:"text-gray-400 hover:text-gray-600"},[...te[87]||(te[87]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",UM,[n("div",HM,[n("div",zM,[C.value.qr_image_url?(T(),R("img",{key:0,src:C.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,VM)):(T(),R("span",qM,"Generating..."))])]),n("p",WM,"Kode: **"+A(C.value.kode)+"-"+A(C.value.lot)+"**",1),n("p",QM," Data Terenkripsi: `"+A(C.value.qr_data.substring(0,40))+"...` ",1),n("div",GM,[n("button",{onClick:Ct,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),n("button",{onClick:te[13]||(te[13]=ye=>ht(C.value)),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"},[...te[88]||(te[88]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2v2H5v-2h2M17 17v-5H7v5m12 0a2 2 0 01-2 2H7a2 2 0 01-2-2m2-5V4a2 2 0 012-2h6a2 2 0 012 2v8M7 7h10"})],-1),n("span",null,"Cetak QR",-1)])])])])])])):se("",!0),ve.value?(T(),R("div",KM,[n("div",YM,[te[90]||(te[90]=n("div",{class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4"},[n("div",{class:"flex items-center gap-3"},[n("div",{class:"bg-white/20 p-2 rounded-full"},[n("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),n("h3",{class:"text-xl font-bold text-white"},"Validasi Gagal")])],-1)),n("div",XM,[n("div",JM,[n("p",ZM,A(Ie.value),1)]),te[89]||(te[89]=n("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2"},[n("svg",{class:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),n("div",{class:"text-xs text-blue-800"},[n("p",{class:"font-semibold mb-1"},"Solusi:"),n("p",null,[Oe("Lakukan "),n("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-blue-900 font-medium"},"Bin-to-Bin Transfer"),Oe(" terlebih dahulu ke bin QRT (QRT-HALAL, QRT-NON HALAL, atau QRT-HALAL-AC)")])])],-1))]),n("div",{class:"bg-gray-50 px-6 py-4 flex justify-end gap-3"},[n("button",{onClick:Ge,class:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Tutup ")])])])):se("",!0),S.value?(T(),R("div",eI,[n("div",tI,[n("div",sI,[n("div",{class:"flex justify-between items-center mb-6"},[te[92]||(te[92]=n("h3",{class:"text-xl font-bold text-gray-900"},"Print All QR Codes",-1)),n("button",{onClick:Y,class:"text-gray-400 hover:text-gray-600"},[...te[91]||(te[91]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),D.value?(T(),R("div",nI,[n("div",rI,[te[101]||(te[101]=n("h4",{class:"font-semibold text-blue-900 mb-3 flex items-center"},[n("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),n("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule":"evenodd"})]),Oe(" Statistik Inventory On-Hand ")],-1)),n("div",oI,[n("div",iI,[te[93]||(te[93]=n("div",{class:"text-gray-600 text-xs font-medium"},"Released",-1)),n("div",aI,A(D.value.released),1),te[94]||(te[94]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))]),n("div",lI,[te[95]||(te[95]=n("div",{class:"text-gray-600 text-xs font-medium"},"Karantina",-1)),n("div",dI,A(D.value.karantina),1),te[96]||(te[96]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))]),n("div",cI,[te[97]||(te[97]=n("div",{class:"text-gray-600 text-xs font-medium"},"Rejected",-1)),n("div",uI,A(D.value.rejected),1),te[98]||(te[98]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))]),D.value.expired>0?(T(),R("div",xI,[te[99]||(te[99]=n("div",{class:"text-gray-600 text-xs font-medium"},"Expired",-1)),n("div",fI,A(D.value.expired),1),te[100]||(te[100]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))])):se("",!0)])]),n("div",hI,[n("div",gI,[te[102]||(te[102]=n("span",{class:"text-sm font-medium text-indigo-900"},"Total QR Codes:",-1)),n("span",pI,A(D.value.total_qr_codes),1)]),n("div",mI,[te[103]||(te[103]=n("span",null,"Estimasi Waktu:",-1)),n("span",bI,"~"+A(Math.ceil(D.value.estimated_time_seconds/60))+" menit",1)])]),D.value.expired>0?(T(),R("div",yI,[...te[104]||(te[104]=[n("div",{class:"flex items-center"},[n("svg",{class:"w-5 h-5 text-yellow-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),n("div",{class:"text-sm"},[n("span",{class:"font-semibold text-yellow-900"},"Perhatian!"),n("span",{class:"text-yellow-800"}," Material expired akan tetap dicetak.")])],-1)])])):se("",!0)])):se("",!0),n("div",vI,[n("button",{onClick:Y,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),n("button",{onClick:G,disabled:O.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-300 flex items-center"},[O.value?(T(),R("svg",CI,[...te[106]||(te[106]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(T(),R("svg",EI,[...te[105]||(te[105]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"},null,-1)])])),Oe(" "+A(O.value?"Processing...":"Proceed to Print"),1)],8,wI)])])])])):se("",!0),P.value?(T(),R("div",AI,[n("div",kI,[te[109]||(te[109]=n("h3",{class:"text-lg font-semibold text-gray-900 mb-4 text-center"},"Generating QR Codes",-1)),n("div",BI,[n("div",_I,[te[107]||(te[107]=n("span",null,"Progress",-1)),n("span",null,A(B.value)+"%",1)]),n("div",DI,[n("div",{class:"bg-indigo-600 h-4 rounded-full transition-all duration-300 ease-out",style:Rr({width:B.value+"%"})},null,4)])]),n("div",SI,[n("p",FI,A(U.value),1),te[108]||(te[108]=n("p",{class:"text-xs text-gray-500 mt-1"},"Mohon tunggu, jangan tutup browser...",-1))])])])):se("",!0)])]),_:1}))}}),MI=Xi(TI,[["__scopeId","data-v-31e75e47"]]),II=Object.freeze(Object.defineProperty({__proto__:null,default:MI},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fl(e){return e+.5|0}const bo=(e,t,s)=>Math.max(Math.min(e,s),t);function Ca(e){return bo(fl(e*2.55),0,255)}function Co(e){return bo(fl(e*255),0,255)}function qr(e){return bo(fl(e/2.55)/100,0,1)}function Fg(e){return bo(fl(e*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ju=[..."0123456789ABCDEF"],PI=e=>ju[e&15],RI=e=>ju[(e&240)>>4]+ju[e&15],Rl=e=>(e&240)>>4===(e&15),OI=e=>Rl(e.r)&&Rl(e.g)&&Rl(e.b)&&Rl(e.a);function NI(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Qn[e[1]]*17,g:255&Qn[e[2]]*17,b:255&Qn[e[3]]*17,a:t===5?Qn[e[4]]*17:255}:(t===7||t===9)&&(s={r:Qn[e[1]]<<4|Qn[e[2]],g:Qn[e[3]]<<4|Qn[e[4]],b:Qn[e[5]]<<4|Qn[e[6]],a:t===9?Qn[e[7]]<<4|Qn[e[8]]:255})),s}const $I=(e,t)=>e<255?t(e):"";function LI(e){var t=OI(e)?PI:RI;return e?"#"+t(e.r)+t(e.g)+t(e.b)+$I(e.a,t):void 0}const jI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Nb(e,t,s){const r=t*Math.min(s,1-s),i=(a,d=(a+e/30)%12)=>s-r*Math.max(Math.min(d-3,9-d,1),-1);return[i(0),i(8),i(4)]}function UI(e,t,s){const r=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function HI(e,t,s){const r=Nb(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)r[i]*=1-t-s,r[i]+=t;return r}function zI(e,t,s,r,i){return e===i?(t-s)/r+(t<s?6:0):t===i?(s-e)/r+2:(e-t)/r+4}function Mx(e){const s=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(s,r,i),d=Math.min(s,r,i),u=(a+d)/2;let g,h,m;return a!==d&&(m=a-d,h=u>.5?m/(2-a-d):m/(a+d),g=zI(s,r,i,m,a),g=g*60+.5),[g|0,h||0,u]}function Ix(e,t,s,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,r)).map(Co)}function Px(e,t,s){return Ix(Nb,e,t,s)}function VI(e,t,s){return Ix(HI,e,t,s)}function qI(e,t,s){return Ix(UI,e,t,s)}function $b(e){return(e%360+360)%360}function WI(e){const t=jI.exec(e);let s=255,r;if(!t)return;t[5]!==r&&(s=t[6]?Ca(+t[5]):Co(+t[5]));const i=$b(+t[2]),a=+t[3]/100,d=+t[4]/100;return t[1]==="hwb"?r=VI(i,a,d):t[1]==="hsv"?r=qI(i,a,d):r=Px(i,a,d),{r:r[0],g:r[1],b:r[2],a:s}}function QI(e,t){var s=Mx(e);s[0]=$b(s[0]+t),s=Px(s),e.r=s[0],e.g=s[1],e.b=s[2]}function GI(e){if(!e)return;const t=Mx(e),s=t[0],r=Fg(t[1]),i=Fg(t[2]);return e.a<255?`hsla(${s}, ${r}%, ${i}%, ${qr(e.a)})`:`hsl(${s}, ${r}%, ${i}%)`}const Tg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KI(){const e={},t=Object.keys(Mg),s=Object.keys(Tg);let r,i,a,d,u;for(r=0;r<t.length;r++){for(d=u=t[r],i=0;i<s.length;i++)a=s[i],u=u.replace(a,Tg[a]);a=parseInt(Mg[d],16),e[u]=[a>>16&255,a>>8&255,a&255]}return e}let Ol;function YI(e){Ol||(Ol=KI(),Ol.transparent=[0,0,0,0]);const t=Ol[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const XI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JI(e){const t=XI.exec(e);let s=255,r,i,a;if(t){if(t[7]!==r){const d=+t[7];s=t[8]?Ca(d):bo(d*255,0,255)}return r=+t[1],i=+t[3],a=+t[5],r=255&(t[2]?Ca(r):bo(r,0,255)),i=255&(t[4]?Ca(i):bo(i,0,255)),a=255&(t[6]?Ca(a):bo(a,0,255)),{r,g:i,b:a,a:s}}}function ZI(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Zc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ci=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function eP(e,t,s){const r=Ci(qr(e.r)),i=Ci(qr(e.g)),a=Ci(qr(e.b));return{r:Co(Zc(r+s*(Ci(qr(t.r))-r))),g:Co(Zc(i+s*(Ci(qr(t.g))-i))),b:Co(Zc(a+s*(Ci(qr(t.b))-a))),a:e.a+s*(t.a-e.a)}}function Nl(e,t,s){if(e){let r=Mx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*s,t===0?360:1)),r=Px(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Lb(e,t){return e&&Object.assign(t||{},e)}function Ig(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Co(e[3]))):(t=Lb(e,{r:0,g:0,b:0,a:1}),t.a=Co(t.a)),t}function tP(e){return e.charAt(0)==="r"?JI(e):WI(e)}class Ga{constructor(t){if(t instanceof Ga)return t;const s=typeof t;let r;s==="object"?r=Ig(t):s==="string"&&(r=NI(t)||YI(t)||tP(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Lb(this._rgb);return t&&(t.a=qr(t.a)),t}set rgb(t){this._rgb=Ig(t)}rgbString(){return this._valid?ZI(this._rgb):void 0}hexString(){return this._valid?LI(this._rgb):void 0}hslString(){return this._valid?GI(this._rgb):void 0}mix(t,s){if(t){const r=this.rgb,i=t.rgb;let a;const d=s===a?.5:s,u=2*d-1,g=r.a-i.a,h=((u*g===-1?u:(u+g)/(1+u*g))+1)/2;a=1-h,r.r=255&h*r.r+a*i.r+.5,r.g=255&h*r.g+a*i.g+.5,r.b=255&h*r.b+a*i.b+.5,r.a=d*r.a+(1-d)*i.a,this.rgb=r}return this}interpolate(t,s){return t&&(this._rgb=eP(this._rgb,t._rgb,s)),this}clone(){return new Ga(this.rgb)}alpha(t){return this._rgb.a=Co(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=fl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Nl(this._rgb,2,t),this}darken(t){return Nl(this._rgb,2,-t),this}saturate(t){return Nl(this._rgb,1,t),this}desaturate(t){return Nl(this._rgb,1,-t),this}rotate(t){return QI(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Lr(){}const sP=(()=>{let e=0;return()=>e++})();function xs(e){return e==null}function zs(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ds(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function sr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ar(e,t){return sr(e)?e:t}function Jt(e,t){return typeof e>"u"?t:e}const nP=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,jb=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ds(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function hs(e,t,s,r){let i,a,d;if(zs(e))for(a=e.length,i=0;i<a;i++)t.call(s,e[i],i);else if(ds(e))for(d=Object.keys(e),a=d.length,i=0;i<a;i++)t.call(s,e[d[i]],d[i])}function _0(e,t){let s,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,r=e.length;s<r;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function D0(e){if(zs(e))return e.map(D0);if(ds(e)){const t=Object.create(null),s=Object.keys(e),r=s.length;let i=0;for(;i<r;++i)t[s[i]]=D0(e[s[i]]);return t}return e}function Ub(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function rP(e,t,s,r){if(!Ub(e))return;const i=t[e],a=s[e];ds(i)&&ds(a)?Ka(i,a,r):t[e]=D0(a)}function Ka(e,t,s){const r=zs(t)?t:[t],i=r.length;if(!ds(e))return e;s=s||{};const a=s.merger||rP;let d;for(let u=0;u<i;++u){if(d=r[u],!ds(d))continue;const g=Object.keys(d);for(let h=0,m=g.length;h<m;++h)a(g[h],e,d,s)}return e}function Pa(e,t){return Ka(e,t,{merger:oP})}function oP(e,t,s){if(!Ub(e))return;const r=t[e],i=s[e];ds(r)&&ds(i)?Pa(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=D0(i))}const Pg={"":e=>e,x:e=>e.x,y:e=>e.y};function iP(e){const t=e.split("."),s=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(s.push(r),r="");return s}function aP(e){const t=iP(e);return s=>{for(const r of t){if(r==="")break;s=s&&s[r]}return s}}function ai(e,t){return(Pg[t]||(Pg[t]=aP(t)))(e)}function Rx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ya=e=>typeof e<"u",Fo=e=>typeof e=="function",Rg=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function lP(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const gs=Math.PI,Ns=2*gs,dP=Ns+gs,S0=Number.POSITIVE_INFINITY,cP=gs/180,Vs=gs/2,No=gs/4,Og=gs*2/3,Hb=Math.log10,Ir=Math.sign;function Ra(e,t,s){return Math.abs(e-t)<s}function Ng(e){const t=Math.round(e);e=Ra(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Hb(e))),r=e/s;return(r<=1?1:r<=2?2:r<=5?5:10)*s}function uP(e){const t=[],s=Math.sqrt(e);let r;for(r=1;r<s;r++)e%r===0&&(t.push(r),t.push(e/r));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function xP(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Xa(e){return!xP(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function fP(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function hP(e,t,s){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Yr(e){return e*(gs/180)}function gP(e){return e*(180/gs)}function $g(e){if(!sr(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function zb(e,t){const s=t.x-e.x,r=t.y-e.y,i=Math.sqrt(s*s+r*r);let a=Math.atan2(r,s);return a<-.5*gs&&(a+=Ns),{angle:a,distance:i}}function Uu(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function pP(e,t){return(e-t+dP)%Ns-gs}function ur(e){return(e%Ns+Ns)%Ns}function Ja(e,t,s,r){const i=ur(e),a=ur(t),d=ur(s),u=ur(a-i),g=ur(d-i),h=ur(i-a),m=ur(i-d);return i===a||i===d||r&&a===d||u>g&&h<m}function xn(e,t,s){return Math.max(t,Math.min(s,e))}function mP(e){return xn(e,-32768,32767)}function yo(e,t,s,r=1e-6){return e>=Math.min(t,s)-r&&e<=Math.max(t,s)+r}function Ox(e,t,s){s=s||(d=>e[d]<t);let r=e.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,s(a)?i=a:r=a;return{lo:i,hi:r}}const Go=(e,t,s,r)=>Ox(e,s,r?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),bP=(e,t,s)=>Ox(e,s,r=>e[r][t]>=s);function yP(e,t,s){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>s;)i--;return r>0||i<e.length?e.slice(r,i):e}const Vb=["push","pop","shift","splice","unshift"];function vP(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vb.forEach(s=>{const r="_onData"+Rx(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const d=i.apply(this,a);return e._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),d}})})}function Lg(e,t){const s=e._chartjs;if(!s)return;const r=s.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(Vb.forEach(a=>{delete e[a]}),delete e._chartjs)}function qb(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Wb=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Qb(e,t){let s=[],r=!1;return function(...i){s=i,r||(r=!0,Wb.call(window,()=>{r=!1,e.apply(t,s)}))}}function wP(e,t){let s;return function(...r){return t?(clearTimeout(s),s=setTimeout(e,t,r)):e.apply(this,r),t}}const Nx=e=>e==="start"?"left":e==="end"?"right":"center",ln=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,EP=(e,t,s,r)=>e===(r?"left":"right")?s:e==="center"?(t+s)/2:t;function CP(e,t,s){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:d,vScale:u,_parsed:g}=e,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,m=d.axis,{min:b,max:v,minDefined:C,maxDefined:_}=d.getUserBounds();if(C){if(i=Math.min(Go(g,m,b).lo,s?r:Go(t,m,d.getPixelForValue(b)).lo),h){const F=g.slice(0,i+1).reverse().findIndex(S=>!xs(S[u.axis]));i-=Math.max(0,F)}i=xn(i,0,r-1)}if(_){let F=Math.max(Go(g,d.axis,v,!0).hi+1,s?0:Go(t,m,d.getPixelForValue(v),!0).hi+1);if(h){const S=g.slice(F-1).findIndex(D=>!xs(D[u.axis]));F+=Math.max(0,S)}a=xn(F,i,r)-i}else a=r-i}return{start:i,count:a}}function AP(e){const{xScale:t,yScale:s,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==s.min||r.ymax!==s.max;return Object.assign(r,i),a}const $l=e=>e===0||e===1,jg=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ns/s)),Ug=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ns/s)+1,Oa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vs)+1,easeOutSine:e=>Math.sin(e*Vs),easeInOutSine:e=>-.5*(Math.cos(gs*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>$l(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>$l(e)?e:jg(e,.075,.3),easeOutElastic:e=>$l(e)?e:Ug(e,.075,.3),easeInOutElastic(e){return $l(e)?e:e<.5?.5*jg(e*2,.1125,.45):.5+.5*Ug(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Oa.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Oa.easeInBounce(e*2)*.5:Oa.easeOutBounce(e*2-1)*.5+.5};function $x(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Hg(e){return $x(e)?e:new Ga(e)}function eu(e){return $x(e)?e:new Ga(e).saturate(.5).darken(.1).hexString()}const kP=["x","y","borderWidth","radius","tension"],BP=["color","borderColor","backgroundColor"];function _P(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:BP},numbers:{type:"number",properties:kP}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function DP(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zg=new Map;function SP(e,t){t=t||{};const s=e+JSON.stringify(t);let r=zg.get(s);return r||(r=new Intl.NumberFormat(e,t),zg.set(s,r)),r}function Lx(e,t,s){return SP(t,s).format(e)}const FP={values(e){return zs(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const r=this.chart.options.locale;let i,a=e;if(s.length>1){const h=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),a=TP(e,s)}const d=Hb(Math.abs(a)),u=isNaN(d)?1:Math.max(Math.min(-1*Math.floor(d),20),0),g={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(g,this.options.ticks.format),Lx(e,r,g)}};function TP(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Gb={formatters:FP};function MP(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const li=Object.create(null),Hu=Object.create(null);function Na(e,t){if(!t)return e;const s=t.split(".");for(let r=0,i=s.length;r<i;++r){const a=s[r];e=e[a]||(e[a]=Object.create(null))}return e}function tu(e,t,s){return typeof t=="string"?Ka(Na(e,t),s):Ka(Na(e,""),t)}class IP{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>eu(i.backgroundColor),this.hoverBorderColor=(r,i)=>eu(i.borderColor),this.hoverColor=(r,i)=>eu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return tu(this,t,s)}get(t){return Na(this,t)}describe(t,s){return tu(Hu,t,s)}override(t,s){return tu(li,t,s)}route(t,s,r,i){const a=Na(this,t),d=Na(this,r),u="_"+s;Object.defineProperties(a,{[u]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const g=this[u],h=d[i];return ds(g)?Object.assign({},h,g):Jt(g,h)},set(g){this[u]=g}}})}apply(t){t.forEach(s=>s(this))}}var $s=new IP({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_P,DP,MP]);function PP(e){return!e||xs(e.size)||xs(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Vg(e,t,s,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>r&&(r=a),r}function $o(e,t,s){const r=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*r)/r+i}function qg(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function zu(e,t,s,r){Kb(e,t,s,r,null)}function Kb(e,t,s,r,i){let a,d,u,g,h,m,b,v;const C=t.pointStyle,_=t.rotation,F=t.radius;let S=(_||0)*cP;if(C&&typeof C=="object"&&(a=C.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,r),e.rotate(S),e.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),e.restore();return}if(!(isNaN(F)||F<=0)){switch(e.beginPath(),C){default:i?e.ellipse(s,r,i/2,F,0,0,Ns):e.arc(s,r,F,0,Ns),e.closePath();break;case"triangle":m=i?i/2:F,e.moveTo(s+Math.sin(S)*m,r-Math.cos(S)*F),S+=Og,e.lineTo(s+Math.sin(S)*m,r-Math.cos(S)*F),S+=Og,e.lineTo(s+Math.sin(S)*m,r-Math.cos(S)*F),e.closePath();break;case"rectRounded":h=F*.516,g=F-h,d=Math.cos(S+No)*g,b=Math.cos(S+No)*(i?i/2-h:g),u=Math.sin(S+No)*g,v=Math.sin(S+No)*(i?i/2-h:g),e.arc(s-b,r-u,h,S-gs,S-Vs),e.arc(s+v,r-d,h,S-Vs,S),e.arc(s+b,r+u,h,S,S+Vs),e.arc(s-v,r+d,h,S+Vs,S+gs),e.closePath();break;case"rect":if(!_){g=Math.SQRT1_2*F,m=i?i/2:g,e.rect(s-m,r-g,2*m,2*g);break}S+=No;case"rectRot":b=Math.cos(S)*(i?i/2:F),d=Math.cos(S)*F,u=Math.sin(S)*F,v=Math.sin(S)*(i?i/2:F),e.moveTo(s-b,r-u),e.lineTo(s+v,r-d),e.lineTo(s+b,r+u),e.lineTo(s-v,r+d),e.closePath();break;case"crossRot":S+=No;case"cross":b=Math.cos(S)*(i?i/2:F),d=Math.cos(S)*F,u=Math.sin(S)*F,v=Math.sin(S)*(i?i/2:F),e.moveTo(s-b,r-u),e.lineTo(s+b,r+u),e.moveTo(s+v,r-d),e.lineTo(s-v,r+d);break;case"star":b=Math.cos(S)*(i?i/2:F),d=Math.cos(S)*F,u=Math.sin(S)*F,v=Math.sin(S)*(i?i/2:F),e.moveTo(s-b,r-u),e.lineTo(s+b,r+u),e.moveTo(s+v,r-d),e.lineTo(s-v,r+d),S+=No,b=Math.cos(S)*(i?i/2:F),d=Math.cos(S)*F,u=Math.sin(S)*F,v=Math.sin(S)*(i?i/2:F),e.moveTo(s-b,r-u),e.lineTo(s+b,r+u),e.moveTo(s+v,r-d),e.lineTo(s-v,r+d);break;case"line":d=i?i/2:Math.cos(S)*F,u=Math.sin(S)*F,e.moveTo(s-d,r-u),e.lineTo(s+d,r+u);break;case"dash":e.moveTo(s,r),e.lineTo(s+Math.cos(S)*(i?i/2:F),r+Math.sin(S)*F);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Za(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function jx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ux(e){e.restore()}function RP(e,t,s,r,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!r?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function OP(e,t,s,r){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?s.cp2x:s.cp1x,r?s.cp2y:s.cp1y,s.x,s.y)}function NP(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),xs(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function $P(e,t,s,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),d=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,g=s-a.actualBoundingBoxAscent,h=s+a.actualBoundingBoxDescent,m=i.strikethrough?(g+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(d,m),e.lineTo(u,m),e.stroke()}}function LP(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function el(e,t,s,r,i,a={}){const d=zs(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let g,h;for(e.save(),e.font=i.string,NP(e,a),g=0;g<d.length;++g)h=d[g],a.backdrop&&LP(e,a.backdrop),u&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),xs(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(h,s,r,a.maxWidth)),e.fillText(h,s,r,a.maxWidth),$P(e,s,r,h,a),r+=Number(i.lineHeight);e.restore()}function F0(e,t){const{x:s,y:r,w:i,h:a,radius:d}=t;e.arc(s+d.topLeft,r+d.topLeft,d.topLeft,1.5*gs,gs,!0),e.lineTo(s,r+a-d.bottomLeft),e.arc(s+d.bottomLeft,r+a-d.bottomLeft,d.bottomLeft,gs,Vs,!0),e.lineTo(s+i-d.bottomRight,r+a),e.arc(s+i-d.bottomRight,r+a-d.bottomRight,d.bottomRight,Vs,0,!0),e.lineTo(s+i,r+d.topRight),e.arc(s+i-d.topRight,r+d.topRight,d.topRight,0,-Vs,!0),e.lineTo(s+d.topLeft,r)}const jP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HP(e,t){const s=(""+e).match(jP);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const zP=e=>+e||0;function Hx(e,t){const s={},r=ds(t),i=r?Object.keys(t):t,a=ds(e)?r?d=>Jt(e[d],e[t[d]]):d=>e[d]:()=>e;for(const d of i)s[d]=zP(a(d));return s}function Yb(e){return Hx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Oi(e){return Hx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function nr(e){const t=Yb(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(e,t){e=e||{},t=t||$s.font;let s=Jt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let r=Jt(e.style,t.style);r&&!(""+r).match(UP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Jt(e.family,t.family),lineHeight:HP(Jt(e.lineHeight,t.lineHeight),s),size:s,style:r,weight:Jt(e.weight,t.weight),string:""};return i.string=PP(i),i}function Ll(e,t,s,r){let i,a,d;for(i=0,a=e.length;i<a;++i)if(d=e[i],d!==void 0&&d!==void 0)return d}function VP(e,t,s){const{min:r,max:i}=e,a=jb(t,(i-r)/2),d=(u,g)=>s&&u===0?0:u+g;return{min:d(r,-Math.abs(a)),max:d(i,a)}}function fi(e,t){return Object.assign(Object.create(e),t)}function zx(e,t=[""],s,r,i=()=>e[0]){const a=s||e;typeof r>"u"&&(r=ey("_fallback",e));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:i,override:u=>zx([u,...e],t,a,r)};return new Proxy(d,{deleteProperty(u,g){return delete u[g],delete u._keys,delete e[0][g],!0},get(u,g){return Jb(u,g,()=>JP(g,t,e,u))},getOwnPropertyDescriptor(u,g){return Reflect.getOwnPropertyDescriptor(u._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,g){return Qg(u).includes(g)},ownKeys(u){return Qg(u)},set(u,g,h){const m=u._storage||(u._storage=i());return u[g]=m[g]=h,delete u._keys,!0}})}function Vi(e,t,s,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:Xb(e,r),setContext:a=>Vi(e,a,s,r),override:a=>Vi(e.override(a),t,s,r)};return new Proxy(i,{deleteProperty(a,d){return delete a[d],delete e[d],!0},get(a,d,u){return Jb(a,d,()=>WP(a,d,u))},getOwnPropertyDescriptor(a,d){return a._descriptors.allKeys?Reflect.has(e,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,d)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,d){return Reflect.has(e,d)},ownKeys(){return Reflect.ownKeys(e)},set(a,d,u){return e[d]=u,delete a[d],!0}})}function Xb(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:r,isScriptable:Fo(s)?s:()=>s,isIndexable:Fo(r)?r:()=>r}}const qP=(e,t)=>e?e+Rx(t):t,Vx=(e,t)=>ds(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Jb(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=s();return e[t]=r,r}function WP(e,t,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:d}=e;let u=r[t];return Fo(u)&&d.isScriptable(t)&&(u=QP(t,u,e,s)),zs(u)&&u.length&&(u=GP(t,u,e,d.isIndexable)),Vx(t,u)&&(u=Vi(u,i,a&&a[t],d)),u}function QP(e,t,s,r){const{_proxy:i,_context:a,_subProxy:d,_stack:u}=s;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let g=t(a,d||r);return u.delete(e),Vx(e,g)&&(g=qx(i._scopes,i,e,g)),g}function GP(e,t,s,r){const{_proxy:i,_context:a,_subProxy:d,_descriptors:u}=s;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(ds(t[0])){const g=t,h=i._scopes.filter(m=>m!==g);t=[];for(const m of g){const b=qx(h,i,e,m);t.push(Vi(b,a,d&&d[e],u))}}return t}function Zb(e,t,s){return Fo(e)?e(t,s):e}const KP=(e,t)=>e===!0?t:typeof e=="string"?ai(t,e):void 0;function YP(e,t,s,r,i){for(const a of t){const d=KP(s,a);if(d){e.add(d);const u=Zb(d._fallback,s,i);if(typeof u<"u"&&u!==s&&u!==r)return u}else if(d===!1&&typeof r<"u"&&s!==r)return null}return!1}function qx(e,t,s,r){const i=t._rootScopes,a=Zb(t._fallback,s,r),d=[...e,...i],u=new Set;u.add(r);let g=Wg(u,d,s,a||s,r);return g===null||typeof a<"u"&&a!==s&&(g=Wg(u,d,a,g,r),g===null)?!1:zx(Array.from(u),[""],i,a,()=>XP(t,s,r))}function Wg(e,t,s,r,i){for(;s;)s=YP(e,t,s,r,i);return s}function XP(e,t,s){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return zs(i)&&ds(s)?s:i||{}}function JP(e,t,s,r){let i;for(const a of t)if(i=ey(qP(a,e),s),typeof i<"u")return Vx(e,i)?qx(s,r,e,i):i}function ey(e,t){for(const s of t){if(!s)continue;const r=s[e];if(typeof r<"u")return r}}function Qg(e){let t=e._keys;return t||(t=e._keys=ZP(e._scopes)),t}function ZP(e){const t=new Set;for(const s of e)for(const r of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const eR=Number.EPSILON||1e-14,qi=(e,t)=>t<e.length&&!e[t].skip&&e[t],ty=e=>e==="x"?"y":"x";function tR(e,t,s,r){const i=e.skip?t:e,a=t,d=s.skip?t:s,u=Uu(a,i),g=Uu(d,a);let h=u/(u+g),m=g/(u+g);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const b=r*h,v=r*m;return{previous:{x:a.x-b*(d.x-i.x),y:a.y-b*(d.y-i.y)},next:{x:a.x+v*(d.x-i.x),y:a.y+v*(d.y-i.y)}}}function sR(e,t,s){const r=e.length;let i,a,d,u,g,h=qi(e,0);for(let m=0;m<r-1;++m)if(g=h,h=qi(e,m+1),!(!g||!h)){if(Ra(t[m],0,eR)){s[m]=s[m+1]=0;continue}i=s[m]/t[m],a=s[m+1]/t[m],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(d=3/Math.sqrt(u),s[m]=i*d*t[m],s[m+1]=a*d*t[m])}}function nR(e,t,s="x"){const r=ty(s),i=e.length;let a,d,u,g=qi(e,0);for(let h=0;h<i;++h){if(d=u,u=g,g=qi(e,h+1),!u)continue;const m=u[s],b=u[r];d&&(a=(m-d[s])/3,u[`cp1${s}`]=m-a,u[`cp1${r}`]=b-a*t[h]),g&&(a=(g[s]-m)/3,u[`cp2${s}`]=m+a,u[`cp2${r}`]=b+a*t[h])}}function rR(e,t="x"){const s=ty(t),r=e.length,i=Array(r).fill(0),a=Array(r);let d,u,g,h=qi(e,0);for(d=0;d<r;++d)if(u=g,g=h,h=qi(e,d+1),!!g){if(h){const m=h[t]-g[t];i[d]=m!==0?(h[s]-g[s])/m:0}a[d]=u?h?Ir(i[d-1])!==Ir(i[d])?0:(i[d-1]+i[d])/2:i[d-1]:i[d]}sR(e,i,a),nR(e,a,t)}function jl(e,t,s){return Math.max(Math.min(e,s),t)}function oR(e,t){let s,r,i,a,d,u=Za(e[0],t);for(s=0,r=e.length;s<r;++s)d=a,a=u,u=s<r-1&&Za(e[s+1],t),a&&(i=e[s],d&&(i.cp1x=jl(i.cp1x,t.left,t.right),i.cp1y=jl(i.cp1y,t.top,t.bottom)),u&&(i.cp2x=jl(i.cp2x,t.left,t.right),i.cp2y=jl(i.cp2y,t.top,t.bottom)))}function iR(e,t,s,r,i){let a,d,u,g;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")rR(e,i);else{let h=r?e[e.length-1]:e[0];for(a=0,d=e.length;a<d;++a)u=e[a],g=tR(h,u,e[Math.min(a+1,d-(r?0:1))%d],t.tension),u.cp1x=g.previous.x,u.cp1y=g.previous.y,u.cp2x=g.next.x,u.cp2y=g.next.y,h=u}t.capBezierPoints&&oR(e,s)}function Wx(){return typeof window<"u"&&typeof document<"u"}function Qx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function T0(e,t,s){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[s])):r=e,r}const ed=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function aR(e,t){return ed(e).getPropertyValue(t)}const lR=["top","right","bottom","left"];function ei(e,t,s){const r={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=lR[i];r[a]=parseFloat(e[t+"-"+a+s])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const dR=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function cR(e,t){const s=e.touches,r=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=r;let d=!1,u,g;if(dR(i,a,e.target))u=i,g=a;else{const h=t.getBoundingClientRect();u=r.clientX-h.left,g=r.clientY-h.top,d=!0}return{x:u,y:g,box:d}}function Uo(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:r}=t,i=ed(s),a=i.boxSizing==="border-box",d=ei(i,"padding"),u=ei(i,"border","width"),{x:g,y:h,box:m}=cR(e,s),b=d.left+(m&&u.left),v=d.top+(m&&u.top);let{width:C,height:_}=t;return a&&(C-=d.width+u.width,_-=d.height+u.height),{x:Math.round((g-b)/C*s.width/r),y:Math.round((h-v)/_*s.height/r)}}function uR(e,t,s){let r,i;if(t===void 0||s===void 0){const a=e&&Qx(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const d=a.getBoundingClientRect(),u=ed(a),g=ei(u,"border","width"),h=ei(u,"padding");t=d.width-h.width-g.width,s=d.height-h.height-g.height,r=T0(u.maxWidth,a,"clientWidth"),i=T0(u.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:r||S0,maxHeight:i||S0}}const vo=e=>Math.round(e*10)/10;function xR(e,t,s,r){const i=ed(e),a=ei(i,"margin"),d=T0(i.maxWidth,e,"clientWidth")||S0,u=T0(i.maxHeight,e,"clientHeight")||S0,g=uR(e,t,s);let{width:h,height:m}=g;if(i.boxSizing==="content-box"){const v=ei(i,"border","width"),C=ei(i,"padding");h-=C.width+v.width,m-=C.height+v.height}return h=Math.max(0,h-a.width),m=Math.max(0,r?h/r:m-a.height),h=vo(Math.min(h,d,g.maxWidth)),m=vo(Math.min(m,u,g.maxHeight)),h&&!m&&(m=vo(h/2)),(t!==void 0||s!==void 0)&&r&&g.height&&m>g.height&&(m=g.height,h=vo(Math.floor(m*r))),{width:h,height:m}}function Gg(e,t,s){const r=t||1,i=vo(e.height*r),a=vo(e.width*r);e.height=vo(e.height),e.width=vo(e.width);const d=e.canvas;return d.style&&(s||!d.style.height&&!d.style.width)&&(d.style.height=`${e.height}px`,d.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||d.height!==i||d.width!==a?(e.currentDevicePixelRatio=r,d.height=i,d.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const fR=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Wx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Kg(e,t){const s=aR(e,t),r=s&&s.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ho(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function hR(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:r==="middle"?s<.5?e.y:t.y:r==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function gR(e,t,s,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},d=Ho(e,i,s),u=Ho(i,a,s),g=Ho(a,t,s),h=Ho(d,u,s),m=Ho(u,g,s);return Ho(h,m,s)}const pR=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,r){return s-r},leftForLtr(s,r){return s-r}}},mR=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ni(e,t,s){return e?pR(t,s):mR()}function sy(e,t){let s,r;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,r=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=r)}function ny(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ry(e){return e==="angle"?{between:Ja,compare:pP,normalize:ur}:{between:yo,compare:(t,s)=>t-s,normalize:t=>t}}function Yg({start:e,end:t,count:s,loop:r,style:i}){return{start:e%s,end:t%s,loop:r&&(t-e+1)%s===0,style:i}}function bR(e,t,s){const{property:r,start:i,end:a}=s,{between:d,normalize:u}=ry(r),g=t.length;let{start:h,end:m,loop:b}=e,v,C;if(b){for(h+=g,m+=g,v=0,C=g;v<C&&d(u(t[h%g][r]),i,a);++v)h--,m--;h%=g,m%=g}return m<h&&(m+=g),{start:h,end:m,loop:b,style:e.style}}function yR(e,t,s){if(!s)return[e];const{property:r,start:i,end:a}=s,d=t.length,{compare:u,between:g,normalize:h}=ry(r),{start:m,end:b,loop:v,style:C}=bR(e,t,s),_=[];let F=!1,S=null,D,O,P;const B=()=>g(i,P,D)&&u(i,P)!==0,U=()=>u(a,D)===0||g(a,P,D),z=()=>F||B(),j=()=>!F||U();for(let H=m,I=m;H<=b;++H)O=t[H%d],!O.skip&&(D=h(O[r]),D!==P&&(F=g(D,i,a),S===null&&z()&&(S=u(D,i)===0?H:I),S!==null&&j()&&(_.push(Yg({start:S,end:H,loop:v,count:d,style:C})),S=null),I=H,P=D));return S!==null&&_.push(Yg({start:S,end:b,loop:v,count:d,style:C})),_}function vR(e,t){const s=[],r=e.segments;for(let i=0;i<r.length;i++){const a=yR(r[i],e.points,t);a.length&&s.push(...a)}return s}function wR(e,t,s,r){let i=0,a=t-1;if(s&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function ER(e,t,s,r){const i=e.length,a=[];let d=t,u=e[t],g;for(g=t+1;g<=s;++g){const h=e[g%i];h.skip||h.stop?u.skip||(r=!1,a.push({start:t%i,end:(g-1)%i,loop:r}),t=d=h.stop?g:null):(d=g,u.skip&&(t=g)),u=h}return d!==null&&a.push({start:t%i,end:d%i,loop:r}),a}function CR(e,t){const s=e.points,r=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:d,end:u}=wR(s,i,a,r);if(r===!0)return Xg(e,[{start:d,end:u,loop:a}],s,t);const g=u<d?u+i:u,h=!!e._fullLoop&&d===0&&u===i-1;return Xg(e,ER(s,d,g,h),s,t)}function Xg(e,t,s,r){return!r||!r.setContext||!s?t:AR(e,t,s,r)}function AR(e,t,s,r){const i=e._chart.getContext(),a=Jg(e.options),{_datasetIndex:d,options:{spanGaps:u}}=e,g=s.length,h=[];let m=a,b=t[0].start,v=b;function C(_,F,S,D){const O=u?-1:1;if(_!==F){for(_+=g;s[_%g].skip;)_-=O;for(;s[F%g].skip;)F+=O;_%g!==F%g&&(h.push({start:_%g,end:F%g,loop:S,style:D}),m=D,b=F%g)}}for(const _ of t){b=u?b:_.start;let F=s[b%g],S;for(v=b+1;v<=_.end;v++){const D=s[v%g];S=Jg(r.setContext(fi(i,{type:"segment",p0:F,p1:D,p0DataIndex:(v-1)%g,p1DataIndex:v%g,datasetIndex:d}))),kR(S,m)&&C(b,v-1,_.loop,m),F=D,m=S}b<v-1&&C(b,v-1,_.loop,m)}return h}function Jg(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function kR(e,t){if(!t)return!1;const s=[],r=function(i,a){return $x(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Ul(e,t,s){return e.options.clip?e[s]:t[s]}function BR(e,t){const{xScale:s,yScale:r}=e;return s&&r?{left:Ul(s,t,"left"),right:Ul(s,t,"right"),top:Ul(r,t,"top"),bottom:Ul(r,t,"bottom")}:t}function _R(e,t){const s=t._clip;if(s.disabled)return!1;const r=BR(t,e.chartArea);return{left:s.left===!1?0:r.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:r.right+(s.right===!0?0:s.right),top:s.top===!1?0:r.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:r.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,r,i){const a=s.listeners[i],d=s.duration;a.forEach(u=>u({chart:t,initial:s.initial,numSteps:d,currentStep:Math.min(r-s.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=Wb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let d=a.length-1,u=!1,g;for(;d>=0;--d)g=a[d],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(t),u=!0):(a[d]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,r,t,"progress")),a.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let r=s.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,r)),r}listen(t,s,r){this._getAnims(t).listeners[s].push(r)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const r=s.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ur=new DR;const Zg="transparent",SR={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const r=Hg(e||Zg),i=r.valid&&Hg(t||Zg);return i&&i.valid?i.mix(r,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class FR{constructor(t,s,r,i){const a=s[r];i=Ll([t.to,i,a,t.from]);const d=Ll([t.from,a,i]);this._active=!0,this._fn=t.fn||SR[t.type||typeof d],this._easing=Oa[t.easing]||Oa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=r,this._from=d,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,d=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(d,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Ll([t.to,s,i,t.from]),this._from=Ll([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,r=this._duration,i=this._prop,a=this._from,d=this._loop,u=this._to;let g;if(this._active=a!==u&&(d||s<r),!this._active){this._target[i]=u,this._notify(!0);return}if(s<0){this._target[i]=a;return}g=s/r%2,g=d&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[i]=this._fn(a,u,g)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,r)=>{t.push({res:s,rej:r})})}_notify(t){const s=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][s]()}}class oy{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!ds(t))return;const s=Object.keys($s.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!ds(a))return;const d={};for(const u of s)d[u]=a[u];(zs(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,d)})})}_animateOptions(t,s){const r=s.options,i=MR(t,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&TR(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,s){const r=this._properties,i=[],a=t.$animations||(t.$animations={}),d=Object.keys(s),u=Date.now();let g;for(g=d.length-1;g>=0;--g){const h=d[g];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(t,s));continue}const m=s[h];let b=a[h];const v=r.get(h);if(b)if(v&&b.active()){b.update(v,m,u);continue}else b.cancel();if(!v||!v.duration){t[h]=m;continue}a[h]=b=new FR(v,t,h,m),i.push(b)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const r=this._createAnimations(t,s);if(r.length)return Ur.add(this._chart,r),!0}}function TR(e,t){const s=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const a=e[r[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function MR(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function ep(e,t){const s=e&&e.options||{},r=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:r?a:i,end:r?i:a}}function IR(e,t,s){if(s===!1)return!1;const r=ep(e,s),i=ep(t,s);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function PR(e){let t,s,r,i;return ds(e)?(t=e.top,s=e.right,r=e.bottom,i=e.left):t=s=r=i=e,{top:t,right:s,bottom:r,left:i,disabled:e===!1}}function iy(e,t){const s=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)s.push(r[i].index);return s}function tp(e,t,s,r={}){const i=e.keys,a=r.mode==="single";let d,u,g,h;if(t===null)return;let m=!1;for(d=0,u=i.length;d<u;++d){if(g=+i[d],g===s){if(m=!0,r.all)continue;break}h=e.values[g],sr(h)&&(a||t===0||Ir(t)===Ir(h))&&(t+=h)}return!m&&!r.all?0:t}function RR(e,t){const{iScale:s,vScale:r}=t,i=s.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",d=Object.keys(e),u=new Array(d.length);let g,h,m;for(g=0,h=d.length;g<h;++g)m=d[g],u[g]={[i]:m,[a]:e[m]};return u}function su(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function OR(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function NR(e){const{min:t,max:s,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function $R(e,t,s){const r=e[t]||(e[t]={});return r[s]||(r[s]={})}function sp(e,t,s,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function np(e,t){const{chart:s,_cachedMeta:r}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:d,index:u}=r,g=a.axis,h=d.axis,m=OR(a,d,r),b=t.length;let v;for(let C=0;C<b;++C){const _=t[C],{[g]:F,[h]:S}=_,D=_._stacks||(_._stacks={});v=D[h]=$R(i,m,F),v[u]=S,v._top=sp(v,d,!0,r.type),v._bottom=sp(v,d,!1,r.type);const O=v._visualValues||(v._visualValues={});O[u]=S}}function nu(e,t){const s=e.scales;return Object.keys(s).filter(r=>s[r].axis===t).shift()}function LR(e,t){return fi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function jR(e,t,s){return fi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function ga(e,t){const s=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[r]===void 0||a[r][s]===void 0)return;delete a[r][s],a[r]._visualValues!==void 0&&a[r]._visualValues[s]!==void 0&&delete a[r]._visualValues[s]}}}const ru=e=>e==="reset"||e==="none",rp=(e,t)=>t?e:Object.assign({},e),UR=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:iy(s,!0),values:null};class td{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=su(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ga(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,r=this.getDataset(),i=(b,v,C,_)=>b==="x"?v:b==="r"?_:C,a=s.xAxisID=Jt(r.xAxisID,nu(t,"x")),d=s.yAxisID=Jt(r.yAxisID,nu(t,"y")),u=s.rAxisID=Jt(r.rAxisID,nu(t,"r")),g=s.indexAxis,h=s.iAxisID=i(g,a,d,u),m=s.vAxisID=i(g,d,a,u);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(d),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(h),s.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Lg(this._data,this),t._stacked&&ga(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),r=this._data;if(ds(s)){const i=this._cachedMeta;this._data=RR(s,i)}else if(r!==s){if(r){Lg(r,this);const i=this._cachedMeta;ga(i),i._parsed=[]}s&&Object.isExtensible(s)&&vP(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=su(s.vScale,s),s.stack!==r.stack&&(i=!0,ga(s),s.stack=r.stack),this._resyncElements(t),(i||a!==s._stacked)&&(np(this,s._parsed),s._stacked=su(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:d}=r,u=a.axis;let g=t===0&&s===i.length?!0:r._sorted,h=t>0&&r._parsed[t-1],m,b,v;if(this._parsing===!1)r._parsed=i,r._sorted=!0,v=i;else{zs(i[t])?v=this.parseArrayData(r,i,t,s):ds(i[t])?v=this.parseObjectData(r,i,t,s):v=this.parsePrimitiveData(r,i,t,s);const C=()=>b[u]===null||h&&b[u]<h[u];for(m=0;m<s;++m)r._parsed[m+t]=b=v[m],g&&(C()&&(g=!1),h=b);r._sorted=g}d&&np(this,v)}parsePrimitiveData(t,s,r,i){const{iScale:a,vScale:d}=t,u=a.axis,g=d.axis,h=a.getLabels(),m=a===d,b=new Array(i);let v,C,_;for(v=0,C=i;v<C;++v)_=v+r,b[v]={[u]:m||a.parse(h[_],_),[g]:d.parse(s[_],_)};return b}parseArrayData(t,s,r,i){const{xScale:a,yScale:d}=t,u=new Array(i);let g,h,m,b;for(g=0,h=i;g<h;++g)m=g+r,b=s[m],u[g]={x:a.parse(b[0],m),y:d.parse(b[1],m)};return u}parseObjectData(t,s,r,i){const{xScale:a,yScale:d}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,h=new Array(i);let m,b,v,C;for(m=0,b=i;m<b;++m)v=m+r,C=s[v],h[m]={x:a.parse(ai(C,u),v),y:d.parse(ai(C,g),v)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,r){const i=this.chart,a=this._cachedMeta,d=s[t.axis],u={keys:iy(i,!0),values:s._stacks[t.axis]._visualValues};return tp(u,d,a.index,{mode:r})}updateRangeFromParsed(t,s,r,i){const a=r[s.axis];let d=a===null?NaN:a;const u=i&&r._stacks[s.axis];i&&u&&(i.values=u,d=tp(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,d),t.max=Math.max(t.max,d)}getMinMax(t,s){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,d=i.length,u=this._getOtherScale(t),g=UR(s,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=NR(u);let v,C;function _(){C=i[v];const F=C[u.axis];return!sr(C[t.axis])||m>F||b<F}for(v=0;v<d&&!(!_()&&(this.updateRangeFromParsed(h,t,C,g),a));++v);if(a){for(v=d-1;v>=0;--v)if(!_()){this.updateRangeFromParsed(h,t,C,g);break}}return h}getAllParsedValues(t){const s=this._cachedMeta._parsed,r=[];let i,a,d;for(i=0,a=s.length;i<a;++i)d=s[i][t.axis],sr(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,r=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=PR(Jt(this.options.clip,IR(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,r=this._cachedMeta,i=r.data||[],a=s.chartArea,d=[],u=this._drawStart||0,g=this._drawCount||i.length-u,h=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(t,a,u,g),m=u;m<u+g;++m){const b=i[m];b.hidden||(b.active&&h?d.push(b):b.draw(t,a))}for(m=0;m<d.length;++m)d[m].draw(t,a)}getStyle(t,s){const r=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,s,r){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const d=this._cachedMeta.data[t];a=d.$context||(d.$context=jR(this.getContext(),t,d)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=LR(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",r){const i=s==="active",a=this._cachedDataOpts,d=t+"-"+s,u=a[d],g=this.enableOptionSharing&&Ya(r);if(u)return rp(u,g);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,t),b=i?[`${t}Hover`,"hover",t,""]:[t,""],v=h.getOptionScopes(this.getDataset(),m),C=Object.keys($s.elements[t]),_=()=>this.getContext(r,i,s),F=h.resolveNamedOptions(v,C,_,b);return F.$shared&&(F.$shared=g,a[d]=Object.freeze(rp(F,g))),F}_resolveAnimations(t,s,r){const i=this.chart,a=this._cachedDataOpts,d=`animation-${s}`,u=a[d];if(u)return u;let g;if(i.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,s),v=m.getOptionScopes(this.getDataset(),b);g=m.createResolver(v,this.getContext(t,r,s))}const h=new oy(i,g&&g.animations);return g&&g._cacheable&&(a[d]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||ru(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const r=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(r),d=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,r),{sharedOptions:a,includeOptions:d}}updateElement(t,s,r,i){ru(i)?Object.assign(t,r):this._resolveAnimations(s,i).update(t,r)}updateSharedOptions(t,s,r){t&&!ru(s)&&this._resolveAnimations(void 0,s).update(t,r)}_setStyle(t,s,r,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,s,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,r=this._cachedMeta.data;for(const[u,g,h]of this._syncList)this[u](g,h);this._syncList=[];const i=r.length,a=s.length,d=Math.min(a,i);d&&this.parse(0,d),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,r=!0){const i=this._cachedMeta,a=i.data,d=t+s;let u;const g=h=>{for(h.length+=s,u=h.length-1;u>=d;u--)h[u]=h[u-s]};for(g(a),u=t;u<d;++u)a[u]=new this.dataElementType;this._parsing&&g(i._parsed),this.parse(t,s),r&&this.updateElements(a,t,s,"reset")}updateElements(t,s,r,i){}_removeElements(t,s){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,s);r._stacked&&ga(r,i)}r.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,r,i]=t;this[s](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function HR(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,a=s.length;i<a;i++)r=r.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=qb(r.sort((i,a)=>i-a))}return e._cache.$bar}function zR(e){const t=e.iScale,s=HR(t,e.type);let r=t._length,i,a,d,u;const g=()=>{d===32767||d===-32768||(Ya(u)&&(r=Math.min(r,Math.abs(d-u)||r)),u=d)};for(i=0,a=s.length;i<a;++i)d=t.getPixelForValue(s[i]),g();for(u=void 0,i=0,a=t.ticks.length;i<a;++i)d=t.getPixelForTick(i),g();return r}function VR(e,t,s,r){const i=s.barThickness;let a,d;return xs(i)?(a=t.min*s.categoryPercentage,d=s.barPercentage):(a=i*r,d=1),{chunk:a/r,ratio:d,start:t.pixels[e]-a/2}}function qR(e,t,s,r){const i=t.pixels,a=i[e];let d=e>0?i[e-1]:null,u=e<i.length-1?i[e+1]:null;const g=s.categoryPercentage;d===null&&(d=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-d);const h=a-(a-Math.min(d,u))/2*g;return{chunk:Math.abs(u-d)/2*g/r,ratio:s.barPercentage,start:h}}function WR(e,t,s,r){const i=s.parse(e[0],r),a=s.parse(e[1],r),d=Math.min(i,a),u=Math.max(i,a);let g=d,h=u;Math.abs(d)>Math.abs(u)&&(g=u,h=d),t[s.axis]=h,t._custom={barStart:g,barEnd:h,start:i,end:a,min:d,max:u}}function ay(e,t,s,r){return zs(e)?WR(e,t,s,r):t[s.axis]=s.parse(e,r),t}function op(e,t,s,r){const i=e.iScale,a=e.vScale,d=i.getLabels(),u=i===a,g=[];let h,m,b,v;for(h=s,m=s+r;h<m;++h)v=t[h],b={},b[i.axis]=u||i.parse(d[h],h),g.push(ay(v,b,a,h));return g}function ou(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function QR(e,t,s){return e!==0?Ir(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function GR(e){let t,s,r,i,a;return e.horizontal?(t=e.base>e.x,s="left",r="right"):(t=e.base<e.y,s="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:s,end:r,reverse:t,top:i,bottom:a}}function KR(e,t,s,r){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:u,reverse:g,top:h,bottom:m}=GR(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===r?i=h:(s._bottom||0)===r?i=m:(a[ip(m,d,u,g)]=!0,i=h)),a[ip(i,d,u,g)]=!0,e.borderSkipped=a}function ip(e,t,s,r){return r?(e=YR(e,t,s),e=ap(e,s,t)):e=ap(e,t,s),e}function YR(e,t,s){return e===t?s:e===s?t:e}function ap(e,t,s){return e==="start"?t:e==="end"?s:e}function XR(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class JR extends td{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,s,r,i){return op(t,s,r,i)}parseArrayData(t,s,r,i){return op(t,s,r,i)}parseObjectData(t,s,r,i){const{iScale:a,vScale:d}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,h=a.axis==="x"?u:g,m=d.axis==="x"?u:g,b=[];let v,C,_,F;for(v=r,C=r+i;v<C;++v)F=s[v],_={},_[a.axis]=a.parse(ai(F,h),v),b.push(ay(ai(F,m),_,d,v));return b}updateRangeFromParsed(t,s,r,i){super.updateRangeFromParsed(t,s,r,i);const a=r._custom;a&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:r,vScale:i}=s,a=this.getParsed(t),d=a._custom,u=ou(d)?"["+d.start+", "+d.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,r,i){const a=i==="reset",{index:d,_cachedMeta:{vScale:u}}=this,g=u.getBasePixel(),h=u.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(s,i);for(let C=s;C<s+r;C++){const _=this.getParsed(C),F=a||xs(_[u.axis])?{base:g,head:g}:this._calculateBarValuePixels(C),S=this._calculateBarIndexPixels(C,m),D=(_._stacks||{})[u.axis],O={horizontal:h,base:F.base,enableBorderRadius:!D||ou(_._custom)||d===D._top||d===D._bottom,x:h?F.head:S.center,y:h?S.center:F.head,height:h?S.size:Math.abs(F.size),width:h?Math.abs(F.size):S.size};v&&(O.options=b||this.resolveDataElementOptions(C,t[C].active?"active":i));const P=O.options||t[C].options;KR(O,P,D,d),XR(O,P,m.ratio),this.updateElement(t[C],C,O,i)}}_getStacks(t,s){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,d=[],u=this._cachedMeta.controller.getParsed(s),g=u&&u[r.axis],h=m=>{const b=m._parsed.find(C=>C[r.axis]===g),v=b&&b[m.vScale.axis];if(xs(v)||isNaN(v))return!0};for(const m of i)if(!(s!==void 0&&h(m))&&((a===!1||d.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&d.push(m.stack),m.index===t))break;return d.length||d.push(void 0),d}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Jt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,r){const i=this._getStacks(t,r),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,s=this._cachedMeta,r=s.iScale,i=[];let a,d;for(a=0,d=s.data.length;a<d;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=t.barThickness;return{min:u||zR(s),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:r,index:i},options:{base:a,minBarLength:d}}=this,u=a||0,g=this.getParsed(t),h=g._custom,m=ou(h);let b=g[s.axis],v=0,C=r?this.applyStack(s,g,r):b,_,F;C!==b&&(v=C-b,C=b),m&&(b=h.barStart,C=h.barEnd-h.barStart,b!==0&&Ir(b)!==Ir(h.barEnd)&&(v=0),v+=b);const S=!xs(a)&&!m?a:v;let D=s.getPixelForValue(S);if(this.chart.getDataVisibility(t)?_=s.getPixelForValue(v+C):_=D,F=_-D,Math.abs(F)<d){F=QR(F,s,u)*d,b===u&&(D-=F/2);const O=s.getPixelForDecimal(0),P=s.getPixelForDecimal(1),B=Math.min(O,P),U=Math.max(O,P);D=Math.max(Math.min(D,U),B),_=D+F,r&&!m&&(g._stacks[s.axis]._visualValues[i]=s.getValueForPixel(_)-s.getValueForPixel(D))}if(D===s.getPixelForValue(u)){const O=Ir(F)*s.getLineWidthForValue(u)/2;D+=O,F-=O}return{size:F,base:D,head:_,center:_+F/2}}_calculateBarIndexPixels(t,s){const r=s.scale,i=this.options,a=i.skipNull,d=Jt(i.maxBarThickness,1/0);let u,g;const h=this._getAxisCount();if(s.grouped){const m=a?this._getStackCount(t):s.stackCount,b=i.barThickness==="flex"?qR(t,s,i,m*h):VR(t,s,i,m*h),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,C=this._getAxis().indexOf(Jt(v,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+C;u=b.start+b.chunk*_+b.chunk/2,g=Math.min(d,b.chunk*b.ratio)}else u=r.getPixelForValue(this.getParsed(t)[r.axis],t),g=Math.min(d,s.min*s.ratio);return{base:u-g/2,head:u+g/2,center:u,size:g}}draw(){const t=this._cachedMeta,s=t.vScale,r=t.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function ZR(e,t,s){let r=1,i=1,a=0,d=0;if(t<Ns){const u=e,g=u+t,h=Math.cos(u),m=Math.sin(u),b=Math.cos(g),v=Math.sin(g),C=(P,B,U)=>Ja(P,u,g,!0)?1:Math.max(B,B*s,U,U*s),_=(P,B,U)=>Ja(P,u,g,!0)?-1:Math.min(B,B*s,U,U*s),F=C(0,h,b),S=C(Vs,m,v),D=_(gs,h,b),O=_(gs+Vs,m,v);r=(F-D)/2,i=(S-O)/2,a=-(F+D)/2,d=-(S+O)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:d}}class ly extends td{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data,{labels:{pointStyle:r,textAlign:i,color:a,useBorderRadius:d,borderRadius:u}}=t.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((g,h)=>{const b=t.getDatasetMeta(0).controller.getStyle(h);return{text:g,fillStyle:b.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(h),lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,textAlign:i,pointStyle:r,borderRadius:d&&(u||b.borderRadius),index:h}}):[]}},onClick(t,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}}};constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=g=>+r[g];if(ds(r[t])){const{key:g="value"}=this._parsing;a=h=>+ai(r[h],g)}let d,u;for(d=t,u=t+s;d<u;++d)i._parsed[d]=a(d)}}_getRotation(){return Yr(this.options.rotation-90)}_getCircumference(){return Yr(this.options.circumference)}_getRotationExtents(){let t=Ns,s=-Ns;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),d=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+d)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:r}=s,i=this._cachedMeta,a=i.data,d=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-d)/2,0),g=Math.min(nP(this.options.cutout,u),1),h=this._getRingWeight(this.index),{circumference:m,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:C,offsetX:_,offsetY:F}=ZR(b,m,g),S=(r.width-d)/v,D=(r.height-d)/C,O=Math.max(Math.min(S,D)/2,0),P=jb(this.options.radius,O),B=Math.max(P*g,0),U=(P-B)/this._getVisibleDatasetWeightTotal();this.offsetX=_*P,this.offsetY=F*P,i.total=this.calculateTotal(),this.outerRadius=P-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*h,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Ns)}updateElements(t,s,r,i){const a=i==="reset",d=this.chart,u=d.chartArea,h=d.options.animation,m=(u.left+u.right)/2,b=(u.top+u.bottom)/2,v=a&&h.animateScale,C=v?0:this.innerRadius,_=v?0:this.outerRadius,{sharedOptions:F,includeOptions:S}=this._getSharedOptions(s,i);let D=this._getRotation(),O;for(O=0;O<s;++O)D+=this._circumference(O,a);for(O=s;O<s+r;++O){const P=this._circumference(O,a),B=t[O],U={x:m+this.offsetX,y:b+this.offsetY,startAngle:D,endAngle:D+P,circumference:P,outerRadius:_,innerRadius:C};S&&(U.options=F||this.resolveDataElementOptions(O,B.active?"active":i)),D+=P,this.updateElement(B,O,U,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let r=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Ns*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Lx(s._parsed[t],r.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const r=this.chart;let i,a,d,u,g;if(!t){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){d=r.getDatasetMeta(i),t=d.data,u=d.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)g=u.resolveDataElementOptions(i),g.borderAlign!=="inner"&&(s=Math.max(s,g.borderWidth||0,g.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let r=0,i=t.length;r<i;++r){const a=this.resolveDataElementOptions(r);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(s+=this._getRingWeight(r));return s}_getRingWeight(t){return Math.max(Jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class eO extends td{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=s,d=this.chart._animationsDisabled;let{start:u,count:g}=CP(s,i,d);this._drawStart=u,this._drawCount=g,AP(s)&&(u=0,g=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!d,options:h},t),this.updateElements(i,u,g,t)}updateElements(t,s,r,i){const a=i==="reset",{iScale:d,vScale:u,_stacked:g,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(s,i),v=d.axis,C=u.axis,{spanGaps:_,segment:F}=this.options,S=Xa(_)?_:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||a||i==="none",O=s+r,P=t.length;let B=s>0&&this.getParsed(s-1);for(let U=0;U<P;++U){const z=t[U],j=D?z:{};if(U<s||U>=O){j.skip=!0;continue}const H=this.getParsed(U),I=xs(H[C]),$=j[v]=d.getPixelForValue(H[v],U),J=j[C]=a||I?u.getBasePixel():u.getPixelForValue(g?this.applyStack(u,H,g):H[C],U);j.skip=isNaN($)||isNaN(J)||I,j.stop=U>0&&Math.abs(H[v]-B[v])>S,F&&(j.parsed=H,j.raw=h.data[U]),b&&(j.options=m||this.resolveDataElementOptions(U,z.active?"active":i)),D||this.updateElement(z,U,j,i),B=H}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,r=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,d)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class tO extends ly{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gx{static override(t){Object.assign(Gx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Lo()}parse(){return Lo()}format(){return Lo()}add(){return Lo()}diff(){return Lo()}startOf(){return Lo()}endOf(){return Lo()}}var sO={_date:Gx};function nO(e,t,s,r){const{controller:i,data:a,_sorted:d}=e,u=i._cachedMeta.iScale,g=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&d&&a.length){const h=u._reversePixels?bP:Go;if(r){if(i._sharedOptions){const m=a[0],b=typeof m.getRange=="function"&&m.getRange(t);if(b){const v=h(a,t,s-b),C=h(a,t,s+b);return{lo:v.lo,hi:C.hi}}}}else{const m=h(a,t,s);if(g){const{vScale:b}=i._cachedMeta,{_parsed:v}=e,C=v.slice(0,m.lo+1).reverse().findIndex(F=>!xs(F[b.axis]));m.lo-=Math.max(0,C);const _=v.slice(m.hi).findIndex(F=>!xs(F[b.axis]));m.hi+=Math.max(0,_)}return m}}return{lo:0,hi:a.length-1}}function sd(e,t,s,r,i){const a=e.getSortedVisibleDatasetMetas(),d=s[t];for(let u=0,g=a.length;u<g;++u){const{index:h,data:m}=a[u],{lo:b,hi:v}=nO(a[u],t,d,i);for(let C=b;C<=v;++C){const _=m[C];_.skip||r(_,h,C)}}}function rO(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(r,i){const a=t?Math.abs(r.x-i.x):0,d=s?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(d,2))}}function iu(e,t,s,r,i){const a=[];return!i&&!e.isPointInArea(t)||sd(e,s,t,function(u,g,h){!i&&!Za(u,e.chartArea,0)||u.inRange(t.x,t.y,r)&&a.push({element:u,datasetIndex:g,index:h})},!0),a}function oO(e,t,s,r){let i=[];function a(d,u,g){const{startAngle:h,endAngle:m}=d.getProps(["startAngle","endAngle"],r),{angle:b}=zb(d,{x:t.x,y:t.y});Ja(b,h,m)&&i.push({element:d,datasetIndex:u,index:g})}return sd(e,s,t,a),i}function iO(e,t,s,r,i,a){let d=[];const u=rO(s);let g=Number.POSITIVE_INFINITY;function h(m,b,v){const C=m.inRange(t.x,t.y,i);if(r&&!C)return;const _=m.getCenterPoint(i);if(!(!!a||e.isPointInArea(_))&&!C)return;const S=u(t,_);S<g?(d=[{element:m,datasetIndex:b,index:v}],g=S):S===g&&d.push({element:m,datasetIndex:b,index:v})}return sd(e,s,t,h),d}function au(e,t,s,r,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!r?oO(e,t,s,i):iO(e,t,s,r,i,a)}function lp(e,t,s,r,i){const a=[],d=s==="x"?"inXRange":"inYRange";let u=!1;return sd(e,s,t,(g,h,m)=>{g[d]&&g[d](t[s],i)&&(a.push({element:g,datasetIndex:h,index:m}),u=u||g.inRange(t.x,t.y,i))}),r&&!u?[]:a}var aO={modes:{index(e,t,s,r){const i=Uo(t,e),a=s.axis||"x",d=s.includeInvisible||!1,u=s.intersect?iu(e,i,a,r,d):au(e,i,a,!1,r,d),g=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const m=u[0].index,b=h.data[m];b&&!b.skip&&g.push({element:b,datasetIndex:h.index,index:m})}),g):[]},dataset(e,t,s,r){const i=Uo(t,e),a=s.axis||"xy",d=s.includeInvisible||!1;let u=s.intersect?iu(e,i,a,r,d):au(e,i,a,!1,r,d);if(u.length>0){const g=u[0].datasetIndex,h=e.getDatasetMeta(g).data;u=[];for(let m=0;m<h.length;++m)u.push({element:h[m],datasetIndex:g,index:m})}return u},point(e,t,s,r){const i=Uo(t,e),a=s.axis||"xy",d=s.includeInvisible||!1;return iu(e,i,a,r,d)},nearest(e,t,s,r){const i=Uo(t,e),a=s.axis||"xy",d=s.includeInvisible||!1;return au(e,i,a,s.intersect,r,d)},x(e,t,s,r){const i=Uo(t,e);return lp(e,i,"x",s.intersect,r)},y(e,t,s,r){const i=Uo(t,e);return lp(e,i,"y",s.intersect,r)}}};const dy=["left","top","right","bottom"];function pa(e,t){return e.filter(s=>s.pos===t)}function dp(e,t){return e.filter(s=>dy.indexOf(s.pos)===-1&&s.box.axis===t)}function ma(e,t){return e.sort((s,r)=>{const i=t?r:s,a=t?s:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function lO(e){const t=[];let s,r,i,a,d,u;for(s=0,r=(e||[]).length;s<r;++s)i=e[s],{position:a,options:{stack:d,stackWeight:u=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:d&&a+d,stackWeight:u});return t}function dO(e){const t={};for(const s of e){const{stack:r,pos:i,stackWeight:a}=s;if(!r||!dy.includes(i))continue;const d=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=a}return t}function cO(e,t){const s=dO(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,d,u;for(a=0,d=e.length;a<d;++a){u=e[a];const{fullSize:g}=u.box,h=s[u.stack],m=h&&u.stackWeight/h.weight;u.horizontal?(u.width=m?m*r:g&&t.availableWidth,u.height=i):(u.width=r,u.height=m?m*i:g&&t.availableHeight)}return s}function uO(e){const t=lO(e),s=ma(t.filter(h=>h.box.fullSize),!0),r=ma(pa(t,"left"),!0),i=ma(pa(t,"right")),a=ma(pa(t,"top"),!0),d=ma(pa(t,"bottom")),u=dp(t,"x"),g=dp(t,"y");return{fullSize:s,leftAndTop:r.concat(a),rightAndBottom:i.concat(g).concat(d).concat(u),chartArea:pa(t,"chartArea"),vertical:r.concat(i).concat(g),horizontal:a.concat(d).concat(u)}}function cp(e,t,s,r){return Math.max(e[s],t[s])+Math.max(e[r],t[r])}function cy(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xO(e,t,s,r){const{pos:i,box:a}=s,d=e.maxPadding;if(!ds(i)){s.size&&(e[i]-=s.size);const b=r[s.stack]||{size:0,count:1};b.size=Math.max(b.size,s.horizontal?a.height:a.width),s.size=b.size/b.count,e[i]+=s.size}a.getPadding&&cy(d,a.getPadding());const u=Math.max(0,t.outerWidth-cp(d,e,"left","right")),g=Math.max(0,t.outerHeight-cp(d,e,"top","bottom")),h=u!==e.w,m=g!==e.h;return e.w=u,e.h=g,s.horizontal?{same:h,other:m}:{same:m,other:h}}function fO(e){const t=e.maxPadding;function s(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function hO(e,t){const s=t.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(d=>{a[d]=Math.max(t[d],s[d])}),a}return r(e?["left","right"]:["top","bottom"])}function Aa(e,t,s,r){const i=[];let a,d,u,g,h,m;for(a=0,d=e.length,h=0;a<d;++a){u=e[a],g=u.box,g.update(u.width||t.w,u.height||t.h,hO(u.horizontal,t));const{same:b,other:v}=xO(t,s,u,r);h|=b&&i.length,m=m||v,g.fullSize||i.push(u)}return h&&Aa(i,t,s,r)||m}function Hl(e,t,s,r,i){e.top=s,e.left=t,e.right=t+r,e.bottom=s+i,e.width=r,e.height=i}function up(e,t,s,r){const i=s.padding;let{x:a,y:d}=t;for(const u of e){const g=u.box,h=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/h.weight||1;if(u.horizontal){const b=t.w*m,v=h.size||g.height;Ya(h.start)&&(d=h.start),g.fullSize?Hl(g,i.left,d,s.outerWidth-i.right-i.left,v):Hl(g,t.left+h.placed,d,b,v),h.start=d,h.placed+=b,d=g.bottom}else{const b=t.h*m,v=h.size||g.width;Ya(h.start)&&(a=h.start),g.fullSize?Hl(g,a,i.top,v,s.outerHeight-i.bottom-i.top):Hl(g,a,t.top+h.placed,v,b),h.start=a,h.placed+=b,a=g.right}}t.x=a,t.y=d}var Jn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,r){if(!e)return;const i=nr(e.options.layout.padding),a=Math.max(t-i.width,0),d=Math.max(s-i.height,0),u=uO(e.boxes),g=u.vertical,h=u.horizontal;hs(e.boxes,F=>{typeof F.beforeLayout=="function"&&F.beforeLayout()});const m=g.reduce((F,S)=>S.box.options&&S.box.options.display===!1?F:F+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:d,vBoxMaxWidth:a/2/m,hBoxMaxHeight:d/2}),v=Object.assign({},i);cy(v,nr(r));const C=Object.assign({maxPadding:v,w:a,h:d,x:i.left,y:i.top},i),_=cO(g.concat(h),b);Aa(u.fullSize,C,b,_),Aa(g,C,b,_),Aa(h,C,b,_)&&Aa(g,C,b,_),fO(C),up(u.leftAndTop,C,b,_),C.x+=C.w,C.y+=C.h,up(u.rightAndBottom,C,b,_),e.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},hs(u.chartArea,F=>{const S=F.box;Object.assign(S,e.chartArea),S.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class uy{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,r){}removeEventListener(t,s,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,r,i){return s=Math.max(0,s||t.width),r=r||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):r)}}isAttached(t){return!0}updateConfig(t){}}class gO extends uy{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const r0="$chartjs",pO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xp=e=>e===null||e==="";function mO(e,t){const s=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[r0]={initial:{height:r,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",xp(i)){const a=Kg(e,"width");a!==void 0&&(e.width=a)}if(xp(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Kg(e,"height");a!==void 0&&(e.height=a)}return e}const xy=fR?{passive:!0}:!1;function bO(e,t,s){e&&e.addEventListener(t,s,xy)}function yO(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,xy)}function vO(e,t){const s=pO[e.type]||e.type,{x:r,y:i}=Uo(e,t);return{type:s,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function M0(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function wO(e,t,s){const r=e.canvas,i=new MutationObserver(a=>{let d=!1;for(const u of a)d=d||M0(u.addedNodes,r),d=d&&!M0(u.removedNodes,r);d&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function EO(e,t,s){const r=e.canvas,i=new MutationObserver(a=>{let d=!1;for(const u of a)d=d||M0(u.removedNodes,r),d=d&&!M0(u.addedNodes,r);d&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const tl=new Map;let fp=0;function fy(){const e=window.devicePixelRatio;e!==fp&&(fp=e,tl.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function CO(e,t){tl.size||window.addEventListener("resize",fy),tl.set(e,t)}function AO(e){tl.delete(e),tl.size||window.removeEventListener("resize",fy)}function kO(e,t,s){const r=e.canvas,i=r&&Qx(r);if(!i)return;const a=Qb((u,g)=>{const h=i.clientWidth;s(u,g),h<i.clientWidth&&s()},window),d=new ResizeObserver(u=>{const g=u[0],h=g.contentRect.width,m=g.contentRect.height;h===0&&m===0||a(h,m)});return d.observe(i),CO(e,a),d}function lu(e,t,s){s&&s.disconnect(),t==="resize"&&AO(e)}function BO(e,t,s){const r=e.canvas,i=Qb(a=>{e.ctx!==null&&s(vO(a,e))},e);return bO(r,t,i),i}class _O extends uy{acquireContext(t,s){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(mO(t,s),r):null}releaseContext(t){const s=t.canvas;if(!s[r0])return!1;const r=s[r0].initial;["height","width"].forEach(a=>{const d=r[a];xs(d)?s.removeAttribute(a):s.setAttribute(a,d)});const i=r.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[r0],!0}addEventListener(t,s,r){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),d={attach:wO,detach:EO,resize:kO}[s]||BO;i[s]=d(t,s,r)}removeEventListener(t,s){const r=t.$proxies||(t.$proxies={}),i=r[s];if(!i)return;({attach:lu,detach:lu,resize:lu}[s]||yO)(t,s,i),r[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,r,i){return xR(t,s,r,i)}isAttached(t){const s=t&&Qx(t);return!!(s&&s.isConnected)}}function DO(e){return!Wx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?gO:_O}let ro=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:s,y:r}=this.getProps(["x","y"],t);return{x:s,y:r}}hasValue(){return Xa(this.x)&&Xa(this.y)}getProps(t,s){const r=this.$animations;if(!s||!r)return this;const i={};return t.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}};function SO(e,t){const s=e.options.ticks,r=FO(e),i=Math.min(s.maxTicksLimit||r,r),a=s.major.enabled?MO(t):[],d=a.length,u=a[0],g=a[d-1],h=[];if(d>i)return IO(t,h,a,d/i),h;const m=TO(a,t,i);if(d>0){let b,v;const C=d>1?Math.round((g-u)/(d-1)):null;for(zl(t,h,m,xs(C)?0:u-C,u),b=0,v=d-1;b<v;b++)zl(t,h,m,a[b],a[b+1]);return zl(t,h,m,g,xs(C)?t.length:g+C),h}return zl(t,h,m),h}function FO(e){const t=e.options.offset,s=e._tickSize(),r=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(r,i))}function TO(e,t,s){const r=PO(e),i=t.length/s;if(!r)return Math.max(i,1);const a=uP(r);for(let d=0,u=a.length-1;d<u;d++){const g=a[d];if(g>i)return g}return Math.max(i,1)}function MO(e){const t=[];let s,r;for(s=0,r=e.length;s<r;s++)e[s].major&&t.push(s);return t}function IO(e,t,s,r){let i=0,a=s[0],d;for(r=Math.ceil(r),d=0;d<e.length;d++)d===a&&(t.push(e[d]),i++,a=s[i*r])}function zl(e,t,s,r,i){const a=Jt(r,0),d=Math.min(Jt(i,e.length),e.length);let u=0,g,h,m;for(s=Math.ceil(s),i&&(g=i-r,s=g/Math.floor(g/s)),m=a;m<0;)u++,m=Math.round(a+u*s);for(h=Math.max(a,0);h<d;h++)h===m&&(t.push(e[h]),u++,m=Math.round(a+u*s))}function PO(e){const t=e.length;let s,r;if(t<2)return!1;for(r=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==r)return!1;return r}const RO=e=>e==="left"?"right":e==="right"?"left":e,hp=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,gp=(e,t)=>Math.min(t||e,e);function pp(e,t){const s=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)s.push(e[Math.floor(a)]);return s}function OO(e,t,s){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,d=e._endPixel,u=1e-6;let g=e.getPixelForTick(i),h;if(!(s&&(r===1?h=Math.max(g-a,d-g):t===0?h=(e.getPixelForTick(1)-g)/2:h=(g-e.getPixelForTick(i-1))/2,g+=i<t?h:-h,g<a-u||g>d+u)))return g}function NO(e,t){hs(e,s=>{const r=s.gc,i=r.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[r[a]];r.splice(0,i)}})}function ba(e){return e.drawTicks?e.tickLength:0}function mp(e,t){if(!e.display)return 0;const s=fn(e.font,t),r=nr(e.padding);return(zs(e.text)?e.text.length:1)*s.lineHeight+r.height}function $O(e,t){return fi(e,{scale:t,type:"scale"})}function LO(e,t,s){return fi(e,{tick:s,index:t,type:"tick"})}function jO(e,t,s){let r=Nx(e);return(s&&t!=="right"||!s&&t==="right")&&(r=RO(r)),r}function UO(e,t,s,r){const{top:i,left:a,bottom:d,right:u,chart:g}=e,{chartArea:h,scales:m}=g;let b=0,v,C,_;const F=d-i,S=u-a;if(e.isHorizontal()){if(C=ln(r,a,u),ds(s)){const D=Object.keys(s)[0],O=s[D];_=m[D].getPixelForValue(O)+F-t}else s==="center"?_=(h.bottom+h.top)/2+F-t:_=hp(e,s,t);v=u-a}else{if(ds(s)){const D=Object.keys(s)[0],O=s[D];C=m[D].getPixelForValue(O)-S+t}else s==="center"?C=(h.left+h.right)/2-S+t:C=hp(e,s,t);_=ln(r,d,i),b=s==="left"?-Vs:Vs}return{titleX:C,titleY:_,maxWidth:v,rotation:b}}class Ji extends ro{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:r,_suggestedMax:i}=this;return t=Ar(t,Number.POSITIVE_INFINITY),s=Ar(s,Number.NEGATIVE_INFINITY),r=Ar(r,Number.POSITIVE_INFINITY),i=Ar(i,Number.NEGATIVE_INFINITY),{min:Ar(t,r),max:Ar(s,i),minDefined:sr(t),maxDefined:sr(s)}}getMinMax(t){let{min:s,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),d;if(i&&a)return{min:s,max:r};const u=this.getMatchingVisibleMetas();for(let g=0,h=u.length;g<h;++g)d=u[g].controller.getMinMax(this,t),i||(s=Math.min(s,d.min)),a||(r=Math.max(r,d.max));return s=a&&s>r?r:s,r=i&&s>r?s:r,{min:Ar(s,Ar(r,s)),max:Ar(r,Ar(s,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ds(this.options.beforeUpdate,[this])}update(t,s,r){const{beginAtZero:i,grace:a,ticks:d}=this.options,u=d.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VP(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=u<this.ticks.length;this._convertTicksToLabels(g?pp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=SO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,r;this.isHorizontal()?(s=this.left,r=this.right):(s=this.top,r=this.bottom,t=!t),this._startPixel=s,this._endPixel=r,this._reversePixels=t,this._length=r-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ds(this.options.afterUpdate,[this])}beforeSetDimensions(){Ds(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ds(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ds(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ds(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r],a.label=Ds(s.callback,[a.value,r,t],this)}afterTickToLabelConversion(){Ds(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ds(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,r=gp(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let d=i,u,g,h;if(!this._isVisible()||!s.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),b=m.widest.width,v=m.highest.height,C=xn(this.chart.width-b,0,this.maxWidth);u=t.offset?this.maxWidth/r:C/(r-1),b+6>u&&(u=C/(r-(t.offset?.5:1)),g=this.maxHeight-ba(t.grid)-s.padding-mp(t.title,this.chart.options.font),h=Math.sqrt(b*b+v*v),d=gP(Math.min(Math.asin(xn((m.highest.height+6)/u,-1,1)),Math.asin(xn(g/h,-1,1))-Math.asin(xn(v/h,-1,1)))),d=Math.max(i,Math.min(a,d))),this.labelRotation=d}afterCalculateLabelRotation(){Ds(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ds(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:r,title:i,grid:a}}=this,d=this._isVisible(),u=this.isHorizontal();if(d){const g=mp(i,s.options.font);if(u?(t.width=this.maxWidth,t.height=ba(a)+g):(t.height=this.maxHeight,t.width=ba(a)+g),r.display&&this.ticks.length){const{first:h,last:m,widest:b,highest:v}=this._getLabelSizes(),C=r.padding*2,_=Yr(this.labelRotation),F=Math.cos(_),S=Math.sin(_);if(u){const D=r.mirror?0:S*b.width+F*v.height;t.height=Math.min(this.maxHeight,t.height+D+C)}else{const D=r.mirror?0:F*b.width+S*v.height;t.width=Math.min(this.maxWidth,t.width+D+C)}this._calculatePadding(h,m,S,F)}}this._handleMargins(),u?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,r,i){const{ticks:{align:a,padding:d},position:u}=this.options,g=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,C=0;g?h?(v=i*t.width,C=r*s.height):(v=r*t.height,C=i*s.width):a==="start"?C=s.width:a==="end"?v=t.width:a!=="inner"&&(v=t.width/2,C=s.width/2),this.paddingLeft=Math.max((v-m+d)*this.width/(this.width-m),0),this.paddingRight=Math.max((C-b+d)*this.width/(this.width-b),0)}else{let m=s.height/2,b=t.height/2;a==="start"?(m=0,b=t.height):a==="end"&&(m=s.height,b=0),this.paddingTop=m+d,this.paddingBottom=b+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ds(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,r;for(s=0,r=t.length;s<r;s++)xs(t[s].label)&&(t.splice(s,1),r--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let r=this.ticks;s<r.length&&(r=pp(r,s)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,r){const{ctx:i,_longestTextCache:a}=this,d=[],u=[],g=Math.floor(s/gp(s,r));let h=0,m=0,b,v,C,_,F,S,D,O,P,B,U;for(b=0;b<s;b+=g){if(_=t[b].label,F=this._resolveTickFontOptions(b),i.font=S=F.string,D=a[S]=a[S]||{data:{},gc:[]},O=F.lineHeight,P=B=0,!xs(_)&&!zs(_))P=Vg(i,D.data,D.gc,P,_),B=O;else if(zs(_))for(v=0,C=_.length;v<C;++v)U=_[v],!xs(U)&&!zs(U)&&(P=Vg(i,D.data,D.gc,P,U),B+=O);d.push(P),u.push(B),h=Math.max(P,h),m=Math.max(B,m)}NO(a,s);const z=d.indexOf(h),j=u.indexOf(m),H=I=>({width:d[I]||0,height:u[I]||0});return{first:H(0),last:H(s-1),widest:H(z),highest:H(j),widths:d,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return mP(this._alignToPixels?$o(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const r=s[t];return r.$context||(r.$context=LO(this.getContext(),t,r))}return this.$context||(this.$context=$O(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Yr(this.labelRotation),r=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),d=t.autoSkipPadding||0,u=a?a.widest.width+d:0,g=a?a.highest.height+d:0;return this.isHorizontal()?g*r>u*i?u/r:g/i:g*i<u*r?g/r:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,r=this.chart,i=this.options,{grid:a,position:d,border:u}=i,g=a.offset,h=this.isHorizontal(),b=this.ticks.length+(g?1:0),v=ba(a),C=[],_=u.setContext(this.getContext()),F=_.display?_.width:0,S=F/2,D=function(le){return $o(r,le,F)};let O,P,B,U,z,j,H,I,$,J,K,ie;if(d==="top")O=D(this.bottom),j=this.bottom-v,I=O-S,J=D(t.top)+S,ie=t.bottom;else if(d==="bottom")O=D(this.top),J=t.top,ie=D(t.bottom)-S,j=O+S,I=this.top+v;else if(d==="left")O=D(this.right),z=this.right-v,H=O-S,$=D(t.left)+S,K=t.right;else if(d==="right")O=D(this.left),$=t.left,K=D(t.right)-S,z=O+S,H=this.left+v;else if(s==="x"){if(d==="center")O=D((t.top+t.bottom)/2+.5);else if(ds(d)){const le=Object.keys(d)[0],he=d[le];O=D(this.chart.scales[le].getPixelForValue(he))}J=t.top,ie=t.bottom,j=O+S,I=j+v}else if(s==="y"){if(d==="center")O=D((t.left+t.right)/2);else if(ds(d)){const le=Object.keys(d)[0],he=d[le];O=D(this.chart.scales[le].getPixelForValue(he))}z=O-S,H=z-v,$=t.left,K=t.right}const fe=Jt(i.ticks.maxTicksLimit,b),q=Math.max(1,Math.ceil(b/fe));for(P=0;P<b;P+=q){const le=this.getContext(P),he=a.setContext(le),ve=u.setContext(le),Ie=he.lineWidth,Ue=he.color,be=ve.dash||[],qe=ve.dashOffset,ot=he.tickWidth,Ge=he.tickColor,dt=he.tickBorderDash||[],ze=he.tickBorderDashOffset;B=OO(this,P,g),B!==void 0&&(U=$o(r,B,Ie),h?z=H=$=K=U:j=I=J=ie=U,C.push({tx1:z,ty1:j,tx2:H,ty2:I,x1:$,y1:J,x2:K,y2:ie,width:Ie,color:Ue,borderDash:be,borderDashOffset:qe,tickWidth:ot,tickColor:Ge,tickBorderDash:dt,tickBorderDashOffset:ze}))}return this._ticksLength=b,this._borderValue=O,C}_computeLabelItems(t){const s=this.axis,r=this.options,{position:i,ticks:a}=r,d=this.isHorizontal(),u=this.ticks,{align:g,crossAlign:h,padding:m,mirror:b}=a,v=ba(r.grid),C=v+m,_=b?-m:C,F=-Yr(this.labelRotation),S=[];let D,O,P,B,U,z,j,H,I,$,J,K,ie="middle";if(i==="top")z=this.bottom-_,j=this._getXAxisLabelAlignment();else if(i==="bottom")z=this.top+_,j=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(v);j=q.textAlign,U=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(v);j=q.textAlign,U=q.x}else if(s==="x"){if(i==="center")z=(t.top+t.bottom)/2+C;else if(ds(i)){const q=Object.keys(i)[0],le=i[q];z=this.chart.scales[q].getPixelForValue(le)+C}j=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")U=(t.left+t.right)/2-C;else if(ds(i)){const q=Object.keys(i)[0],le=i[q];U=this.chart.scales[q].getPixelForValue(le)}j=this._getYAxisLabelAlignment(v).textAlign}s==="y"&&(g==="start"?ie="top":g==="end"&&(ie="bottom"));const fe=this._getLabelSizes();for(D=0,O=u.length;D<O;++D){P=u[D],B=P.label;const q=a.setContext(this.getContext(D));H=this.getPixelForTick(D)+a.labelOffset,I=this._resolveTickFontOptions(D),$=I.lineHeight,J=zs(B)?B.length:1;const le=J/2,he=q.color,ve=q.textStrokeColor,Ie=q.textStrokeWidth;let Ue=j;d?(U=H,j==="inner"&&(D===O-1?Ue=this.options.reverse?"left":"right":D===0?Ue=this.options.reverse?"right":"left":Ue="center"),i==="top"?h==="near"||F!==0?K=-J*$+$/2:h==="center"?K=-fe.highest.height/2-le*$+$:K=-fe.highest.height+$/2:h==="near"||F!==0?K=$/2:h==="center"?K=fe.highest.height/2-le*$:K=fe.highest.height-J*$,b&&(K*=-1),F!==0&&!q.showLabelBackdrop&&(U+=$/2*Math.sin(F))):(z=H,K=(1-J)*$/2);let be;if(q.showLabelBackdrop){const qe=nr(q.backdropPadding),ot=fe.heights[D],Ge=fe.widths[D];let dt=K-qe.top,ze=0-qe.left;switch(ie){case"middle":dt-=ot/2;break;case"bottom":dt-=ot;break}switch(j){case"center":ze-=Ge/2;break;case"right":ze-=Ge;break;case"inner":D===O-1?ze-=Ge:D>0&&(ze-=Ge/2);break}be={left:ze,top:dt,width:Ge+qe.width,height:ot+qe.height,color:q.backdropColor}}S.push({label:B,font:I,textOffset:K,options:{rotation:F,color:he,strokeColor:ve,strokeWidth:Ie,textAlign:Ue,textBaseline:ie,translation:[U,z],backdrop:be}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Yr(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,d=this._getLabelSizes(),u=t+a,g=d.widest.width;let h,m;return s==="left"?i?(m=this.right+a,r==="near"?h="left":r==="center"?(h="center",m+=g/2):(h="right",m+=g)):(m=this.right-u,r==="near"?h="right":r==="center"?(h="center",m-=g/2):(h="left",m=this.left)):s==="right"?i?(m=this.left+a,r==="near"?h="right":r==="center"?(h="center",m-=g/2):(h="left",m-=g)):(m=this.left+u,r==="near"?h="left":r==="center"?(h="center",m+=g/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:r,top:i,width:a,height:d}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(r,i,a,d),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,d;const u=(g,h,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(s.display)for(a=0,d=i.length;a<d;++a){const g=i[a];s.drawOnChartArea&&u({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),s.drawTicks&&u({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),d=r.display?a.width:0;if(!d)return;const u=i.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let h,m,b,v;this.isHorizontal()?(h=$o(t,this.left,d)-d/2,m=$o(t,this.right,u)+u/2,b=v=g):(b=$o(t,this.top,d)-d/2,v=$o(t,this.bottom,u)+u/2,h=m=g),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(h,b),s.lineTo(m,v),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&jx(r,i);const a=this.getLabelItems(t);for(const d of a){const u=d.options,g=d.font,h=d.label,m=d.textOffset;el(r,h,0,m,g,u)}i&&Ux(r)}drawTitle(){const{ctx:t,options:{position:s,title:r,reverse:i}}=this;if(!r.display)return;const a=fn(r.font),d=nr(r.padding),u=r.align;let g=a.lineHeight/2;s==="bottom"||s==="center"||ds(s)?(g+=d.bottom,zs(r.text)&&(g+=a.lineHeight*(r.text.length-1))):g+=d.top;const{titleX:h,titleY:m,maxWidth:b,rotation:v}=UO(this,g,s,u);el(t,r.text,0,0,a,{color:r.color,maxWidth:b,rotation:v,textAlign:jO(u,s,i),textBaseline:"middle",translation:[h,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,r=Jt(t.grid&&t.grid.z,-1),i=Jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ji.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,d;for(a=0,d=s.length;a<d;++a){const u=s[a];u[r]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return fn(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Vl{constructor(t,s,r){this.type=t,this.scope=s,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let r;VO(s)&&(r=this.register(s));const i=this.items,a=t.id,d=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,HO(t,d,r),this.override&&$s.override(t.id,t.overrides)),d}get(t){return this.items[t]}unregister(t){const s=this.items,r=t.id,i=this.scope;r in s&&delete s[r],i&&r in $s[i]&&(delete $s[i][r],this.override&&delete li[r])}}function HO(e,t,s){const r=Ka(Object.create(null),[s?$s.get(s):{},$s.get(t),e.defaults]);$s.set(t,r),e.defaultRoutes&&zO(t,e.defaultRoutes),e.descriptors&&$s.describe(t,e.descriptors)}function zO(e,t){Object.keys(t).forEach(s=>{const r=s.split("."),i=r.pop(),a=[e].concat(r).join("."),d=t[s].split("."),u=d.pop(),g=d.join(".");$s.route(a,i,g,u)})}function VO(e){return"id"in e&&"defaults"in e}class qO{constructor(){this.controllers=new Vl(td,"datasets",!0),this.elements=new Vl(ro,"elements"),this.plugins=new Vl(Object,"plugins"),this.scales=new Vl(Ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,r){[...s].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):hs(i,d=>{const u=r||this._getRegistryForType(d);this._exec(t,u,d)})})}_exec(t,s,r){const i=Rx(t);Ds(r["before"+i],[],r),s[t](r),Ds(r["after"+i],[],r)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const r=this._typedRegistries[s];if(r.isForType(t))return r}return this.plugins}_get(t,s,r){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Sr=new qO;class WO{constructor(){this._init=void 0}notify(t,s,r,i){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=i?this._descriptors(t).filter(i):this._descriptors(t),d=this._notify(a,t,s,r);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),d}_notify(t,s,r,i){i=i||{};for(const a of t){const d=a.plugin,u=d[r],g=[s,i,a.options];if(Ds(u,g,d)===!1&&i.cancelable)return!1}return!0}invalidate(){xs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const r=t&&t.config,i=Jt(r.options&&r.options.plugins,{}),a=QO(r);return i===!1&&!s?[]:KO(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],r=this._cache,i=(a,d)=>a.filter(u=>!d.some(g=>u.plugin.id===g.plugin.id));this._notify(i(s,r),t,"stop"),this._notify(i(r,s),t,"start")}}function QO(e){const t={},s=[],r=Object.keys(Sr.plugins.items);for(let a=0;a<r.length;a++)s.push(Sr.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const d=i[a];s.indexOf(d)===-1&&(s.push(d),t[d.id]=!0)}return{plugins:s,localIds:t}}function GO(e,t){return!t&&e===!1?null:e===!0?{}:e}function KO(e,{plugins:t,localIds:s},r,i){const a=[],d=e.getContext();for(const u of t){const g=u.id,h=GO(r[g],i);h!==null&&a.push({plugin:u,options:YO(e.config,{plugin:u,local:s[g]},h,d)})}return a}function YO(e,{plugin:t,local:s},r,i){const a=e.pluginScopeKeys(t),d=e.getOptionScopes(r,a);return s&&t.defaults&&d.push(t.defaults),e.createResolver(d,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vu(e,t){const s=$s.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function XO(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function JO(e,t){return e===t?"_index_":"_value_"}function bp(e){if(e==="x"||e==="y"||e==="r")return e}function ZO(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function qu(e,...t){if(bp(e))return e;for(const s of t){const r=s.axis||ZO(s.position)||e.length>1&&bp(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function yp(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function eN(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(s.length)return yp(e,"x",s[0])||yp(e,"y",s[0])}return{}}function tN(e,t){const s=li[e.type]||{scales:{}},r=t.scales||{},i=Vu(e.type,t),a=Object.create(null);return Object.keys(r).forEach(d=>{const u=r[d];if(!ds(u))return console.error(`Invalid scale configuration for scale: ${d}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const g=qu(d,u,eN(d,e),$s.scales[u.type]),h=JO(g,i),m=s.scales||{};a[d]=Pa(Object.create(null),[{axis:g},u,m[g],m[h]])}),e.data.datasets.forEach(d=>{const u=d.type||e.type,g=d.indexAxis||Vu(u,t),m=(li[u]||{}).scales||{};Object.keys(m).forEach(b=>{const v=XO(b,g),C=d[v+"AxisID"]||v;a[C]=a[C]||Object.create(null),Pa(a[C],[{axis:v},r[C],m[b]])})}),Object.keys(a).forEach(d=>{const u=a[d];Pa(u,[$s.scales[u.type],$s.scale])}),a}function hy(e){const t=e.options||(e.options={});t.plugins=Jt(t.plugins,{}),t.scales=tN(e,t)}function gy(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function sN(e){return e=e||{},e.data=gy(e.data),hy(e),e}const vp=new Map,py=new Set;function ql(e,t){let s=vp.get(e);return s||(s=t(),vp.set(e,s),py.add(s)),s}const ya=(e,t,s)=>{const r=ai(t,s);r!==void 0&&e.add(r)};class nN{constructor(t){this._config=sN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gy(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ql(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return ql(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return ql(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,r=this.type;return ql(`${r}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const r=this._scopeCache;let i=r.get(t);return(!i||s)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,s,r){const{options:i,type:a}=this,d=this._cachedScopes(t,r),u=d.get(s);if(u)return u;const g=new Set;s.forEach(m=>{t&&(g.add(t),m.forEach(b=>ya(g,t,b))),m.forEach(b=>ya(g,i,b)),m.forEach(b=>ya(g,li[a]||{},b)),m.forEach(b=>ya(g,$s,b)),m.forEach(b=>ya(g,Hu,b))});const h=Array.from(g);return h.length===0&&h.push(Object.create(null)),py.has(s)&&d.set(s,h),h}chartOptionScopes(){const{options:t,type:s}=this;return[t,li[s]||{},$s.datasets[s]||{},{type:s},$s,Hu]}resolveNamedOptions(t,s,r,i=[""]){const a={$shared:!0},{resolver:d,subPrefixes:u}=wp(this._resolverCache,t,i);let g=d;if(oN(d,s)){a.$shared=!1,r=Fo(r)?r():r;const h=this.createResolver(t,r,u);g=Vi(d,r,h)}for(const h of s)a[h]=g[h];return a}createResolver(t,s,r=[""],i){const{resolver:a}=wp(this._resolverCache,t,r);return ds(s)?Vi(a,s,void 0,i):a}}function wp(e,t,s){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=s.join();let a=r.get(i);return a||(a={resolver:zx(t,s),subPrefixes:s.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,a)),a}const rN=e=>ds(e)&&Object.getOwnPropertyNames(e).some(t=>Fo(e[t]));function oN(e,t){const{isScriptable:s,isIndexable:r}=Xb(e);for(const i of t){const a=s(i),d=r(i),u=(d||a)&&e[i];if(a&&(Fo(u)||rN(u))||d&&zs(u))return!0}return!1}var iN="4.5.1";const aN=["top","bottom","left","right","chartArea"];function Ep(e,t){return e==="top"||e==="bottom"||aN.indexOf(e)===-1&&t==="x"}function Cp(e,t){return function(s,r){return s[e]===r[e]?s[t]-r[t]:s[e]-r[e]}}function Ap(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Ds(s&&s.onComplete,[e],t)}function lN(e){const t=e.chart,s=t.options.animation;Ds(s&&s.onProgress,[e],t)}function my(e){return Wx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const o0={},kp=e=>{const t=my(e);return Object.values(o0).filter(s=>s.canvas===t).pop()};function dN(e,t,s){const r=Object.keys(e);for(const i of r){const a=+i;if(a>=t){const d=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=d)}}}function cN(e,t,s,r){return!s||e.type==="mouseout"?null:r?t:e}let hl=class{static defaults=$s;static instances=o0;static overrides=li;static registry=Sr;static version=iN;static getChart=kp;static register(...t){Sr.add(...t),Bp()}static unregister(...t){Sr.remove(...t),Bp()}constructor(t,s){const r=this.config=new nN(s),i=my(t),a=kp(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const d=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||DO(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,d.aspectRatio),g=u&&u.canvas,h=g&&g.height,m=g&&g.width;if(this.id=sP(),this.ctx=u,this.canvas=g,this.width=m,this.height=h,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new WO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wP(b=>this.update(b),d.resizeDelay||0),this._dataChanges=[],o0[this.id]=this,!u||!g){console.error("Failed to create chart: can't acquire context from the given item");return}Ur.listen(this,"complete",Ap),Ur.listen(this,"progress",lN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:r,height:i,_aspectRatio:a}=this;return xs(t)?s&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qg(this.canvas,this.ctx),this}stop(){return Ur.stop(this),this}resize(t,s){Ur.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(i,t,s,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,Gg(this,u,!0)&&(this.notifyPlugins("resize",{size:d}),Ds(r.onResize,[this,d],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};hs(s,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,r=this.scales,i=Object.keys(r).reduce((d,u)=>(d[u]=!1,d),{});let a=[];s&&(a=a.concat(Object.keys(s).map(d=>{const u=s[d],g=qu(d,u),h=g==="r",m=g==="x";return{options:u,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),hs(a,d=>{const u=d.options,g=u.id,h=qu(g,u),m=Jt(u.type,d.dtype);(u.position===void 0||Ep(u.position,h)!==Ep(d.dposition))&&(u.position=d.dposition),i[g]=!0;let b=null;if(g in r&&r[g].type===m)b=r[g];else{const v=Sr.getScale(m);b=new v({id:g,type:m,ctx:this.ctx,chart:this}),r[b.id]=b}b.init(u,t)}),hs(i,(d,u)=>{d||delete r[u]}),hs(r,d=>{Jn.configure(this,d,d.options),Jn.addBox(this,d)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>s){for(let i=s;i<r;++i)this._destroyDatasetMeta(i);t.splice(s,r-s)}this._sortedMetasets=t.slice(0).sort(Cp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((r,i)=>{s.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=s.length;r<i;r++){const a=s[r];let d=this.getDatasetMeta(r);const u=a.type||this.config.type;if(d.type&&d.type!==u&&(this._destroyDatasetMeta(r),d=this.getDatasetMeta(r)),d.type=u,d.indexAxis=a.indexAxis||Vu(u,this.options),d.order=a.order||0,d.index=r,d.label=""+a.label,d.visible=this.isDatasetVisible(r),d.controller)d.controller.updateIndex(r),d.controller.linkScales();else{const g=Sr.getController(u),{datasetElementType:h,dataElementType:m}=$s.datasets[u];Object.assign(g,{dataElementType:Sr.getElement(m),datasetElementType:h&&Sr.getElement(h)}),d.controller=new g(this,r),t.push(d.controller)}}return this._updateMetasets(),t}_resetElements(){hs(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:b}=this.getDatasetMeta(h),v=!i&&a.indexOf(b)===-1;b.buildOrUpdateElements(v),d=Math.max(+b.getMaxOverflow(),d)}d=this._minPadding=r.layout.autoPadding?d:0,this._updateLayout(d),i||hs(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Cp("z","_idx"));const{_active:u,_lastEvent:g}=this;g?this._eventHandler(g,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){hs(this.scales,t=>{Jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Rg(s,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of s){const d=r==="_removeElements"?-a:a;dN(t,i,d)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,r=a=>new Set(t.filter(d=>d[0]===a).map((d,u)=>u+","+d.splice(1).join(","))),i=r(0);for(let a=1;a<s;a++)if(!Rg(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,t);const s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],hs(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,Fo(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ur.has(this)?this.attached&&!Ur.running(this)&&Ur.start(this):(this.draw(),Ap({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,r=[];let i,a;for(i=0,a=s.length;i<a;++i){const d=s[i];(!t||d.visible)&&r.push(d)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=_R(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&jx(s,i),t.controller.draw(),i&&Ux(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Za(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,r,i){const a=aO.modes[s];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],r=this._metasets;let i=r.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=fi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(t,s){const r=this.getDatasetMeta(t);r.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,r){const i=r?"show":"hide",a=this.getDatasetMeta(t),d=a.controller._resolveAnimations(void 0,i);Ya(s)?(a.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),d.update(a,{visible:r}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Ur.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qg(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete o0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,r=(a,d)=>{s.addEventListener(this,a,d),t[a]=d},i=(a,d,u)=>{a.offsetX=d,a.offsetY=u,this._eventHandler(a)};hs(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,r=(g,h)=>{s.addEventListener(this,g,h),t[g]=h},i=(g,h)=>{t[g]&&(s.removeEventListener(this,g,h),delete t[g])},a=(g,h)=>{this.canvas&&this.resize(g,h)};let d;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",d)};d=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",u)},s.isAttached(this.canvas)?u():d()}unbindEvents(){hs(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},hs(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,r){const i=r?"set":"remove";let a,d,u,g;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,g=t.length;u<g;++u){d=t[u];const h=d&&this.getDatasetMeta(d.datasetIndex).controller;h&&h[i+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],r=t.map(({datasetIndex:a,index:d})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[d],index:d}});!_0(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(t,s,r){return this._plugins.notify(this,t,s,r)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,r){const i=this.options.hover,a=(g,h)=>g.filter(m=>!h.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),d=a(s,t),u=r?t:a(t,s);d.length&&this.updateHoverStyle(d,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,s){const r={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=d=>(d.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(t,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,s,r){const{_active:i=[],options:a}=this,d=s,u=this._getActiveElements(t,i,r,d),g=lP(t),h=cN(t,this._lastEvent,r,g);r&&(this._lastEvent=null,Ds(a.onHover,[t,u,this],this),g&&Ds(a.onClick,[t,u,this],this));const m=!_0(u,i);return(m||s)&&(this._active=u,this._updateHoverStyles(u,i,s)),this._lastEvent=h,m}_getActiveElements(t,s,r,i){if(t.type==="mouseout")return[];if(!r)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}};function Bp(){return hs(hl.instances,e=>e._plugins.invalidate())}function uN(e,t,s){const{startAngle:r,x:i,y:a,outerRadius:d,innerRadius:u,options:g}=t,{borderWidth:h,borderJoinStyle:m}=g,b=Math.min(h/d,ur(r-s));if(e.beginPath(),e.arc(i,a,d-h/2,r+b/2,s-b/2),u>0){const v=Math.min(h/u,ur(r-s));e.arc(i,a,u+h/2,s-v/2,r+v/2,!0)}else{const v=Math.min(h/2,d*ur(r-s));if(m==="round")e.arc(i,a,v,s-gs/2,r+gs/2,!0);else if(m==="bevel"){const C=2*v*v,_=-C*Math.cos(s+gs/2)+i,F=-C*Math.sin(s+gs/2)+a,S=C*Math.cos(r+gs/2)+i,D=C*Math.sin(r+gs/2)+a;e.lineTo(_,F),e.lineTo(S,D)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function xN(e,t,s){const{startAngle:r,pixelMargin:i,x:a,y:d,outerRadius:u,innerRadius:g}=t;let h=i/u;e.beginPath(),e.arc(a,d,u,r-h,s+h),g>i?(h=i/g,e.arc(a,d,g,s+h,r-h,!0)):e.arc(a,d,i,s+Vs,r-Vs),e.closePath(),e.clip()}function fN(e){return Hx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function hN(e,t,s,r){const i=fN(e.options.borderRadius),a=(s-t)/2,d=Math.min(a,r*t/2),u=g=>{const h=(s-Math.min(a,g))*r/2;return xn(g,0,Math.min(a,h))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:xn(i.innerStart,0,d),innerEnd:xn(i.innerEnd,0,d)}}function Ai(e,t,s,r){return{x:s+e*Math.cos(t),y:r+e*Math.sin(t)}}function I0(e,t,s,r,i,a){const{x:d,y:u,startAngle:g,pixelMargin:h,innerRadius:m}=t,b=Math.max(t.outerRadius+r+s-h,0),v=m>0?m+r+s+h:0;let C=0;const _=i-g;if(r){const q=m>0?m-r:0,le=b>0?b-r:0,he=(q+le)/2,ve=he!==0?_*he/(he+r):_;C=(_-ve)/2}const F=Math.max(.001,_*b-s/gs)/b,S=(_-F)/2,D=g+S+C,O=i-S-C,{outerStart:P,outerEnd:B,innerStart:U,innerEnd:z}=hN(t,v,b,O-D),j=b-P,H=b-B,I=D+P/j,$=O-B/H,J=v+U,K=v+z,ie=D+U/J,fe=O-z/K;if(e.beginPath(),a){const q=(I+$)/2;if(e.arc(d,u,b,I,q),e.arc(d,u,b,q,$),B>0){const Ie=Ai(H,$,d,u);e.arc(Ie.x,Ie.y,B,$,O+Vs)}const le=Ai(K,O,d,u);if(e.lineTo(le.x,le.y),z>0){const Ie=Ai(K,fe,d,u);e.arc(Ie.x,Ie.y,z,O+Vs,fe+Math.PI)}const he=(O-z/v+(D+U/v))/2;if(e.arc(d,u,v,O-z/v,he,!0),e.arc(d,u,v,he,D+U/v,!0),U>0){const Ie=Ai(J,ie,d,u);e.arc(Ie.x,Ie.y,U,ie+Math.PI,D-Vs)}const ve=Ai(j,D,d,u);if(e.lineTo(ve.x,ve.y),P>0){const Ie=Ai(j,I,d,u);e.arc(Ie.x,Ie.y,P,D-Vs,I)}}else{e.moveTo(d,u);const q=Math.cos(I)*b+d,le=Math.sin(I)*b+u;e.lineTo(q,le);const he=Math.cos($)*b+d,ve=Math.sin($)*b+u;e.lineTo(he,ve)}e.closePath()}function gN(e,t,s,r,i){const{fullCircles:a,startAngle:d,circumference:u}=t;let g=t.endAngle;if(a){I0(e,t,s,r,g,i);for(let h=0;h<a;++h)e.fill();isNaN(u)||(g=d+(u%Ns||Ns))}return I0(e,t,s,r,g,i),e.fill(),g}function pN(e,t,s,r,i){const{fullCircles:a,startAngle:d,circumference:u,options:g}=t,{borderWidth:h,borderJoinStyle:m,borderDash:b,borderDashOffset:v,borderRadius:C}=g,_=g.borderAlign==="inner";if(!h)return;e.setLineDash(b||[]),e.lineDashOffset=v,_?(e.lineWidth=h*2,e.lineJoin=m||"round"):(e.lineWidth=h,e.lineJoin=m||"bevel");let F=t.endAngle;if(a){I0(e,t,s,r,F,i);for(let S=0;S<a;++S)e.stroke();isNaN(u)||(F=d+(u%Ns||Ns))}_&&xN(e,t,F),g.selfJoin&&F-d>=gs&&C===0&&m!=="miter"&&uN(e,t,F),a||(I0(e,t,s,r,F,i),e.stroke())}class by extends ro{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:d}=zb(i,{x:t,y:s}),{startAngle:u,endAngle:g,innerRadius:h,outerRadius:m,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,C=Jt(b,g-u),_=Ja(a,u,g)&&u!==g,F=C>=Ns||_,S=yo(d,h+v,m+v);return F&&S}getCenterPoint(t){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:d,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:g,spacing:h}=this.options,m=(i+a)/2,b=(d+u+h+g)/2;return{x:s+Math.cos(m)*b,y:r+Math.sin(m)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>Ns?Math.floor(r/Ns):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*i,Math.sin(u)*i);const g=1-Math.sin(Math.min(gs,r||0)),h=i*g;t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,gN(t,this,h,a,d),pN(t,this,h,a,d),t.restore()}}function yy(e,t,s=t){e.lineCap=Jt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Jt(s.borderDash,t.borderDash)),e.lineDashOffset=Jt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Jt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Jt(s.borderWidth,t.borderWidth),e.strokeStyle=Jt(s.borderColor,t.borderColor)}function mN(e,t,s){e.lineTo(s.x,s.y)}function bN(e){return e.stepped?RP:e.tension||e.cubicInterpolationMode==="monotone"?OP:mN}function vy(e,t,s={}){const r=e.length,{start:i=0,end:a=r-1}=s,{start:d,end:u}=t,g=Math.max(i,d),h=Math.min(a,u),m=i<d&&a<d||i>u&&a>u;return{count:r,start:g,loop:t.loop,ilen:h<g&&!m?r+h-g:h-g}}function yN(e,t,s,r){const{points:i,options:a}=t,{count:d,start:u,loop:g,ilen:h}=vy(i,s,r),m=bN(a);let{move:b=!0,reverse:v}=r||{},C,_,F;for(C=0;C<=h;++C)_=i[(u+(v?h-C:C))%d],!_.skip&&(b?(e.moveTo(_.x,_.y),b=!1):m(e,F,_,v,a.stepped),F=_);return g&&(_=i[(u+(v?h:0))%d],m(e,F,_,v,a.stepped)),!!g}function vN(e,t,s,r){const i=t.points,{count:a,start:d,ilen:u}=vy(i,s,r),{move:g=!0,reverse:h}=r||{};let m=0,b=0,v,C,_,F,S,D;const O=B=>(d+(h?u-B:B))%a,P=()=>{F!==S&&(e.lineTo(m,S),e.lineTo(m,F),e.lineTo(m,D))};for(g&&(C=i[O(0)],e.moveTo(C.x,C.y)),v=0;v<=u;++v){if(C=i[O(v)],C.skip)continue;const B=C.x,U=C.y,z=B|0;z===_?(U<F?F=U:U>S&&(S=U),m=(b*m+B)/++b):(P(),e.lineTo(B,U),_=z,b=0,F=S=U),D=U}P()}function Wu(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?vN:yN}function wN(e){return e.stepped?hR:e.tension||e.cubicInterpolationMode==="monotone"?gR:Ho}function EN(e,t,s,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,r)&&i.closePath()),yy(e,t.options),e.stroke(i)}function CN(e,t,s,r){const{segments:i,options:a}=t,d=Wu(t);for(const u of i)yy(e,a,u.style),e.beginPath(),d(e,t,u,{start:s,end:s+r-1})&&e.closePath(),e.stroke()}const AN=typeof Path2D=="function";function kN(e,t,s,r){AN&&!t.options.segment?EN(e,t,s,r):CN(e,t,s,r)}class wy extends ro{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;iR(this._points,r,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CR(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,r=t.length;return r&&s[t[r-1].end]}interpolate(t,s){const r=this.options,i=t[s],a=this.points,d=vR(this,{property:s,start:i,end:i});if(!d.length)return;const u=[],g=wN(r);let h,m;for(h=0,m=d.length;h<m;++h){const{start:b,end:v}=d[h],C=a[b],_=a[v];if(C===_){u.push(C);continue}const F=Math.abs((i-C[s])/(_[s]-C[s])),S=g(C,_,F,r.stepped);S[s]=t[s],u.push(S)}return u.length===1?u[0]:u}pathSegment(t,s,r){return Wu(this)(t,this,s,r)}path(t,s,r){const i=this.segments,a=Wu(this);let d=this._loop;s=s||0,r=r||this.points.length-s;for(const u of i)d&=a(t,this,u,{start:s,end:s+r-1});return!!d}draw(t,s,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),kN(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function _p(e,t,s,r){const i=e.options,{[s]:a}=e.getProps([s],r);return Math.abs(t-a)<i.radius+i.hitRadius}class Ey extends ro{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,s,r){const i=this.options,{x:a,y:d}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(s-d,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,s){return _p(this,t,"x",s)}inYRange(t,s){return _p(this,t,"y",s)}getCenterPoint(t){const{x:s,y:r}=this.getProps(["x","y"],t);return{x:s,y:r}}size(t){t=t||this.options||{};let s=t.radius||0;s=Math.max(s,s&&t.hoverRadius||0);const r=s&&t.borderWidth||0;return(s+r)*2}draw(t,s){const r=this.options;this.skip||r.radius<.1||!Za(this,s,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,zu(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Cy(e,t){const{x:s,y:r,base:i,width:a,height:d}=e.getProps(["x","y","base","width","height"],t);let u,g,h,m,b;return e.horizontal?(b=d/2,u=Math.min(s,i),g=Math.max(s,i),h=r-b,m=r+b):(b=a/2,u=s-b,g=s+b,h=Math.min(r,i),m=Math.max(r,i)),{left:u,top:h,right:g,bottom:m}}function wo(e,t,s,r){return e?0:xn(t,s,r)}function BN(e,t,s){const r=e.options.borderWidth,i=e.borderSkipped,a=Yb(r);return{t:wo(i.top,a.top,0,s),r:wo(i.right,a.right,0,t),b:wo(i.bottom,a.bottom,0,s),l:wo(i.left,a.left,0,t)}}function _N(e,t,s){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Oi(i),d=Math.min(t,s),u=e.borderSkipped,g=r||ds(i);return{topLeft:wo(!g||u.top||u.left,a.topLeft,0,d),topRight:wo(!g||u.top||u.right,a.topRight,0,d),bottomLeft:wo(!g||u.bottom||u.left,a.bottomLeft,0,d),bottomRight:wo(!g||u.bottom||u.right,a.bottomRight,0,d)}}function DN(e){const t=Cy(e),s=t.right-t.left,r=t.bottom-t.top,i=BN(e,s/2,r/2),a=_N(e,s/2,r/2);return{outer:{x:t.left,y:t.top,w:s,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function du(e,t,s,r){const i=t===null,a=s===null,u=e&&!(i&&a)&&Cy(e,r);return u&&(i||yo(t,u.left,u.right))&&(a||yo(s,u.top,u.bottom))}function SN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function FN(e,t){e.rect(t.x,t.y,t.w,t.h)}function cu(e,t,s={}){const r=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-r,d=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+d,radius:e.radius}}class Ay extends ro{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:d}=DN(this),u=SN(d.radius)?F0:FN;t.save(),(d.w!==a.w||d.h!==a.h)&&(t.beginPath(),u(t,cu(d,s,a)),t.clip(),u(t,cu(a,-s,d)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),u(t,cu(a,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,r){return du(this,t,s,r)}inXRange(t,s){return du(this,t,null,s)}inYRange(t,s){return du(this,null,t,s)}getCenterPoint(t){const{x:s,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+i)/2:s,y:a?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Dp=(e,t)=>{let{boxHeight:s=t,boxWidth:r=t}=e;return e.usePointStyle&&(s=Math.min(s,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:s,itemHeight:Math.max(t,s)}},TN=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Sp extends ro{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,r){this.maxWidth=t,this.maxHeight=s,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Ds(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(r=>t.filter(r,this.chart.data))),t.sort&&(s=s.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=fn(r.font),a=i.size,d=this._computeTitleHeight(),{boxWidth:u,itemHeight:g}=Dp(r,a);let h,m;s.font=i.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(d,a,u,g)+10):(m=this.maxHeight,h=this._fitCols(d,i,u,g)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,s,r,i){const{ctx:a,maxWidth:d,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],h=this.lineWidths=[0],m=i+u;let b=t;a.textAlign="left",a.textBaseline="middle";let v=-1,C=-m;return this.legendItems.forEach((_,F)=>{const S=r+s/2+a.measureText(_.text).width;(F===0||h[h.length-1]+S+2*u>d)&&(b+=m,h[h.length-(F>0?0:1)]=0,C+=m,v++),g[F]={left:0,top:C,row:v,width:S,height:i},h[h.length-1]+=S+u}),b}_fitCols(t,s,r,i){const{ctx:a,maxHeight:d,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],h=this.columnSizes=[],m=d-t;let b=u,v=0,C=0,_=0,F=0;return this.legendItems.forEach((S,D)=>{const{itemWidth:O,itemHeight:P}=MN(r,s,a,S,i);D>0&&C+P+2*u>m&&(b+=v+u,h.push({width:v,height:C}),_+=v+u,F++,v=C=0),g[D]={left:_,top:C,col:F,width:O,height:P},v=Math.max(v,O),C+=P+u}),b+=v,h.push({width:v,height:C}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:r,labels:{padding:i},rtl:a}}=this,d=Ni(a,this.left,this.width);if(this.isHorizontal()){let u=0,g=ln(r,this.left+i,this.right-this.lineWidths[u]);for(const h of s)u!==h.row&&(u=h.row,g=ln(r,this.left+i,this.right-this.lineWidths[u])),h.top+=this.top+t+i,h.left=d.leftForLtr(d.x(g),h.width),g+=h.width+i}else{let u=0,g=ln(r,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const h of s)h.col!==u&&(u=h.col,g=ln(r,this.top+t+i,this.bottom-this.columnSizes[u].height)),h.top=g,h.left+=this.left+i,h.left=d.leftForLtr(d.x(h.left),h.width),g+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;jx(t,this),this._draw(),Ux(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:r,ctx:i}=this,{align:a,labels:d}=t,u=$s.color,g=Ni(t.rtl,this.left,this.width),h=fn(d.font),{padding:m}=d,b=h.size,v=b/2;let C;this.drawTitle(),i.textAlign=g.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:_,boxHeight:F,itemHeight:S}=Dp(d,b),D=function(z,j,H){if(isNaN(_)||_<=0||isNaN(F)||F<0)return;i.save();const I=Jt(H.lineWidth,1);if(i.fillStyle=Jt(H.fillStyle,u),i.lineCap=Jt(H.lineCap,"butt"),i.lineDashOffset=Jt(H.lineDashOffset,0),i.lineJoin=Jt(H.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=Jt(H.strokeStyle,u),i.setLineDash(Jt(H.lineDash,[])),d.usePointStyle){const $={radius:F*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:I},J=g.xPlus(z,_/2),K=j+v;Kb(i,$,J,K,d.pointStyleWidth&&_)}else{const $=j+Math.max((b-F)/2,0),J=g.leftForLtr(z,_),K=Oi(H.borderRadius);i.beginPath(),Object.values(K).some(ie=>ie!==0)?F0(i,{x:J,y:$,w:_,h:F,radius:K}):i.rect(J,$,_,F),i.fill(),I!==0&&i.stroke()}i.restore()},O=function(z,j,H){el(i,H.text,z,j+S/2,h,{strikethrough:H.hidden,textAlign:g.textAlign(H.textAlign)})},P=this.isHorizontal(),B=this._computeTitleHeight();P?C={x:ln(a,this.left+m,this.right-r[0]),y:this.top+m+B,line:0}:C={x:this.left+m,y:ln(a,this.top+B+m,this.bottom-s[0].height),line:0},sy(this.ctx,t.textDirection);const U=S+m;this.legendItems.forEach((z,j)=>{i.strokeStyle=z.fontColor,i.fillStyle=z.fontColor;const H=i.measureText(z.text).width,I=g.textAlign(z.textAlign||(z.textAlign=d.textAlign)),$=_+v+H;let J=C.x,K=C.y;g.setWidth(this.width),P?j>0&&J+$+m>this.right&&(K=C.y+=U,C.line++,J=C.x=ln(a,this.left+m,this.right-r[C.line])):j>0&&K+U>this.bottom&&(J=C.x=J+s[C.line].width+m,C.line++,K=C.y=ln(a,this.top+B+m,this.bottom-s[C.line].height));const ie=g.x(J);if(D(ie,K,z),J=EP(I,J+_+v,P?J+$:this.right,t.rtl),O(g.x(J),K,z),P)C.x+=$+m;else if(typeof z.text!="string"){const fe=h.lineHeight;C.y+=ky(z,fe)+m}else C.y+=U}),ny(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,r=fn(s.font),i=nr(s.padding);if(!s.display)return;const a=Ni(t.rtl,this.left,this.width),d=this.ctx,u=s.position,g=r.size/2,h=i.top+g;let m,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+h,b=ln(t.align,b,this.right-v);else{const _=this.columnSizes.reduce((F,S)=>Math.max(F,S.height),0);m=h+ln(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const C=ln(u,b,b+v);d.textAlign=a.textAlign(Nx(u)),d.textBaseline="middle",d.strokeStyle=s.color,d.fillStyle=s.color,d.font=r.string,el(d,s.text,C,m,r)}_computeTitleHeight(){const t=this.options.title,s=fn(t.font),r=nr(t.padding);return t.display?s.lineHeight+r.height:0}_getLegendItemAt(t,s){let r,i,a;if(yo(t,this.left,this.right)&&yo(s,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],yo(t,i.left,i.left+i.width)&&yo(s,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const s=this.options;if(!RN(t.type,s))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=TN(i,r);i&&!a&&Ds(s.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!a&&Ds(s.onHover,[t,r,this],this)}else r&&Ds(s.onClick,[t,r,this],this)}}function MN(e,t,s,r,i){const a=IN(r,e,t,s),d=PN(i,r,t.lineHeight);return{itemWidth:a,itemHeight:d}}function IN(e,t,s,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,d)=>a.length>d.length?a:d)),t+s.size/2+r.measureText(i).width}function PN(e,t,s){let r=e;return typeof t.text!="string"&&(r=ky(t,s)),r}function ky(e,t){const s=e.text?e.text.length:0;return t*s}function RN(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var By={id:"legend",_element:Sp,start(e,t,s){const r=e.legend=new Sp({ctx:e.ctx,options:s,chart:e});Jn.configure(e,r,s),Jn.addBox(e,r)},stop(e){Jn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const r=e.legend;Jn.configure(e,r,s),r.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const r=t.datasetIndex,i=s.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:r,textAlign:i,color:a,useBorderRadius:d,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(g=>{const h=g.controller.getStyle(s?0:void 0),m=nr(h.borderWidth);return{text:t[g.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!g.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:d&&(u||h.borderRadius),datasetIndex:g.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _y extends ro{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=zs(r.text)?r.text.length:1;this._padding=nr(r.padding);const a=i*fn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:r,bottom:i,right:a,options:d}=this,u=d.align;let g=0,h,m,b;return this.isHorizontal()?(m=ln(u,r,a),b=s+t,h=a-r):(d.position==="left"?(m=r+t,b=ln(u,i,s),g=gs*-.5):(m=a-t,b=ln(u,s,i),g=gs*.5),h=i-s),{titleX:m,titleY:b,maxWidth:h,rotation:g}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const r=fn(s.font),a=r.lineHeight/2+this._padding.top,{titleX:d,titleY:u,maxWidth:g,rotation:h}=this._drawArgs(a);el(t,s.text,0,0,r,{color:s.color,maxWidth:g,rotation:h,textAlign:Nx(s.align),textBaseline:"middle",translation:[d,u]})}}function ON(e,t){const s=new _y({ctx:e.ctx,options:t,chart:e});Jn.configure(e,s,t),Jn.addBox(e,s),e.titleBlock=s}var NN={id:"title",_element:_y,start(e,t,s){ON(e,s)},stop(e){const t=e.titleBlock;Jn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const r=e.titleBlock;Jn.configure(e,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ka={average(e){if(!e.length)return!1;let t,s,r=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const u=e[t].element;if(u&&u.hasValue()){const g=u.tooltipPosition();r.add(g.x),i+=g.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,g)=>u+g)/r.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,r=t.y,i=Number.POSITIVE_INFINITY,a,d,u;for(a=0,d=e.length;a<d;++a){const g=e[a].element;if(g&&g.hasValue()){const h=g.getCenterPoint(),m=Uu(t,h);m<i&&(i=m,u=g)}}if(u){const g=u.tooltipPosition();s=g.x,r=g.y}return{x:s,y:r}}};function Br(e,t){return t&&(zs(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Hr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function $N(e,t){const{element:s,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:d,value:u}=a.getLabelAndValue(i);return{chart:e,label:d,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:s}}function Fp(e,t){const s=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:d,boxHeight:u}=t,g=fn(t.bodyFont),h=fn(t.titleFont),m=fn(t.footerFont),b=a.length,v=i.length,C=r.length,_=nr(t.padding);let F=_.height,S=0,D=r.reduce((B,U)=>B+U.before.length+U.lines.length+U.after.length,0);if(D+=e.beforeBody.length+e.afterBody.length,b&&(F+=b*h.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),D){const B=t.displayColors?Math.max(u,g.lineHeight):g.lineHeight;F+=C*B+(D-C)*g.lineHeight+(D-1)*t.bodySpacing}v&&(F+=t.footerMarginTop+v*m.lineHeight+(v-1)*t.footerSpacing);let O=0;const P=function(B){S=Math.max(S,s.measureText(B).width+O)};return s.save(),s.font=h.string,hs(e.title,P),s.font=g.string,hs(e.beforeBody.concat(e.afterBody),P),O=t.displayColors?d+2+t.boxPadding:0,hs(r,B=>{hs(B.before,P),hs(B.lines,P),hs(B.after,P)}),O=0,s.font=m.string,hs(e.footer,P),s.restore(),S+=_.width,{width:S,height:F}}function LN(e,t){const{y:s,height:r}=t;return s<r/2?"top":s>e.height-r/2?"bottom":"center"}function jN(e,t,s,r){const{x:i,width:a}=r,d=s.caretSize+s.caretPadding;if(e==="left"&&i+a+d>t.width||e==="right"&&i-a-d<0)return!0}function UN(e,t,s,r){const{x:i,width:a}=s,{width:d,chartArea:{left:u,right:g}}=e;let h="center";return r==="center"?h=i<=(u+g)/2?"left":"right":i<=a/2?h="left":i>=d-a/2&&(h="right"),jN(h,e,t,s)&&(h="center"),h}function Tp(e,t,s){const r=s.yAlign||t.yAlign||LN(e,s);return{xAlign:s.xAlign||t.xAlign||UN(e,t,s,r),yAlign:r}}function HN(e,t){let{x:s,width:r}=e;return t==="right"?s-=r:t==="center"&&(s-=r/2),s}function zN(e,t,s){let{y:r,height:i}=e;return t==="top"?r+=s:t==="bottom"?r-=i+s:r-=i/2,r}function Mp(e,t,s,r){const{caretSize:i,caretPadding:a,cornerRadius:d}=e,{xAlign:u,yAlign:g}=s,h=i+a,{topLeft:m,topRight:b,bottomLeft:v,bottomRight:C}=Oi(d);let _=HN(t,u);const F=zN(t,g,h);return g==="center"?u==="left"?_+=h:u==="right"&&(_-=h):u==="left"?_-=Math.max(m,v)+i:u==="right"&&(_+=Math.max(b,C)+i),{x:xn(_,0,r.width-t.width),y:xn(F,0,r.height-t.height)}}function Wl(e,t,s){const r=nr(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Ip(e){return Br([],Hr(e))}function VN(e,t,s){return fi(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Pp(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Dy={beforeTitle:Lr,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,r=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return s[t.dataIndex]}return""},afterTitle:Lr,beforeBody:Lr,beforeLabel:Lr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return xs(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Lr,afterBody:Lr,beforeFooter:Lr,footer:Lr,afterFooter:Lr};function An(e,t,s,r){const i=e[t].call(s,r);return typeof i>"u"?Dy[t].call(s,r):i}class Rp extends ro{static positioners=ka;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&s.options.animation&&r.animations,a=new oy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=VN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:r}=s,i=An(r,"beforeTitle",this,t),a=An(r,"title",this,t),d=An(r,"afterTitle",this,t);let u=[];return u=Br(u,Hr(i)),u=Br(u,Hr(a)),u=Br(u,Hr(d)),u}getBeforeBody(t,s){return Ip(An(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:r}=s,i=[];return hs(t,a=>{const d={before:[],lines:[],after:[]},u=Pp(r,a);Br(d.before,Hr(An(u,"beforeLabel",this,a))),Br(d.lines,An(u,"label",this,a)),Br(d.after,Hr(An(u,"afterLabel",this,a))),i.push(d)}),i}getAfterBody(t,s){return Ip(An(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:r}=s,i=An(r,"beforeFooter",this,t),a=An(r,"footer",this,t),d=An(r,"afterFooter",this,t);let u=[];return u=Br(u,Hr(i)),u=Br(u,Hr(a)),u=Br(u,Hr(d)),u}_createItems(t){const s=this._active,r=this.chart.data,i=[],a=[],d=[];let u=[],g,h;for(g=0,h=s.length;g<h;++g)u.push($N(this.chart,s[g]));return t.filter&&(u=u.filter((m,b,v)=>t.filter(m,b,v,r))),t.itemSort&&(u=u.sort((m,b)=>t.itemSort(m,b,r))),hs(u,m=>{const b=Pp(t.callbacks,m);i.push(An(b,"labelColor",this,m)),a.push(An(b,"labelPointStyle",this,m)),d.push(An(b,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=d,this.dataPoints=u,u}update(t,s){const r=this.options.setContext(this.getContext()),i=this._active;let a,d=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=ka[r.position].call(this,i,this._eventPosition);d=this._createItems(r),this.title=this.getTitle(d,r),this.beforeBody=this.getBeforeBody(d,r),this.body=this.getBody(d,r),this.afterBody=this.getAfterBody(d,r),this.footer=this.getFooter(d,r);const g=this._size=Fp(this,r),h=Object.assign({},u,g),m=Tp(this.chart,r,h),b=Mp(r,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:b.x,y:b.y,width:g.width,height:g.height,caretX:u.x,caretY:u.y}}this._tooltipItems=d,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,r,i){const a=this.getCaretPosition(t,r,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,r){const{xAlign:i,yAlign:a}=this,{caretSize:d,cornerRadius:u}=r,{topLeft:g,topRight:h,bottomLeft:m,bottomRight:b}=Oi(u),{x:v,y:C}=t,{width:_,height:F}=s;let S,D,O,P,B,U;return a==="center"?(B=C+F/2,i==="left"?(S=v,D=S-d,P=B+d,U=B-d):(S=v+_,D=S+d,P=B-d,U=B+d),O=S):(i==="left"?D=v+Math.max(g,m)+d:i==="right"?D=v+_-Math.max(h,b)-d:D=this.caretX,a==="top"?(P=C,B=P-d,S=D-d,O=D+d):(P=C+F,B=P+d,S=D+d,O=D-d),U=P),{x1:S,x2:D,x3:O,y1:P,y2:B,y3:U}}drawTitle(t,s,r){const i=this.title,a=i.length;let d,u,g;if(a){const h=Ni(r.rtl,this.x,this.width);for(t.x=Wl(this,r.titleAlign,r),s.textAlign=h.textAlign(r.titleAlign),s.textBaseline="middle",d=fn(r.titleFont),u=r.titleSpacing,s.fillStyle=r.titleColor,s.font=d.string,g=0;g<a;++g)s.fillText(i[g],h.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+u,g+1===a&&(t.y+=r.titleMarginBottom-u)}}_drawColorBox(t,s,r,i,a){const d=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:g,boxWidth:h}=a,m=fn(a.bodyFont),b=Wl(this,"left",a),v=i.x(b),C=g<m.lineHeight?(m.lineHeight-g)/2:0,_=s.y+C;if(a.usePointStyle){const F={radius:Math.min(h,g)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=i.leftForLtr(v,h)+h/2,D=_+g/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,zu(t,F,S,D),t.strokeStyle=d.borderColor,t.fillStyle=d.backgroundColor,zu(t,F,S,D)}else{t.lineWidth=ds(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,t.strokeStyle=d.borderColor,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset||0;const F=i.leftForLtr(v,h),S=i.leftForLtr(i.xPlus(v,1),h-2),D=Oi(d.borderRadius);Object.values(D).some(O=>O!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,F0(t,{x:F,y:_,w:h,h:g,radius:D}),t.fill(),t.stroke(),t.fillStyle=d.backgroundColor,t.beginPath(),F0(t,{x:S,y:_+1,w:h-2,h:g-2,radius:D}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(F,_,h,g),t.strokeRect(F,_,h,g),t.fillStyle=d.backgroundColor,t.fillRect(S,_+1,h-2,g-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,s,r){const{body:i}=this,{bodySpacing:a,bodyAlign:d,displayColors:u,boxHeight:g,boxWidth:h,boxPadding:m}=r,b=fn(r.bodyFont);let v=b.lineHeight,C=0;const _=Ni(r.rtl,this.x,this.width),F=function(H){s.fillText(H,_.x(t.x+C),t.y+v/2),t.y+=v+a},S=_.textAlign(d);let D,O,P,B,U,z,j;for(s.textAlign=d,s.textBaseline="middle",s.font=b.string,t.x=Wl(this,S,r),s.fillStyle=r.bodyColor,hs(this.beforeBody,F),C=u&&S!=="right"?d==="center"?h/2+m:h+2+m:0,B=0,z=i.length;B<z;++B){for(D=i[B],O=this.labelTextColors[B],s.fillStyle=O,hs(D.before,F),P=D.lines,u&&P.length&&(this._drawColorBox(s,t,B,_,r),v=Math.max(b.lineHeight,g)),U=0,j=P.length;U<j;++U)F(P[U]),v=b.lineHeight;hs(D.after,F)}C=0,v=b.lineHeight,hs(this.afterBody,F),t.y-=a}drawFooter(t,s,r){const i=this.footer,a=i.length;let d,u;if(a){const g=Ni(r.rtl,this.x,this.width);for(t.x=Wl(this,r.footerAlign,r),t.y+=r.footerMarginTop,s.textAlign=g.textAlign(r.footerAlign),s.textBaseline="middle",d=fn(r.footerFont),s.fillStyle=r.footerColor,s.font=d.string,u=0;u<a;++u)s.fillText(i[u],g.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+r.footerSpacing}}drawBackground(t,s,r,i){const{xAlign:a,yAlign:d}=this,{x:u,y:g}=t,{width:h,height:m}=r,{topLeft:b,topRight:v,bottomLeft:C,bottomRight:_}=Oi(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(u+b,g),d==="top"&&this.drawCaret(t,s,r,i),s.lineTo(u+h-v,g),s.quadraticCurveTo(u+h,g,u+h,g+v),d==="center"&&a==="right"&&this.drawCaret(t,s,r,i),s.lineTo(u+h,g+m-_),s.quadraticCurveTo(u+h,g+m,u+h-_,g+m),d==="bottom"&&this.drawCaret(t,s,r,i),s.lineTo(u+C,g+m),s.quadraticCurveTo(u,g+m,u,g+m-C),d==="center"&&a==="left"&&this.drawCaret(t,s,r,i),s.lineTo(u,g+b),s.quadraticCurveTo(u,g,u+b,g),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const d=ka[t.position].call(this,this._active,this._eventPosition);if(!d)return;const u=this._size=Fp(this,t),g=Object.assign({},d,this._size),h=Tp(s,t,g),m=Mp(t,g,h,s);(i._to!==m.x||a._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const d=nr(s.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&u&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,i,s),sy(t,s.textDirection),a.y+=d.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),ny(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const r=this._active,i=t.map(({datasetIndex:u,index:g})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[g],index:g}}),a=!_0(r,i),d=this._positionChanged(i,s);(a||d)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],d=this._getActiveElements(t,a,s,r),u=this._positionChanged(d,t),g=s||!_0(d,a)||u;return g&&(this._active=d,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),g}_getActiveElements(t,s,r,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const d=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&d.reverse(),d}_positionChanged(t,s){const{caretX:r,caretY:i,options:a}=this,d=ka[a.position].call(this,t,s);return d!==!1&&(r!==d.x||i!==d.y)}}var Sy={id:"tooltip",_element:Rp,positioners:ka,afterInit(e,t,s){s&&(e.tooltip=new Rp({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qN=(e,t,s,r)=>(typeof t=="string"?(s=e.push(t)-1,r.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function WN(e,t,s,r){const i=e.indexOf(t);if(i===-1)return qN(e,t,s,r);const a=e.lastIndexOf(t);return i!==a?s:i}const QN=(e,t)=>e===null?null:xn(Math.round(e),0,t);function Op(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Fy extends Ji{static id="category";static defaults={ticks:{callback:Op}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const r=this.getLabels();for(const{index:i,label:a}of s)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(xs(t))return null;const r=this.getLabels();return s=isFinite(s)&&r[s]===t?s:WN(r,t,Jt(s,t),this._addedLabels),QN(s,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),s||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,s=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let d=t;d<=s;d++)i.push({value:d});return i}getLabelForValue(t){return Op.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function GN(e,t){const s=[],{bounds:i,step:a,min:d,max:u,precision:g,count:h,maxTicks:m,maxDigits:b,includeBounds:v}=e,C=a||1,_=m-1,{min:F,max:S}=t,D=!xs(d),O=!xs(u),P=!xs(h),B=(S-F)/(b+1);let U=Ng((S-F)/_/C)*C,z,j,H,I;if(U<1e-14&&!D&&!O)return[{value:F},{value:S}];I=Math.ceil(S/U)-Math.floor(F/U),I>_&&(U=Ng(I*U/_/C)*C),xs(g)||(z=Math.pow(10,g),U=Math.ceil(U*z)/z),i==="ticks"?(j=Math.floor(F/U)*U,H=Math.ceil(S/U)*U):(j=F,H=S),D&&O&&a&&fP((u-d)/a,U/1e3)?(I=Math.round(Math.min((u-d)/U,m)),U=(u-d)/I,j=d,H=u):P?(j=D?d:j,H=O?u:H,I=h-1,U=(H-j)/I):(I=(H-j)/U,Ra(I,Math.round(I),U/1e3)?I=Math.round(I):I=Math.ceil(I));const $=Math.max($g(U),$g(j));z=Math.pow(10,xs(g)?$:g),j=Math.round(j*z)/z,H=Math.round(H*z)/z;let J=0;for(D&&(v&&j!==d?(s.push({value:d}),j<d&&J++,Ra(Math.round((j+J*U)*z)/z,d,Np(d,B,e))&&J++):j<d&&J++);J<I;++J){const K=Math.round((j+J*U)*z)/z;if(O&&K>u)break;s.push({value:K})}return O&&v&&H!==u?s.length&&Ra(s[s.length-1].value,u,Np(u,B,e))?s[s.length-1].value=u:s.push({value:u}):(!O||H===u)&&s.push({value:H}),s}function Np(e,t,{horizontal:s,minRotation:r}){const i=Yr(r),a=(s?Math.sin(i):Math.cos(i))||.001,d=.75*t*(""+e).length;return Math.min(t/a,d)}class KN extends Ji{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return xs(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const d=g=>i=s?i:g,u=g=>a=r?a:g;if(t){const g=Ir(i),h=Ir(a);g<0&&h<0?u(0):g>0&&h>0&&d(0)}if(i===a){let g=a===0?1:Math.abs(a*.05);u(a+g),t||d(i-g)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,d=GN(i,a);return t.bounds==="ticks"&&hP(d,this,"value"),t.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const t=this.ticks;let s=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-s)/Math.max(t.length-1,1)/2;s-=i,r+=i}this._startValue=s,this._endValue=r,this._valueRange=r-s}getLabelForValue(t){return Lx(t,this.chart.options.locale,this.options.ticks.format)}}class Ty extends KN{static id="linear";static defaults={ticks:{callback:Gb.formatters.numeric}};determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=sr(t)?t:0,this.max=sr(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,r=Yr(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const nd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(nd);function $p(e,t){return e-t}function Lp(e,t){if(xs(t))return null;const s=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let d=t;return typeof r=="function"&&(d=r(d)),sr(d)||(d=typeof r=="string"?s.parse(d,r):s.parse(d)),d===null?null:(i&&(d=i==="week"&&(Xa(a)||a===!0)?s.startOf(d,"isoWeek",a):s.startOf(d,i)),+d)}function jp(e,t,s,r){const i=Dn.length;for(let a=Dn.indexOf(e);a<i-1;++a){const d=nd[Dn[a]],u=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((s-t)/(u*d.size))<=r)return Dn[a]}return Dn[i-1]}function YN(e,t,s,r,i){for(let a=Dn.length-1;a>=Dn.indexOf(s);a--){const d=Dn[a];if(nd[d].common&&e._adapter.diff(i,r,d)>=t-1)return d}return Dn[s?Dn.indexOf(s):0]}function XN(e){for(let t=Dn.indexOf(e)+1,s=Dn.length;t<s;++t)if(nd[Dn[t]].common)return Dn[t]}function Up(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:r,hi:i}=Ox(s,t),a=s[r]>=t?s[r]:s[i];e[a]=!0}}function JN(e,t,s,r){const i=e._adapter,a=+i.startOf(t[0].value,r),d=t[t.length-1].value;let u,g;for(u=a;u<=d;u=+i.add(u,1,r))g=s[u],g>=0&&(t[g].major=!0);return t}function Hp(e,t,s){const r=[],i={},a=t.length;let d,u;for(d=0;d<a;++d)u=t[d],i[u]=d,r.push({value:u,major:!1});return a===0||!s?r:JN(e,r,i,s)}class zp extends Ji{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const r=t.time||(t.time={}),i=this._adapter=new sO._date(t.adapters.date);i.init(s),Pa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Lp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,r=t.time.unit||"day";let{min:i,max:a,minDefined:d,maxDefined:u}=this.getUserBounds();function g(h){!d&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!u&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!d||!u)&&(g(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&g(this.getMinMax(!1))),i=sr(i)&&!isNaN(i)?i:+s.startOf(Date.now(),r),a=sr(a)&&!isNaN(a)?a:+s.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],r=t[t.length-1]),{min:s,max:r}}buildTicks(){const t=this.options,s=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,d=this.max,u=yP(i,a,d);return this._unit=s.unit||(r.autoSkip?jp(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):YN(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:XN(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),Hp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const d=t.length<3?.5:.25;s=xn(s,0,d),r=xn(r,0,d),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const t=this._adapter,s=this.min,r=this.max,i=this.options,a=i.time,d=a.unit||jp(a.minUnit,s,r,this._getLabelCapacity(s)),u=Jt(i.ticks.stepSize,1),g=d==="week"?a.isoWeekday:!1,h=Xa(g)||g===!0,m={};let b=s,v,C;if(h&&(b=+t.startOf(b,"isoWeek",g)),b=+t.startOf(b,h?"day":d),t.diff(r,s,d)>1e5*u)throw new Error(s+" and "+r+" are too far apart with stepSize of "+u+" "+d);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(v=b,C=0;v<r;v=+t.add(v,u,d),C++)Up(m,v,_);return(v===r||i.bounds==="ticks"||C===1)&&Up(m,v,_),Object.keys(m).sort($p).map(F=>+F)}getLabelForValue(t){const s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(t,r.tooltipFormat):s.format(t,r.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,d=s||i[a];return this._adapter.format(t,d)}_tickFormatFunction(t,s,r,i){const a=this.options,d=a.ticks.callback;if(d)return Ds(d,[t,s,r],this);const u=a.time.displayFormats,g=this._unit,h=this._majorUnit,m=g&&u[g],b=h&&u[h],v=r[s],C=h&&b&&v&&v.major;return this._adapter.format(t,i||(C?b:m))}generateTickLabels(t){let s,r,i;for(s=0,r=t.length;s<r;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,r=this.ctx.measureText(t).width,i=Yr(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),d=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*d,h:r*d+u*a}}_getLabelCapacity(t){const s=this.options.time,r=s.displayFormats,i=r[s.unit]||r.millisecond,a=this._tickFormatFunction(t,0,Hp(this,[t],this._majorUnit),i),d=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],s,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,r=i.length;s<r;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,r;if(t.length)return t;const i=this.getLabels();for(s=0,r=i.length;s<r;++s)t.push(Lp(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qb(t.sort($p))}}function Ql(e,t,s){let r=0,i=e.length-1,a,d,u,g;s?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Go(e,"pos",t)),{pos:a,time:u}=e[r],{pos:d,time:g}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Go(e,"time",t)),{time:a,pos:u}=e[r],{time:d,pos:g}=e[i]);const h=d-a;return h?u+(g-u)*(t-a)/h:u}class Hfe extends zp{static id="timeseries";static defaults=zp.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Ql(s,this.min),this._tableRange=Ql(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:r}=this,i=[],a=[];let d,u,g,h,m;for(d=0,u=t.length;d<u;++d)h=t[d],h>=s&&h<=r&&i.push(h);if(i.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(d=0,u=i.length;d<u;++d)m=i[d+1],g=i[d-1],h=i[d],Math.round((m+g)/2)!==h&&a.push({time:h,pos:d/(u-1)});return a}_generate(){const t=this.min,s=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(s)||r.length===1)&&r.push(s),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),r=this.getLabelTimestamps();return s.length&&r.length?t=this.normalize(s.concat(r)):t=s.length?s:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ql(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return Ql(this._table,r*this._tableRange+this._minPos,!0)}}const My={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ZN={ariaLabel:{type:String},ariaDescribedby:{type:String}},e$={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...My,...ZN},t$=Z2[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function ki(e){return rl(e)?os(e):e}function s$(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return rl(t)?new Proxy(e,{}):e}function n$(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function Iy(e,t){e.labels=t}function Py(e,t,s){const r=[];e.datasets=t.map(i=>{const a=e.datasets.find(d=>d[s]===i[s]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function r$(e,t){const s={labels:[],datasets:[]};return Iy(s,e.labels),Py(s,e.datasets,t),s}const o$=rr({props:e$,setup(e,t){let{expose:s,slots:r}=t;const i=de(null),a=ox(null);s({chart:a});const d=()=>{if(!i.value)return;const{type:h,data:m,options:b,plugins:v,datasetIdKey:C}=e,_=r$(m,C),F=s$(_,m);a.value=new hl(i.value,{type:h,data:F,options:{...b},plugins:v})},u=()=>{const h=os(a.value);h&&(e.destroyDelay>0?setTimeout(()=>{h.destroy(),a.value=null},e.destroyDelay):(h.destroy(),a.value=null))},g=h=>{h.update(e.updateMode)};return gn(d),ni(u),Hs([()=>e.options,()=>e.data],(h,m)=>{let[b,v]=h,[C,_]=m;const F=os(a.value);if(!F)return;let S=!1;if(b){const D=ki(b),O=ki(C);D&&D!==O&&(n$(F,D),S=!0)}if(v){const D=ki(v.labels),O=ki(_.labels),P=ki(v.datasets),B=ki(_.datasets);D!==O&&(Iy(F.config.data,D),S=!0),P&&P!==B&&(Py(F.config.data,P,e.datasetIdKey),S=!0)}S&&_n(()=>{g(F)})},{deep:!0}),()=>Sn("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:i},[Sn("p",{},[r.default?r.default():""])])}});function rd(e,t){return hl.register(t),rr({props:My,setup(s,r){let{expose:i}=r;const a=ox(null),d=u=>{a.value=u?.chart};return i({chart:a}),()=>Sn(o$,t$({ref:d},{type:e,...s}))}})}const Qu=rd("bar",JR),i$=rd("doughnut",ly),i0=rd("line",eO),a$=rd("pie",tO),l$={class:"space-y-6"},d$={class:"flex justify-between items-center"},c$={class:"text-sm text-gray-500"},u$={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},x$={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},f$={class:"flex items-center justify-between mb-4"},h$={class:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full"},g$={class:"text-3xl font-bold text-gray-900"},p$={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},m$={class:"text-3xl font-bold text-gray-900"},b$={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},y$={class:"text-3xl font-bold text-gray-900"},v$={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},w$={class:"text-3xl font-bold text-gray-900"},E$={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},C$={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},A$={class:"h-64"},k$={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},B$={class:"h-64 flex justify-center"},_$={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},D$={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},S$={class:"h-64"},F$={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},T$={class:"space-y-4"},M$={class:"pt-4 border-t border-gray-100"},I$={class:"flex gap-3"},P$={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},R$={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},O$={class:"flex items-center justify-between mb-4"},N$={class:"px-2 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full animate-pulse"},$$={key:0,class:"space-y-4 max-h-96 overflow-y-auto"},L$={class:"relative"},j$={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold"},U$={class:"text-sm font-medium text-gray-900"},H$={class:"text-xs text-gray-500"},z$={key:1,class:"text-center py-8 text-gray-500 text-sm"},V$={class:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100"},q$={class:"flex items-center justify-between mb-4"},W$={class:"space-y-4"},Q$={class:"flex-shrink-0 mt-1"},G$={key:0,class:"bg-blue-100 text-blue-600 p-1.5 rounded-lg text-xs"},K$={key:1,class:"bg-purple-100 text-purple-600 p-1.5 rounded-lg text-xs"},Y$={key:2,class:"bg-orange-100 text-orange-600 p-1.5 rounded-lg text-xs"},X$={key:3,class:"bg-gray-200 text-gray-700 p-1.5 rounded-lg text-xs"},J$={key:4,class:"bg-gray-100 text-gray-600 p-1.5 rounded-lg text-xs"},Z$={class:"flex-1 min-w-0"},eL={class:"text-sm font-medium text-gray-900"},tL={class:"font-bold"},sL={class:"text-blue-600"},nL={class:"text-xs text-gray-500 mt-0.5 truncate"},rL={class:"text-xs text-gray-400 whitespace-nowrap"},oL={key:0,class:"text-center py-8 text-gray-500"},iL={__name:"ITDashboard",props:{stats:Object,activeUsers:Number,onlineUsers:Array,moduleStats:Object,hourlyStats:Array,topUsers:Array,recentActivities:Array},setup(e){hl.register(Fy,Ty,Ey,wy,Ay,by,NN,Sy,By);const t=e,s=Ze(()=>({labels:Array.from({length:24},(g,h)=>`${h}:00`),datasets:[{label:"Activities",data:t.hourlyStats,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]})),r=Ze(()=>({labels:Object.keys(t.moduleStats),datasets:[{data:Object.values(t.moduleStats),backgroundColor:["#3B82F6","#F59E0B","#10B981","#EF4444","#8B5CF6","#EC4899","#6B7280"]}]})),i=Ze(()=>({labels:t.topUsers.map(g=>g.name),datasets:[{label:"Total Actions",data:t.topUsers.map(g=>g.count),backgroundColor:"#8B5CF6",borderRadius:6}]})),a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,borderDash:[2,2]}},x:{grid:{display:!1}}}},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0},x:{grid:{display:!1}}}};return(g,h)=>(T(),Dt(pn,{title:"IT Admin Dashboard"},{default:_t(()=>[n("div",l$,[n("div",d$,[h[0]||(h[0]=n("div",null,[n("h2",{class:"text-2xl font-bold text-gray-900"},"IT Admin Dashboard"),n("p",{class:"text-sm text-gray-600"},"System Monitoring & Statistics")],-1)),n("div",c$," Last updated: "+A(new Date().toLocaleTimeString()),1)]),n("div",u$,[n("div",x$,[n("div",f$,[h[1]||(h[1]=n("div",{class:"bg-blue-100 p-3 rounded-lg"},[n("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),n("span",h$,"+"+A(e.stats.total_today)+" Today",1)]),n("h3",g$,A(e.stats.total_today),1),h[2]||(h[2]=n("p",{class:"text-sm text-gray-500 mt-1"},"Total Activities Today",-1))]),n("div",p$,[h[3]||(h[3]=n("div",{class:"flex items-center justify-between mb-4"},[n("div",{class:"bg-purple-100 p-3 rounded-lg"},[n("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])]),n("span",{class:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full"},"Active Now")],-1)),n("h3",m$,A(e.activeUsers),1),h[4]||(h[4]=n("p",{class:"text-sm text-gray-500 mt-1"},"Unique Users Today",-1))]),n("div",b$,[h[5]||(h[5]=n("div",{class:"flex items-center justify-between mb-4"},[n("div",{class:"bg-orange-100 p-3 rounded-lg"},[n("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),n("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Weekly")],-1)),n("h3",y$,A(e.stats.total_week),1),h[6]||(h[6]=n("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Week",-1))]),n("div",v$,[h[7]||(h[7]=n("div",{class:"flex items-center justify-between mb-4"},[n("div",{class:"bg-green-100 p-3 rounded-lg"},[n("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),n("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Monthly")],-1)),n("h3",w$,A(e.stats.total_month),1),h[8]||(h[8]=n("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Month",-1))])]),n("div",E$,[n("div",C$,[h[9]||(h[9]=n("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Hourly Activity (Last 24h)",-1)),n("div",A$,[ss(We(i0),{data:s.value,options:a},null,8,["data"])])]),n("div",k$,[h[10]||(h[10]=n("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Usage by Module",-1)),n("div",B$,[ss(We(i$),{data:r.value,options:d},null,8,["data"])])])]),n("div",_$,[n("div",D$,[h[11]||(h[11]=n("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Top 5 Most Active Users",-1)),n("div",S$,[ss(We(Qu),{data:i.value,options:u},null,8,["data"])])]),n("div",F$,[h[18]||(h[18]=n("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Health & Actions",-1)),n("div",T$,[h[16]||(h[16]=n("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[n("div",{class:"flex items-center gap-3"},[n("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n("span",{class:"font-medium text-green-900"},"Database Connection")]),n("span",{class:"text-sm text-green-700"},"Healthy")],-1)),h[17]||(h[17]=n("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[n("div",{class:"flex items-center gap-3"},[n("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n("span",{class:"font-medium text-green-900"},"Queue Worker")]),n("span",{class:"text-sm text-green-700"},"Running")],-1)),n("div",M$,[h[15]||(h[15]=n("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Quick Links",-1)),n("div",I$,[ss(We(rs),{href:"/activity-log",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:_t(()=>[...h[12]||(h[12]=[Oe("View Full Logs",-1)])]),_:1}),h[14]||(h[14]=n("span",{class:"text-gray-300"},"|",-1)),ss(We(rs),{href:"/master-data",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:_t(()=>[...h[13]||(h[13]=[Oe("Manage Master Data",-1)])]),_:1})])])])])]),n("div",P$,[n("div",R$,[n("div",O$,[h[19]||(h[19]=n("h3",{class:"text-lg font-bold text-gray-900"},"Online Users",-1)),n("span",N$,A(e.onlineUsers.length)+" Active ",1)]),e.onlineUsers.length>0?(T(),R("div",$$,[(T(!0),R(Ye,null,at(e.onlineUsers,m=>(T(),R("div",{key:m.id,class:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg transition-colors"},[n("div",L$,[n("div",j$,A(m.name.charAt(0).toUpperCase()),1),h[20]||(h[20]=n("div",{class:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"},null,-1))]),n("div",null,[n("p",U$,A(m.name),1),n("p",H$,A(m.email),1)])]))),128))])):(T(),R("div",z$," No users currently online. "))]),n("div",V$,[n("div",q$,[h[22]||(h[22]=n("h3",{class:"text-lg font-bold text-gray-900"},"Recent Activity Feed",-1)),ss(We(rs),{href:"/activity-log",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:_t(()=>[...h[21]||(h[21]=[Oe("View All",-1)])]),_:1})]),n("div",W$,[(T(!0),R(Ye,null,at(e.recentActivities,m=>(T(),R("div",{key:m.id+m.module,class:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-100"},[n("div",Q$,[m.module==="Incoming"?(T(),R("span",G$,"IN")):m.module==="QC"?(T(),R("span",K$,"QC")):m.module==="Stock Movement"?(T(),R("span",Y$,"MV")):m.module==="Master Data"?(T(),R("span",X$,"MD")):(T(),R("span",J$,A(m.module.substring(0,2).toUpperCase()),1))]),n("div",Z$,[n("p",eL,[n("span",tL,A(m.user),1),h[23]||(h[23]=n("span",{class:"font-normal text-gray-600"}," performed ",-1)),n("span",sL,A(m.action),1)]),n("p",nL,A(m.description),1)]),n("div",rL,A(m.created_at),1)]))),128)),e.recentActivities.length===0?(T(),R("div",oL," No recent activities found. ")):se("",!0)])])])])]),_:1}))}},aL=Object.freeze(Object.defineProperty({__proto__:null,default:iL},Symbol.toStringTag,{value:"Module"})),lL={class:"min-h-screen transition-colors duration-300"},dL={class:"min-h-screen bg-gray-50 p-6 relative"},cL={key:0,class:"fixed inset-0 bg-white/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center"},uL={class:"bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center border border-gray-100"},xL={class:"text-xl font-bold text-gray-800"},fL={class:"text-gray-500 mt-2"},hL={key:0,class:"w-full mt-6"},gL={class:"flex justify-between mb-1"},pL={class:"text-xs font-medium text-blue-700"},mL={class:"w-full bg-gray-200 rounded-full h-2.5"},bL={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},yL={class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col"},vL={class:"p-6 overflow-y-auto"},wL={class:"space-y-4"},EL={class:"flex items-start gap-3"},CL={class:"bg-red-200 text-red-800 text-xs font-bold px-2 py-1 rounded"},AL={class:"flex-1"},kL={class:"text-sm font-medium text-red-900"},BL={class:"mt-2"},_L={class:"mt-2 text-xs bg-white p-2 rounded border border-red-100 overflow-x-auto"},DL={class:"mb-6"},SL={class:"flex justify-between items-center"},FL={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},TL={class:"border-b border-gray-200"},ML={class:"-mb-px flex space-x-8 px-6"},IL=["onClick"],PL={class:"p-6"},RL={class:"flex flex-wrap gap-3 mb-6"},OL={class:"flex flex-wrap gap-4 mb-6"},NL={class:"flex-1 min-w-64 flex gap-2"},$L=["placeholder"],LL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},jL={class:"overflow-x-auto"},UL={class:"min-w-full divide-y divide-gray-200"},HL={class:"bg-gray-50"},zL={class:"px-4 py-3 text-center"},VL=["checked"],qL={class:"bg-white divide-y divide-gray-200"},WL={class:"px-4 py-4 text-center"},QL=["checked","onChange"],GL={class:"px-6 py-4 whitespace-nowrap"},KL={class:"text-sm font-mono text-gray-900"},YL={class:"px-6 py-4"},XL={class:"text-sm text-gray-900"},JL={class:"px-6 py-4 whitespace-nowrap"},ZL={class:"text-sm text-gray-900"},ej={class:"px-6 py-4 whitespace-nowrap"},tj={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},sj={class:"px-6 py-4 whitespace-nowrap"},nj={class:"text-sm text-gray-900"},rj={class:"px-6 py-4 whitespace-nowrap"},oj={class:"px-6 py-4 whitespace-nowrap"},ij={class:"px-6 py-4 whitespace-nowrap"},aj={class:"px-6 py-4 whitespace-nowrap"},lj={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},dj=["onClick"],cj=["onClick"],uj={class:"p-4 border-t"},xj={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},fj={class:"overflow-x-auto"},hj={class:"min-w-full divide-y divide-gray-200"},gj={class:"bg-white divide-y divide-gray-200"},pj={class:"px-6 py-4 whitespace-nowrap"},mj={class:"text-sm font-mono text-gray-900"},bj={class:"px-6 py-4"},yj={class:"text-sm font-medium text-gray-900"},vj={class:"px-6 py-4"},wj={class:"text-sm text-gray-900"},Ej={class:"px-6 py-4 whitespace-nowrap"},Cj={class:"text-sm text-gray-900"},Aj={class:"px-6 py-4 whitespace-nowrap"},kj={class:"text-sm text-gray-900"},Bj={class:"px-6 py-4 whitespace-nowrap"},_j={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Dj=["onClick"],Sj=["onClick"],Fj={class:"p-4 border-t"},Tj={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},Mj={class:"overflow-x-auto"},Ij={class:"min-w-full divide-y divide-gray-200"},Pj={class:"bg-white divide-y divide-gray-200"},Rj={class:"px-6 py-4 whitespace-nowrap"},Oj={class:"text-sm font-mono text-gray-900"},Nj={class:"px-6 py-4 whitespace-nowrap"},$j={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},Lj={class:"px-6 py-4 whitespace-nowrap"},jj={class:"px-6 py-4 whitespace-nowrap"},Uj={class:"px-6 py-4 whitespace-nowrap"},Hj={key:0},zj=["onClick"],Vj={key:1,class:"text-sm text-gray-400"},qj={class:"px-6 py-4 whitespace-nowrap"},Wj=["onClick"],Qj={key:1,class:"text-gray-400 text-xs"},Gj={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Kj=["onClick"],Yj=["onClick"],Xj={class:"p-4 border-t"},Jj={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},Zj={class:"overflow-x-auto"},eU={class:"min-w-full divide-y divide-gray-200"},tU={class:"bg-white divide-y divide-gray-200"},sU={class:"px-6 py-4 whitespace-nowrap"},nU={class:"text-sm font-medium text-gray-900"},rU={class:"px-6 py-4 whitespace-nowrap"},oU={class:"text-sm text-gray-900"},iU={class:"px-6 py-4 whitespace-nowrap"},aU={class:"px-6 py-4 whitespace-nowrap"},lU={class:"text-sm text-gray-900"},dU={class:"px-6 py-4 whitespace-nowrap"},cU={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},uU=["onClick"],xU=["onClick"],fU={class:"p-4 border-t"},hU={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},gU={class:"bg-white rounded-lg p-6 w-full max-w-lg border border-gray-200 shadow-2xl"},pU={class:"flex justify-between items-center mb-6"},mU={class:"text-xl font-semibold text-gray-900"},bU={class:"flex justify-center mb-6 bg-gray-50 p-6 rounded-lg"},yU=["src"],vU={class:"bg-blue-50 rounded-lg p-4 mb-6 space-y-2"},wU={class:"flex justify-between"},EU={class:"text-sm font-bold text-gray-900"},CU={class:"flex justify-between"},AU={class:"text-sm text-gray-900"},kU={class:"flex justify-between"},BU={class:"text-sm text-gray-900"},_U={class:"flex justify-between"},DU={class:"text-sm text-gray-900"},SU={class:"flex justify-between"},FU={class:"text-sm text-gray-900"},TU={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},MU={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto border border-gray-200"},IU={class:"flex justify-between items-center mb-6"},PU={class:"text-xl font-semibold text-gray-900"},RU={key:0,class:"space-y-4"},OU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},NU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$U={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},LU={class:"flex gap-6"},jU={class:"flex items-center"},UU={class:"flex items-center"},HU={key:1,class:"space-y-4"},zU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},VU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qU={key:2,class:"space-y-4"},WU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},QU=["value"],GU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},KU={key:3,class:"space-y-4"},YU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},XU={key:0},JU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ZU=["value"],eH={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},tH={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},sH={class:"bg-white rounded-lg p-6 w-full max-w-md border border-gray-200 shadow-2xl scale-in-center"},nH={class:"flex flex-col items-center text-center"},rH={class:"text-gray-600 mb-6"},oH={class:"font-bold text-orange-600"},iH={class:"font-bold text-gray-900"},aH={class:"w-full flex gap-3"},lH={class:"flex items-center gap-2"},dH={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},cH={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},uH={key:6,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},xH={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto border border-gray-200"},fH={class:"flex justify-between items-center mb-6"},hH={class:"text-xl font-semibold text-gray-900"},gH={class:"space-y-4"},pH={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mH={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bH={class:"flex gap-6"},yH={class:"flex items-center"},vH=[".indeterminate"],wH={class:"ml-2 text-gray-900"},EH={class:"flex items-center"},CH=[".indeterminate"],AH={class:"ml-2 text-gray-900"},kH={class:"mt-6 p-4 bg-gray-50 rounded-lg"},BH={class:"max-h-40 overflow-y-auto"},_H={class:"text-sm text-gray-600 space-y-1"},DH={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},SH={key:7,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},FH={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl"},TH={class:"flex justify-between items-center mb-6"},MH={class:"text-xl font-semibold text-gray-900"},IH={key:0,class:"text-center py-8 text-gray-500"},PH={key:1,class:"text-center py-8 text-gray-500"},RH={key:2,class:"overflow-x-auto"},OH={class:"min-w-full divide-y divide-gray-200"},NH={class:"bg-white divide-y divide-gray-200"},$H={class:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},LH={class:"px-4 py-2 text-sm text-gray-900"},jH={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},UH={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},HH={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},zH={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},VH={class:"px-4 py-2 whitespace-nowrap text-sm"},qH={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},WH=rr({__name:"MasterData",props:{skuData:{},supplierData:{},binData:{},userData:{},supplierList:{},zoneList:{},roleList:{},activeTab:{},search:{},status:{}},setup(e){const t=e,s=Xs();de(!1);const r=de(t.activeTab||"sku"),i=de(t.search||""),a=de(t.status||""),d=de(!1),u=de(null),g=de(!1),h=de(null),m=de(!1),b=de(!1),v=de(null),C=de(!1),_=de([]),F=de({category:"",subCategory:"",halalStatus:"",status:"",qcRequired:null,expiry:null}),S=de({}),D=de(null),O=de(null),P=[{id:"sku",label:"SKU (Material Master)"},{id:"supplier",label:"Supplier"},{id:"bin",label:"Bin Location"},{id:"user",label:"User & Role"}],B=De=>{if(!De.links||De.links.length<=3)return Sn("div");const Y=De.links.map((G,Ce)=>{const pt={"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-blue-500 focus:border-blue-500":!0,"bg-blue-500 text-white":G.active,"text-gray-400":G.url===null};return G.url===null?Sn("div",{key:Ce,class:pt,innerHTML:G.label}):Sn(rs,{key:Ce,class:pt,href:G.url,innerHTML:G.label,preserveState:!0,preserveScroll:!0})});return Sn("div",{class:"flex flex-wrap -mb-1"},Y)},U=async(De,Y)=>{h.value=null,g.value=!0;try{const G=route("bin.stocks.details",{binId:De}),Ce=await fetch(G);if(!Ce.ok){ae("error",`Gagal memuat detail Bin ${Y}`),h.value={bin_code:Y,details:[]};return}const pt=await Ce.json();h.value=pt}catch(G){console.error("Fetch Bin Details error:",G),ae("error","Error saat memuat detail material."),h.value={bin_code:Y,details:[]}}},z=()=>{g.value=!1,h.value=null},j=()=>P.find(De=>De.id===r.value)?.label||"",H=De=>{const Y=De?.toLowerCase();return Y==="active"||Y==="available"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},I=De=>({Normal:"bg-blue-100 text-blue-800",Quarantine:"bg-yellow-100 text-yellow-800",Reject:"bg-red-100 text-red-800",Staging:"bg-purple-100 text-purple-800",Production:"bg-green-100 text-green-800"})[De]||"bg-gray-100 text-gray-800",$=De=>({Admin:"bg-purple-100 text-purple-800",QC:"bg-blue-100 text-blue-800",Receiving:"bg-green-100 text-green-800",Warehouse:"bg-yellow-100 text-yellow-800",Production:"bg-orange-100 text-orange-800",Supervisor:"bg-red-100 text-red-800"})[De]||"bg-gray-100 text-gray-800",J=Ze(()=>t.skuData),K=Ze(()=>t.supplierData),ie=Ze(()=>t.binData),fe=Ze(()=>t.userData),q=de(t.zoneList||[]),le=de(t.roleList||[]),he=()=>{const De={sku:{code:"",name:"",uom:"",category:"",subCategory:"",qcRequired:!1,expiry:!1,supplierDefault:"",abcClass:"",status:"Active"},supplier:{code:"",name:"",address:"",contactPerson:"",phone:"",status:"Active"},bin:{code:"",zone:"",capacity:0,type:"",status:"Active"},user:{jabatan:"",password:"",fullName:"",role:"",department:"",status:"Active"}};S.value={...De[r.value]}},ve=()=>{m.value=!1,b.value=!1,v.value=null,he()},Ie=De=>{if(v.value=De,r.value==="bin"){const Y=q.value.find(G=>G.name===De.zone);S.value={...De,zone:Y?.id||""}}else S.value={...De};b.value=!0},Ue=async()=>{try{if(r.value!=="user"&&!S.value.code){ae("error","Kode wajib diisi");return}if(r.value==="user"){if(!S.value.fullName){ae("error","Nama lengkap wajib diisi");return}if(!b.value&&!S.value.password){ae("error","Password wajib diisi");return}if(!S.value.role){ae("error","Role wajib dipilih");return}if(!S.value.department){ae("error","Department wajib dipilih");return}}if(r.value==="bin"){if(!S.value.zone){ae("error","Zone wajib dipilih");return}if(!S.value.type){ae("error","Type wajib dipilih");return}}const De=b.value?`/master-data/${r.value}/${v.value.id}`:`/master-data/${r.value}`,Y=b.value?"PUT":"POST";console.log("Submit data:",{endpoint:De,method:Y,data:S.value});const G=await fetch(De,{method:Y,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify(S.value)}),Ce=await G.json();if(console.log("Response:",Ce),!G.ok){ae("error",Ce.message||"Terjadi kesalahan");return}ae("success",Ce.message||"Data berhasil disimpan"),ve(),setTimeout(()=>window.location.reload(),1500)}catch(De){console.error("Save error:",De),ae("error","Error: "+De.message)}},be=async De=>{try{const Y=await fetch(`/master-data/bin/${De}/qr-code/preview`,{method:"GET",headers:{Accept:"application/json"}}),G=await Y.json();if(!Y.ok){ae("error",G.message||"Gagal memuat QR Code");return}u.value=G.data,d.value=!0}catch(Y){console.error("Preview error:",Y),ae("error","Error saat memuat QR Code")}},qe=async()=>{if(u.value)try{const De=u.value.bin_code,Y=binData.value.find(zt=>zt.code===De);if(!Y){ae("error","Bin tidak ditemukan");return}const G=await fetch(`/master-data/bin/${Y.id}/qr-code/download`);if(!G.ok){ae("error","Gagal mengunduh QR Code");return}const Ce=await G.blob(),pt=window.URL.createObjectURL(Ce),At=document.createElement("a");At.href=pt,At.download=`QR_${De}.png`,document.body.appendChild(At),At.click(),window.URL.revokeObjectURL(pt),document.body.removeChild(At),ae("success","QR Code berhasil diunduh")}catch(De){console.error("Download error:",De),ae("error","Error saat mengunduh QR Code")}},ot=()=>{if(!u.value)return;const De=window.open("","_blank");if(!De){ae("error","Gagal membuka window print. Mohon izinkan popup.");return}const Y=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Print QR Code - ${u.value.bin_code}</title>
      <style>
        body {
          margin: 0;
          padding: 20px;
          font-family: Arial, sans-serif;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .print-container {
          text-align: center;
          max-width: 400px;
        }
        .qr-image {
          width: 300px;
          height: 300px;
          margin: 20px auto;
        }
        .info {
          margin: 10px 0;
          font-size: 16px;
          font-weight: bold;
        }
        @media print {
          body {
            padding: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="print-container">
        <img src="${u.value.image}" alt="QR Code" class="qr-image">
        <div class="info">Bin Name: ${u.value.bin_code}</div>
        <div class="info">Zone: ${u.value.zone_name}</div>
      </div>
      <script>
        window.onload = function() {
          window.print();
        }
      <\/script>
    </body>
    </html>
  `;De.document.write(Y),De.document.close()},Ge=de([]),dt=async()=>{try{it.value=!0,Et.value="Menyiapkan Data...",ne.value="Mohon tunggu sebentar, sedang mengambil data lokasi bin.",ge.value=0;const De=await fetch("/master-data/bins",{method:"GET",headers:{Accept:"application/json"}});if(!De.ok){ae("error","Gagal memuat bin locations"),it.value=!1;return}const Y=await De.json();if(!Y||Y.length===0){ae("error","Tidak ada bin location untuk di-print"),it.value=!1;return}Ge.value=Y,He.value=Y.length;const G=Math.ceil(Y.length*.5);G<60?xe.value=`~${G} detik`:xe.value=`~${Math.ceil(G/60)} menit`,it.value=!1,Te.value=!0}catch(De){console.error("Print prepare error:",De),ae("error","Gagal menyiapkan proses print"),it.value=!1}},ze=async()=>{if(Te.value=!1,Ge.value.length!==0)try{it.value=!0,Et.value="Generating QR Codes...",ne.value="Kami sedang memproses data untuk siap di-print.";const De=[],Y=Ge.value.length;for(let G=0;G<Ge.value.length;G++){const Ce=Ge.value[G];ge.value=Math.round((G+1)/Y*100),ne.value=`Memproses item ${G+1} dari ${Y}...`;try{const pt=await fetch(`/master-data/bin/${Ce.id}/qr-code/preview`);if(pt.ok){const At=await pt.json();At&&At.success&&De.push(At.data)}else console.error(`HTTP error for bin ${Ce.code}: ${pt.status}`)}catch(pt){console.error(`Error fetching QR for bin ${Ce.code}:`,pt)}}if(ge.value=100,ne.value="Menyiapkan layout printing...",De.length===0){ae("error","Gagal memuat QR Codes"),it.value=!1;return}xt(De),it.value=!1,ge.value=0}catch(De){console.error("Generation error:",De),ae("error","Terjadi kesalahan saat generate QR Codes"),it.value=!1,ge.value=0}},xt=De=>{try{const Y=window.open("","_blank");if(!Y){ae("error","Gagal membuka window print. Mohon izinkan popup.");return}let G="";const Ce=9;for(let At=0;At<De.length;At+=Ce){const zt=De.slice(At,At+Ce);G+=`
        <div class="page">
            ${zt.map(me=>`
              <div class="qr-item">
                <img src="${me.image}" alt="QR Code" class="qr-image">
                <div class="info-container">
                    <div class="info">${me.bin_name||me.bin_code}</div>
                    <div class="info zone">${me.zone_name}</div>
                </div>
              </div>
            `).join("")}
        </div>
      `}const pt=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print All QR Codes</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: Arial, sans-serif;
            background-color: white;
          }
          
          .page {
            width: 200mm; /* Fit within print margins */
            padding: 0;
            page-break-after: always;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            row-gap: 2mm;
            column-gap: 2mm;
          }
          
          .page:last-child {
            page-break-after: auto;
          }
          
          /* 60mm * 3 + 2mm * 2 = 180 + 4 = 184mm (Fits in 200mm easily) */
          .qr-item {
            width: 50mm; 
            height: 80mm;
            border: 1px dashed #999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            overflow: hidden;
            padding-top: 2mm;
            page-break-inside: avoid;
          }
          
          .qr-image {
            width: 55mm;
            height: 55mm;
            margin-bottom: 2mm;
          }
          
          .info-container {
             width: 100%;
             padding: 0 1mm;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
          }

          .info {
            font-size: 16px; 
            font-weight: bold;
            line-height: 1.1;
            word-break: break-all;
            margin-bottom: 1px;
            color: #000;
          }
          
          .info.zone {
              font-size: 12px;
              color: #444;
          }
          
          @media print {
            body {
               -webkit-print-color-adjust: exact;
            }
          }
          
          @media print {
            body {
              margin: 0;
              padding: 0;
            }
            .page {
              margin: 0;
              padding: 5mm;
              height: auto; 
              min-height: 0; /* Removing min-height */
            }
          }
        </style>
      </head>
      <body>
        ${G}
        <script>
          window.onload = function() {
            setTimeout(() => {
              window.print();
            }, 500);
          }
        <\/script>
      </body>
      </html>
    `;Y.document.write(pt),Y.document.close()}catch(Y){console.error("Print All QR Codes error:",Y),ae("error","Error saat print QR Codes")}},ft=()=>{d.value=!1,u.value=null},yt=async De=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{const Y=await fetch(`/master-data/${r.value}/${De}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}}),G=await Y.json();if(!Y.ok){ae("error",G.message||"Terjadi kesalahan");return}ae("success",G.message),setTimeout(()=>window.location.reload(),1e3)}catch(Y){console.error("Delete error:",Y),ae("error","Error: "+Y.message)}},vt=()=>{D.value?.click()},it=de(!1),Et=de(""),ne=de(""),ge=de(0),Te=de(!1),He=de(0),xe=de(""),ee=de(!1),N=de([]);Hs(()=>s.props.flash,De=>{De?.import_errors&&(N.value=De.import_errors,ee.value=!0)},{deep:!0,immediate:!0});const E=()=>{ee.value=!1,N.value=[]},M=De=>{const Y=De.target.files?.[0];if(Y){it.value=!0;const G=new FormData;G.append("file",Y),Bt.post("/master-data/import-stock",G,{forceFormData:!0,onSuccess:()=>{ae("success",`File ${Y.name} berhasil diimport!`),setTimeout(()=>window.location.reload(),1e3)},onError:Ce=>{console.error("Import error:",Ce)},onFinish:()=>{it.value=!1,D.value&&(D.value.value="")}})}},ae=(De,Y)=>{O.value={type:De,text:Y},setTimeout(()=>{O.value=null},3e3)},Fe=De=>{r.value=De,Qe()},Qe=()=>{Bt.get(route("master-data.index"),{search:i.value,status:a.value,activeTab:r.value},{preserveState:!0,preserveScroll:!0,only:["skuData","supplierData","binData","userData"],onSuccess:()=>{ve()}})};Hs(r,()=>{he(),_.value=[]});const Je=Ze(()=>!J.value.data||J.value.data.length===0?!1:_.value.length===J.value.data.length),nt=()=>{Bt.get(route("master-data.index"),{search:i.value,status:a.value,activeTab:r.value},{preserveState:!0,preserveScroll:!0,only:["skuData","supplierData","binData","userData"]})},bt=De=>{const Y=_.value.indexOf(De);Y>-1?_.value.splice(Y,1):_.value.push(De)},Ct=()=>{Je.value?_.value=[]:_.value=J.value.data.map(De=>De.id)},ht=()=>{C.value=!1,F.value={category:"",subCategory:"",halalStatus:"",status:"",qcRequired:null,expiry:null}},Qt=De=>{F.value[De]===null?F.value[De]=!0:F.value[De]===!0?F.value[De]=!1:F.value[De]=null},jt=De=>{const Y=F.value[De];return Y===null?"(tidak diubah)":Y===!0?"(Ya)":"(Tidak)"},Ht=De=>{const Y=J.value.data.find(G=>G.id===De);return Y?`${Y.code} - ${Y.name}`:De},Ft=async()=>{try{const De={ids:_.value};if(F.value.category&&(De.category=F.value.category),F.value.subCategory&&(De.subCategory=F.value.subCategory),F.value.halalStatus&&(De.halalStatus=F.value.halalStatus),F.value.status&&(De.status=F.value.status),F.value.qcRequired!==null&&(De.qcRequired=F.value.qcRequired),F.value.expiry!==null&&(De.expiry=F.value.expiry),Object.keys(De).length===1){ae("error","Pilih minimal satu field untuk diubah");return}const Y=await fetch("/master-data/sku/bulk-update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify(De)}),G=await Y.json();if(!Y.ok){ae("error",G.message||"Terjadi kesalahan");return}ae("success",G.message||`${_.value.length} items berhasil diupdate`),ht(),_.value=[],setTimeout(()=>window.location.reload(),1500)}catch(De){console.error("Bulk update error:",De),ae("error","Error: "+De.message)}};return gn(()=>{he()}),(De,Y)=>(T(),Dt(pn,{pageTitle:"Master Data",pageDescription:"Kelola data master sistem WMS"},{default:_t(()=>[n("div",lL,[n("div",dL,[it.value?(T(),R("div",cL,[n("div",uL,[Y[39]||(Y[39]=n("div",{class:"warehouse-loader mb-4"},[n("div",{class:"forklift"},[n("div",{class:"forks"})]),n("div",{class:"box"})],-1)),n("h3",xL,A(Et.value||"Processing..."),1),n("p",fL,A(ne.value||"Please wait while we process your request."),1),ge.value>0?(T(),R("div",hL,[n("div",gL,[n("span",pL,"Proses: "+A(ge.value)+"%",1)]),n("div",mL,[n("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:Rr({width:ge.value+"%"})},null,4)])])):se("",!0)])])):se("",!0),ee.value?(T(),R("div",bL,[n("div",yL,[n("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center bg-red-50 rounded-t-xl"},[Y[41]||(Y[41]=n("div",{class:"flex items-center gap-3"},[n("div",{class:"bg-red-100 p-2 rounded-full"},[n("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),n("div",null,[n("h3",{class:"text-lg font-bold text-gray-900"},"Import Errors"),n("p",{class:"text-sm text-red-600"},"Terjadi kesalahan pada beberapa baris data")])],-1)),n("button",{onClick:E,class:"text-gray-400 hover:text-gray-600"},[...Y[40]||(Y[40]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",vL,[n("div",wL,[(T(!0),R(Ye,null,at(N.value,(G,Ce)=>(T(),R("div",{key:Ce,class:"bg-red-50 border border-red-100 rounded-lg p-4"},[n("div",EL,[n("span",CL,"Row "+A(G.row),1),n("div",AL,[n("p",kL,A(G.message),1),n("details",BL,[Y[42]||(Y[42]=n("summary",{class:"text-xs text-red-600 cursor-pointer hover:underline"},"View Row Data",-1)),n("pre",_L,A(G.data),1)])])])]))),128))])]),n("div",{class:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-xl flex justify-end"},[n("button",{onClick:E,class:"bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 rounded-lg transition-colors"}," Close & Fix Data ")])])])):se("",!0),n("div",DL,[n("div",SL,[Y[44]||(Y[44]=n("div",null,[n("h1",{class:"text-3xl font-bold text-gray-900"},"Master Data"),n("p",{class:"text-gray-600 mt-1"},"Kelola data master untuk seluruh sistem WMS")],-1)),n("div",null,[n("button",{onClick:vt,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm"},[...Y[43]||(Y[43]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),Oe(" Import Initial Stock ",-1)])]),n("input",{ref_key:"fileInput",ref:D,type:"file",accept:".xlsx,.xls,.csv",onChange:M,class:"hidden"},null,544)])])]),n("div",FL,[n("div",TL,[n("nav",ML,[(T(),R(Ye,null,at(P,G=>n("button",{key:G.id,onClick:Ce=>Fe(G.id),class:Se([r.value===G.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","py-4 px-1 border-b-2 font-medium text-sm transition-colors"])},A(G.label),11,IL)),64))])]),n("div",PL,[n("div",RL,[n("button",{onClick:Y[0]||(Y[0]=G=>m.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[Y[45]||(Y[45]=n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),Oe(" Tambah "+A(j()),1)]),r.value==="sku"&&_.value.length>0?(T(),R("button",{key:0,onClick:Y[1]||(Y[1]=G=>C.value=!0),class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[Y[46]||(Y[46]=n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),Oe(" Bulk Edit ("+A(_.value.length)+" selected) ",1)])):se("",!0),r.value==="bin"?(T(),R("button",{key:1,onClick:dt,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...Y[47]||(Y[47]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),Oe(" Print All QR Codes ",-1)])])):se("",!0)]),n("div",OL,[n("div",NL,[we(n("input",{"onUpdate:modelValue":Y[2]||(Y[2]=G=>i.value=G),onKeyup:al(nt,["enter"]),type:"text",placeholder:"Cari "+j()+"...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,$L),[[Ve,i.value]]),n("button",{onClick:nt,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"},[...Y[48]||(Y[48]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),we(n("select",{"onUpdate:modelValue":Y[3]||(Y[3]=G=>a.value=G),onChange:nt,class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[49]||(Y[49]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"Active"},"Active",-1),n("option",{value:"Inactive"},"Inactive",-1)])],544),[[St,a.value]])]),we(n("div",null,[n("div",LL,[n("div",jL,[n("table",UL,[n("thead",HL,[n("tr",null,[n("th",zL,[n("input",{type:"checkbox",checked:Je.value,onChange:Ct,class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,VL)]),Y[50]||(Y[50]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item",-1)),Y[51]||(Y[51]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material",-1)),Y[52]||(Y[52]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"UoM",-1)),Y[53]||(Y[53]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori",-1)),Y[54]||(Y[54]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sub Kategori",-1)),Y[55]||(Y[55]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Halal",-1)),Y[56]||(Y[56]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QC Required",-1)),Y[57]||(Y[57]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expiry",-1)),Y[58]||(Y[58]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1)),Y[59]||(Y[59]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi",-1))])]),n("tbody",qL,[(T(!0),R(Ye,null,at(J.value.data,G=>(T(),R("tr",{key:G.id,class:"hover:bg-gray-50"},[n("td",WL,[n("input",{type:"checkbox",checked:_.value.includes(G.id),onChange:Ce=>bt(G.id),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,QL)]),n("td",GL,[n("div",KL,A(G.code),1)]),n("td",YL,[n("div",XL,A(G.name),1)]),n("td",JL,[n("div",ZL,A(G.uom),1)]),n("td",ej,[n("span",tj,A(G.category),1)]),n("td",sj,[n("div",nj,A(G.subCategory||"-"),1)]),n("td",rj,[n("span",{class:Se([G.halalStatus==="Halal"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.halalStatus||"-"),3)]),n("td",oj,[n("span",{class:Se(G.qcRequired?"text-green-600":"text-gray-400")},A(G.qcRequired?"":""),3)]),n("td",ij,[n("span",{class:Se(G.expiry?"text-green-600":"text-gray-400")},A(G.expiry?"":""),3)]),n("td",aj,[n("span",{class:Se([H(G.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.status),3)]),n("td",lj,[n("button",{onClick:Ce=>Ie(G),class:"text-blue-600 hover:text-blue-900"},"Edit",8,dj),n("button",{onClick:Ce=>yt(G.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,cj)])]))),128))])])]),n("div",uj,[ss(B,{links:J.value.links},null,8,["links"])])])],512),[[ms,r.value==="sku"]]),we(n("div",null,[n("div",xj,[n("div",fj,[n("table",hj,[Y[60]||(Y[60]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Code"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Name"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Address"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact Person"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Phone"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",gj,[(T(!0),R(Ye,null,at(K.value.data,G=>(T(),R("tr",{key:G.id,class:"hover:bg-gray-50"},[n("td",pj,[n("div",mj,A(G.code),1)]),n("td",bj,[n("div",yj,A(G.name),1)]),n("td",vj,[n("div",wj,A(G.address),1)]),n("td",Ej,[n("div",Cj,A(G.contactPerson),1)]),n("td",Aj,[n("div",kj,A(G.phone),1)]),n("td",Bj,[n("span",{class:Se([H(G.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.status),3)]),n("td",_j,[n("button",{onClick:Ce=>Ie(G),class:"text-blue-600 hover:text-blue-900"},"Edit",8,Dj),n("button",{onClick:Ce=>yt(G.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,Sj)])]))),128))])])]),n("div",Fj,[ss(B,{links:K.value.links},null,8,["links"])])])],512),[[ms,r.value==="supplier"]]),we(n("div",null,[n("div",Tj,[n("div",Mj,[n("table",Ij,[Y[62]||(Y[62]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Bin Code"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Zone"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Material Count"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QR Code"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",Pj,[(T(!0),R(Ye,null,at(ie.value.data,G=>(T(),R("tr",{key:G.id,class:"hover:bg-gray-50"},[n("td",Rj,[n("div",Oj,A(G.code),1)]),n("td",Nj,[n("span",$j,A(G.zone),1)]),n("td",Lj,[n("span",{class:Se([I(G.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.type),3)]),n("td",jj,[n("span",{class:Se([H(G.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.status),3)]),n("td",Uj,[G.current_items_count>0?(T(),R("div",Hj,[n("button",{onClick:Ce=>U(G.id,G.code),class:"text-sm font-semibold text-blue-600 hover:text-blue-800 underline"},A(G.current_items_count)+" Item ",9,zj)])):(T(),R("span",Vj,"Kosong"))]),n("td",qj,[G.qrCode||G.id?(T(),R("button",{key:0,onClick:Ce=>be(G.id),class:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Preview QR Code"},[...Y[61]||(Y[61]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),Oe(" Preview QR ",-1)])],8,Wj)):(T(),R("span",Qj,"No QR"))]),n("td",Gj,[n("button",{onClick:Ce=>Ie(G),class:"text-blue-600 hover:text-blue-900"},"Edit",8,Kj),n("button",{onClick:Ce=>yt(G.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,Yj)])]))),128))])])]),n("div",Xj,[ss(B,{links:ie.value.links},null,8,["links"])])])],512),[[ms,r.value==="bin"]]),we(n("div",null,[n("div",Jj,[n("div",Zj,[n("table",eU,[Y[63]||(Y[63]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"jabatan"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Full Name"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Department"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",tU,[(T(!0),R(Ye,null,at(fe.value.data,G=>(T(),R("tr",{key:G.id,class:"hover:bg-gray-50"},[n("td",sU,[n("div",nU,A(G.jabatan),1)]),n("td",rU,[n("div",oU,A(G.fullName),1)]),n("td",iU,[n("span",{class:Se([$(G.role),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.role),3)]),n("td",aU,[n("div",lU,A(G.department),1)]),n("td",dU,[n("span",{class:Se([H(G.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(G.status),3)]),n("td",cU,[n("button",{onClick:Ce=>Ie(G),class:"text-blue-600 hover:text-blue-900"},"Edit",8,uU),n("button",{onClick:Ce=>yt(G.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,xU)])]))),128))])])]),n("div",fU,[ss(B,{links:fe.value.links},null,8,["links"])])])],512),[[ms,r.value==="user"]])])]),d.value&&u.value?(T(),R("div",hU,[n("div",gU,[n("div",pU,[n("h3",mU,"QR Code - "+A(u.value.bin_code),1),n("button",{onClick:ft,class:"text-gray-400 hover:text-gray-600"},[...Y[64]||(Y[64]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",bU,[n("img",{src:u.value.image,alt:"QR Code",class:"w-64 h-64 border-2 border-gray-200 rounded-lg shadow-sm"},null,8,yU)]),n("div",vU,[n("div",wU,[Y[65]||(Y[65]=n("span",{class:"text-sm font-medium text-gray-600"},"Bin Code:",-1)),n("span",EU,A(u.value.bin_code),1)]),n("div",CU,[Y[66]||(Y[66]=n("span",{class:"text-sm font-medium text-gray-600"},"Bin Name:",-1)),n("span",AU,A(u.value.bin_name),1)]),n("div",kU,[Y[67]||(Y[67]=n("span",{class:"text-sm font-medium text-gray-600"},"Zone:",-1)),n("span",BU,A(u.value.zone_name),1)]),n("div",_U,[Y[68]||(Y[68]=n("span",{class:"text-sm font-medium text-gray-600"},"Type:",-1)),n("span",DU,A(u.value.bin_type),1)]),n("div",SU,[Y[69]||(Y[69]=n("span",{class:"text-sm font-medium text-gray-600"},"Capacity:",-1)),n("span",FU,A(u.value.capacity),1)])]),n("div",{class:"flex gap-3"},[n("button",{onClick:qe,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...Y[70]||(Y[70]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Oe(" Download ",-1)])]),n("button",{onClick:ot,class:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...Y[71]||(Y[71]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),Oe(" Print ",-1)])]),n("button",{onClick:ft,class:"px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):se("",!0),m.value||b.value?(T(),R("div",TU,[n("div",MU,[n("div",IU,[n("h3",PU,A(b.value?"Edit":"Tambah")+" "+A(j()),1),n("button",{onClick:ve,class:"text-gray-400 hover:text-gray-600"},[...Y[72]||(Y[72]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value==="sku"?(T(),R("div",RU,[n("div",OU,[n("div",null,[Y[73]||(Y[73]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item *",-1)),we(n("input",{"onUpdate:modelValue":Y[4]||(Y[4]=G=>S.value.code=G),type:"text",placeholder:"ITM001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.code]])]),n("div",null,[Y[75]||(Y[75]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM *",-1)),we(n("select",{"onUpdate:modelValue":Y[5]||(Y[5]=G=>S.value.uom=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[74]||(Y[74]=[n("option",{value:""},"Pilih UoM",-1),n("option",{value:"PCS"},"PCS",-1),n("option",{value:"KG"},"KG",-1),n("option",{value:"LTR"},"LITER",-1),n("option",{value:"LITER"},"LITER",-1),n("option",{value:"BOX"},"BOX",-1)])],512),[[St,S.value.uom]])])]),n("div",null,[Y[76]||(Y[76]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material *",-1)),we(n("input",{"onUpdate:modelValue":Y[6]||(Y[6]=G=>S.value.name=G),type:"text",placeholder:"Nama material lengkap",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.name]])]),n("div",NU,[n("div",null,[Y[78]||(Y[78]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),we(n("select",{"onUpdate:modelValue":Y[7]||(Y[7]=G=>S.value.category=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[77]||(Y[77]=[n("option",{value:""},"Pilih Kategori",-1),n("option",{value:"Raw Material"},"Raw Material",-1),n("option",{value:"Packaging"},"Packaging",-1),n("option",{value:"Finished Goods"},"Finished Goods",-1),n("option",{value:"Spare Parts"},"Spare Parts",-1)])],512),[[St,S.value.category]])]),n("div",null,[Y[79]||(Y[79]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sub Kategori",-1)),we(n("input",{"onUpdate:modelValue":Y[8]||(Y[8]=G=>S.value.subCategory=G),type:"text",placeholder:"e.g. Botol, Karton, Chemical, etc",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.subCategory]])])]),n("div",$U,[n("div",null,[Y[81]||(Y[81]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Halal Status",-1)),we(n("select",{"onUpdate:modelValue":Y[9]||(Y[9]=G=>S.value.halalStatus=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[80]||(Y[80]=[n("option",{value:""},"Pilih Status",-1),n("option",{value:"Halal"},"Halal",-1),n("option",{value:"Non Halal"},"Non Halal",-1)])],512),[[St,S.value.halalStatus]])]),n("div",null,[Y[83]||(Y[83]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),we(n("select",{"onUpdate:modelValue":Y[10]||(Y[10]=G=>S.value.status=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[82]||(Y[82]=[n("option",{value:"Active"},"Active",-1),n("option",{value:"Inactive"},"Inactive",-1)])],512),[[St,S.value.status]])])]),n("div",LU,[n("label",jU,[we(n("input",{"onUpdate:modelValue":Y[11]||(Y[11]=G=>S.value.qcRequired=G),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[Yn,S.value.qcRequired]]),Y[84]||(Y[84]=n("span",{class:"ml-2 text-gray-900"},"QC Required",-1))]),n("label",UU,[we(n("input",{"onUpdate:modelValue":Y[12]||(Y[12]=G=>S.value.expiry=G),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[Yn,S.value.expiry]]),Y[85]||(Y[85]=n("span",{class:"ml-2 text-gray-900"},"Expiry Date Required",-1))])])])):se("",!0),r.value==="supplier"?(T(),R("div",HU,[n("div",zU,[n("div",null,[Y[86]||(Y[86]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Code *",-1)),we(n("input",{"onUpdate:modelValue":Y[13]||(Y[13]=G=>S.value.code=G),type:"text",placeholder:"SUP001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.code]])]),n("div",null,[Y[88]||(Y[88]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),we(n("select",{"onUpdate:modelValue":Y[14]||(Y[14]=G=>S.value.status=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[87]||(Y[87]=[n("option",{value:"Active"},"Active",-1),n("option",{value:"Inactive"},"Inactive",-1)])],512),[[St,S.value.status]])])]),n("div",null,[Y[89]||(Y[89]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Name *",-1)),we(n("input",{"onUpdate:modelValue":Y[15]||(Y[15]=G=>S.value.name=G),type:"text",placeholder:"PT. Nama Supplier",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.name]])]),n("div",null,[Y[90]||(Y[90]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),we(n("textarea",{"onUpdate:modelValue":Y[16]||(Y[16]=G=>S.value.address=G),placeholder:"Alamat lengkap supplier",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.address]])]),n("div",VU,[n("div",null,[Y[91]||(Y[91]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Person",-1)),we(n("input",{"onUpdate:modelValue":Y[17]||(Y[17]=G=>S.value.contactPerson=G),type:"text",placeholder:"Nama PIC",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.contactPerson]])]),n("div",null,[Y[92]||(Y[92]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),we(n("input",{"onUpdate:modelValue":Y[18]||(Y[18]=G=>S.value.phone=G),type:"text",placeholder:"0812-3456-7890",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.phone]])])])])):se("",!0),r.value==="bin"?(T(),R("div",qU,[n("div",WU,[n("div",null,[Y[93]||(Y[93]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bin Code *",-1)),we(n("input",{"onUpdate:modelValue":Y[19]||(Y[19]=G=>S.value.code=G),type:"text",placeholder:"A1-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.code]])]),n("div",null,[Y[95]||(Y[95]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Zone *",-1)),we(n("select",{"onUpdate:modelValue":Y[20]||(Y[20]=G=>S.value.zone=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[Y[94]||(Y[94]=n("option",{value:""},"Pilih Zone",-1)),(T(!0),R(Ye,null,at(q.value,G=>(T(),R("option",{key:G.id,value:G.id},A(G.name),9,QU))),128))],512),[[St,S.value.zone]])])]),n("div",GU,[n("div",null,[Y[96]||(Y[96]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacity",-1)),we(n("input",{"onUpdate:modelValue":Y[21]||(Y[21]=G=>S.value.capacity=G),type:"number",placeholder:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.capacity]])]),n("div",null,[Y[98]||(Y[98]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type *",-1)),we(n("select",{"onUpdate:modelValue":Y[22]||(Y[22]=G=>S.value.type=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[97]||(Y[97]=[n("option",{value:""},"Pilih Type",-1),n("option",{value:"Normal"},"Normal",-1),n("option",{value:"Quarantine"},"Quarantine",-1),n("option",{value:"Reject"},"Reject",-1),n("option",{value:"Staging"},"Staging",-1),n("option",{value:"Production"},"Production",-1)])],512),[[St,S.value.type]])])]),n("div",null,[Y[100]||(Y[100]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),we(n("select",{"onUpdate:modelValue":Y[23]||(Y[23]=G=>S.value.status=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[99]||(Y[99]=[n("option",{value:"Active"},"Active",-1),n("option",{value:"Inactive"},"Inactive",-1)])],512),[[St,S.value.status]])])])):se("",!0),r.value==="user"?(T(),R("div",KU,[n("div",YU,[n("div",null,[Y[102]||(Y[102]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Jabatan * ",-1)),we(n("select",{"onUpdate:modelValue":Y[24]||(Y[24]=G=>S.value.jabatan=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...Y[101]||(Y[101]=[n("option",{value:"",disabled:""},"Pilih jabatan",-1),n("option",{value:"Manager"},"Manager",-1),n("option",{value:"Supervisor"},"Supervisor",-1),n("option",{value:"Staff"},"Staff",-1),n("option",{value:"Intern"},"Intern",-1)])],512),[[St,S.value.jabatan]])]),b.value?se("",!0):(T(),R("div",XU,[Y[103]||(Y[103]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password *",-1)),we(n("input",{"onUpdate:modelValue":Y[25]||(Y[25]=G=>S.value.password=G),type:"password",placeholder:"********",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.password]])]))]),n("div",null,[Y[104]||(Y[104]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name *",-1)),we(n("input",{"onUpdate:modelValue":Y[26]||(Y[26]=G=>S.value.fullName=G),type:"text",placeholder:"John Doe",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,S.value.fullName]])]),n("div",JU,[n("div",null,[Y[106]||(Y[106]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role *",-1)),we(n("select",{"onUpdate:modelValue":Y[27]||(Y[27]=G=>S.value.role=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[Y[105]||(Y[105]=n("option",{value:""},"Pilih Role",-1)),(T(!0),R(Ye,null,at(le.value,G=>(T(),R("option",{key:G.id,value:G.name},A(G.name),9,ZU))),128))],512),[[St,S.value.role]])]),n("div",null,[Y[108]||(Y[108]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Department *",-1)),we(n("select",{"onUpdate:modelValue":Y[28]||(Y[28]=G=>S.value.department=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[107]||(Y[107]=[n("option",{value:""},"Pilih Department",-1),n("option",{value:"Gudang"},"Gudang",-1),n("option",{value:"QC"},"Quality Control",-1),n("option",{value:"Produksi"},"Produksi",-1),n("option",{value:"PPIC"},"PPIC",-1),n("option",{value:"IT"},"IT",-1)])],512),[[St,S.value.department]])])]),n("div",null,[Y[110]||(Y[110]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),we(n("select",{"onUpdate:modelValue":Y[29]||(Y[29]=G=>S.value.status=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[109]||(Y[109]=[n("option",{value:"Active"},"Active",-1),n("option",{value:"Inactive"},"Inactive",-1)])],512),[[St,S.value.status]])])])):se("",!0),n("div",eH,[n("button",{onClick:ve,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),n("button",{onClick:Ue,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"},A(b.value?"Update":"Simpan"),1)])])])):se("",!0),Te.value?(T(),R("div",tH,[n("div",sH,[n("div",nH,[Y[115]||(Y[115]=n("div",{class:"bg-orange-100 p-4 rounded-full mb-4"},[n("svg",{class:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})])],-1)),Y[116]||(Y[116]=n("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Konfirmasi Print",-1)),n("p",rH,[Y[111]||(Y[111]=Oe(" Sistem akan meng-generate QR Code untuk ",-1)),n("span",oH,A(He.value),1),Y[112]||(Y[112]=Oe(" lokasi bin. ",-1)),Y[113]||(Y[113]=n("br",null,null,-1)),Y[114]||(Y[114]=Oe(" Perkiraan waktu: ",-1)),n("span",iH,A(xe.value),1)]),n("div",aH,[n("button",{onClick:Y[30]||(Y[30]=G=>Te.value=!1),class:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),n("button",{onClick:ze,class:"flex-1 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors font-semibold"}," Lanjut Print ")])])])])):se("",!0),O.value?(T(),R("div",{key:5,class:Se([O.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"99999"}},[n("div",lH,[O.value.type==="success"?(T(),R("svg",dH,[...Y[117]||(Y[117]=[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(T(),R("svg",cH,[...Y[118]||(Y[118]=[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),Oe(" "+A(O.value.text),1)])],2)):se("",!0),C.value?(T(),R("div",uH,[n("div",xH,[n("div",fH,[n("h3",hH," Bulk Edit SKU ("+A(_.value.length)+" items) ",1),n("button",{onClick:ht,class:"text-gray-400 hover:text-gray-600"},[...Y[119]||(Y[119]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),Y[129]||(Y[129]=n("div",{class:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},[n("p",{class:"text-sm text-blue-800"},[n("svg",{class:"w-4 h-4 inline mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),Oe(" Hanya field yang diubah akan diterapkan ke semua item yang dipilih. Field yang dikosongkan tidak akan diubah. ")])],-1)),n("div",gH,[n("div",pH,[n("div",null,[Y[121]||(Y[121]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),we(n("select",{"onUpdate:modelValue":Y[31]||(Y[31]=G=>F.value.category=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[120]||(Y[120]=[n("option",{value:""},"-- Tidak diubah --",-1),n("option",{value:"Raw Material"},"Raw Material",-1),n("option",{value:"Packaging"},"Packaging",-1),n("option",{value:"Finished Goods"},"Finished Goods",-1),n("option",{value:"Spare Parts"},"Spare Parts",-1)])],512),[[St,F.value.category]])]),n("div",null,[Y[123]||(Y[123]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Halal Status",-1)),we(n("select",{"onUpdate:modelValue":Y[32]||(Y[32]=G=>F.value.halalStatus=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[122]||(Y[122]=[n("option",{value:""},"-- Tidak diubah --",-1),n("option",{value:"Halal"},"Halal",-1),n("option",{value:"Non Halal"},"Non Halal",-1)])],512),[[St,F.value.halalStatus]])])]),n("div",mH,[n("div",null,[Y[125]||(Y[125]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),we(n("select",{"onUpdate:modelValue":Y[33]||(Y[33]=G=>F.value.status=G),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...Y[124]||(Y[124]=[n("option",{value:""},"-- Tidak diubah --",-1),n("option",{value:"Active"},"Active",-1),n("option",{value:"Inactive"},"Inactive",-1)])],512),[[St,F.value.status]])]),n("div",null,[Y[126]||(Y[126]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sub Kategori",-1)),we(n("input",{"onUpdate:modelValue":Y[34]||(Y[34]=G=>F.value.subCategory=G),type:"text",placeholder:"Tidak diubah jika kosong",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,F.value.subCategory]])])]),n("div",bH,[n("label",yH,[we(n("input",{"onUpdate:modelValue":Y[35]||(Y[35]=G=>F.value.qcRequired=G),type:"checkbox",".indeterminate":F.value.qcRequired===null,onClick:Y[36]||(Y[36]=G=>Qt("qcRequired")),class:"text-blue-600 focus:ring-blue-500 rounded"},null,40,vH),[[Yn,F.value.qcRequired]]),n("span",wH,"QC Required "+A(jt("qcRequired")),1)]),n("label",EH,[we(n("input",{"onUpdate:modelValue":Y[37]||(Y[37]=G=>F.value.expiry=G),type:"checkbox",".indeterminate":F.value.expiry===null,onClick:Y[38]||(Y[38]=G=>Qt("expiry")),class:"text-blue-600 focus:ring-blue-500 rounded"},null,40,CH),[[Yn,F.value.expiry]]),n("span",AH,"Expiry Date Required "+A(jt("expiry")),1)])])]),n("div",kH,[Y[128]||(Y[128]=n("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Item yang akan diubah:",-1)),n("div",BH,[n("ul",_H,[(T(!0),R(Ye,null,at(_.value,G=>(T(),R("li",{key:G,class:"flex items-center gap-2"},[Y[127]||(Y[127]=n("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),Oe(" "+A(Ht(G)),1)]))),128))])])]),n("div",DH,[n("button",{onClick:ht,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),n("button",{onClick:Ft,class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors"}," Update "+A(_.value.length)+" Items ",1)])])])):se("",!0),g.value?(T(),R("div",SH,[n("div",FH,[n("div",TH,[n("h3",MH," Material di Bin: "+A(h.value?.bin_code||"Memuat..."),1),n("button",{onClick:z,class:"text-gray-400 hover:text-gray-600"},[...Y[130]||(Y[130]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),h.value?h.value.details.length===0?(T(),R("div",PH," Bin ini tidak memiliki stok material aktif. ")):(T(),R("div",RH,[n("table",OH,[Y[131]||(Y[131]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Tersedia"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Exp Date"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),n("tbody",NH,[(T(!0),R(Ye,null,at(h.value.details,G=>(T(),R("tr",{key:G.id},[n("td",$H,A(G.material_code),1),n("td",LH,A(G.material_name),1),n("td",jH,A(G.batch_lot),1),n("td",UH,A(G.qty_available),1),n("td",HH,A(G.uom),1),n("td",zH,A(G.exp_date),1),n("td",VH,[n("span",qH,A(G.status),1)])]))),128))])])])):(T(),R("div",IH,"Memuat data material...")),n("div",{class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},[n("button",{onClick:z,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):se("",!0)])])]),_:1}))}}),QH=Xi(WH,[["__scopeId","data-v-54d06d6c"]]),GH=Object.freeze(Object.defineProperty({__proto__:null,default:QH},Symbol.toStringTag,{value:"Module"})),KH={class:"space-y-6"},YH={class:"flex justify-between items-center"},XH={class:"bg-white p-4 rounded-lg shadow"},JH={class:"grid grid-cols-1 md:grid-cols-4 gap-3"},ZH={class:"md:col-span-2"},ez={class:"grid grid-cols-2 gap-2"},tz={class:"bg-white rounded-lg shadow overflow-hidden"},sz={class:"overflow-x-auto"},nz={class:"min-w-full divide-y divide-gray-200"},rz={class:"bg-white divide-y divide-gray-200"},oz={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},iz={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},az={class:"font-mono text-xs"},lz={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dz={class:"px-6 py-4 text-sm text-gray-900"},cz={key:0,class:"max-w-xs"},uz={class:"font-mono text-xs text-gray-600 mb-1"},xz=["title"],fz={key:0,class:"text-xs text-gray-500 mt-1 inline-block"},hz={key:1,class:"text-gray-400"},gz={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pz={key:0},mz={class:"font-semibold"},bz={class:"text-xs text-gray-600 ml-1"},yz={key:1,class:"text-gray-400"},vz={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},wz={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ez={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Cz={class:"font-mono text-xs"},Az={class:"px-6 py-4 whitespace-nowrap"},kz={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Bz={class:"flex space-x-2"},_z=["onClick"],Dz=["onClick"],Sz=["onClick"],Fz=["onClick"],Tz={class:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},Mz={class:"flex-1 flex items-center justify-between"},Iz={class:"text-sm text-gray-700"},Pz={class:"font-medium"},Rz={class:"font-medium"},Oz={class:"font-medium"},Nz={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},$z={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Lz={class:"p-6"},jz={class:"flex justify-between items-center mb-6"},Uz={class:"text-lg font-semibold text-gray-900"},Hz={class:"bg-gray-50 rounded-lg p-4 mb-6"},zz={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},Vz={class:"ml-2 text-gray-900"},qz={class:"ml-2 text-gray-900"},Wz={class:"ml-2 text-gray-900"},Qz={class:"ml-2 text-gray-900"},Gz={class:"ml-2 text-gray-900"},Kz={class:"ml-2 text-gray-900"},Yz={class:"ml-2 text-gray-900"},Xz={class:"border-t border-gray-200 pt-6"},Jz={class:"overflow-x-auto border border-gray-200 rounded-lg"},Zz={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},eV={class:"divide-y divide-gray-200 bg-white"},tV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},sV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},nV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},rV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},oV={class:"font-semibold mb-1"},iV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},aV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},lV={class:"px-3 py-2 whitespace-nowrap"},dV={class:"flex gap-1"},cV={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},uV={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},xV={class:"px-3 py-2 whitespace-nowrap"},fV={class:"flex gap-1"},hV={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},gV={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},pV={class:"px-3 py-2 whitespace-nowrap"},mV={class:"flex gap-1"},bV={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},yV={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},vV={class:"px-3 py-2 whitespace-nowrap"},wV={class:"flex gap-1"},EV={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},CV={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},AV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},kV={class:"px-3 py-2 whitespace-nowrap"},BV={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},_V={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},DV={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},SV={class:"p-6"},FV={class:"flex justify-between items-center mb-6"},TV={class:"text-lg font-semibold text-gray-900"},MV={class:"bg-gray-50 rounded-lg p-4 mb-6"},IV={class:"grid grid-cols-2 gap-4 text-sm"},PV={class:"ml-2 text-gray-900"},RV={class:"ml-2 text-gray-900"},OV={class:"ml-2 text-gray-900"},NV={class:"ml-2 text-gray-900"},$V={class:"space-y-4"},LV={key:0,class:"space-y-4"},jV={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},UV={class:"font-medium text-gray-900 mb-2"},HV={class:"text-sm text-gray-600 space-y-1"},zV={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},VV={class:"flex space-x-2 mt-3"},qV=["onClick"],WV={class:"flex flex-col items-center justify-center"},QV={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},GV=["data-qr-canvas"],KV={key:1,class:"text-center py-8 text-gray-500"},YV={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},XV={class:"bg-white rounded-lg max-w-md w-full mx-4"},JV={class:"p-6"},ZV={class:"mb-6"},eq={class:"space-y-3"},tq=["onClick"],sq={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},nq={key:4,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},rq={class:"bg-white rounded-lg max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto"},oq={class:"p-6"},iq={key:0,class:"space-y-4 mb-6"},aq={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},lq={class:"grid grid-cols-2 gap-3 text-sm"},dq={class:"bg-white rounded p-3 border border-green-200"},cq={class:"text-green-700 text-2xl font-bold"},uq={class:"bg-white rounded p-3 border border-orange-200"},xq={class:"text-orange-700 text-2xl font-bold"},fq={class:"bg-white rounded p-3 border border-red-200"},hq={class:"text-red-700 text-2xl font-bold"},gq={key:0,class:"bg-white rounded p-3 border border-yellow-200"},pq={class:"text-yellow-700 text-2xl font-bold"},mq={class:"bg-purple-50 border border-purple-200 rounded-lg p-4"},bq={class:"flex items-center justify-between mb-2"},yq={class:"text-2xl font-bold text-purple-700"},vq={class:"flex items-center justify-between text-xs text-purple-700"},wq={class:"font-semibold"},Eq={key:0,class:"bg-yellow-50 border border-yellow-300 rounded-lg p-3"},Cq={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},Aq=["disabled"],kq={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bq={key:1,class:"animate-spin h-5 w-5 mr-2 text-white",fill:"none",viewBox:"0 0 24 24"},_q={key:5,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[10000]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Dq={class:"bg-white rounded-lg p-8 max-w-md mx-4 w-full"},Sq={class:"mb-4"},Fq={class:"flex justify-between text-sm text-gray-600 mb-2"},Tq={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},Mq={class:"text-center text-sm text-gray-700"},Iq={class:"font-medium"},Pq={key:6,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Rq={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Oq={class:"p-6"},Nq={class:"border p-4 mb-6 rounded-lg bg-indigo-50 border-indigo-200"},$q={class:"flex flex-col sm:flex-row gap-4 items-end"},Lq={class:"flex-grow"},jq=["disabled"],Uq={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Hq={key:0,class:"text-sm text-green-600 mt-2 font-medium"},zq={key:0,class:"mb-6 bg-blue-50 rounded-lg p-4 border-2 border-blue-300"},Vq={class:"text-md font-bold text-blue-900 mb-3 flex items-center"},qq={class:"text-sm text-blue-700 mb-4"},Wq={class:"flex items-center justify-between mb-4"},Qq=["disabled"],Gq={class:"flex gap-2"},Kq=["onClick","title"],Yq=["disabled"],Xq={class:"bg-white rounded-lg p-3 border border-blue-300 shadow-sm"},Jq={class:"text-sm font-semibold text-gray-800"},Zq={class:"text-blue-700 font-mono text-base"},eW={class:"text-xs text-gray-600 mt-1"},tW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},sW={class:"block text-sm font-medium text-gray-700 mb-1"},nW={key:0},rW=["readonly"],oW={class:"block text-sm font-medium text-gray-700 mb-1"},iW={key:0,class:"ml-2 text-xs text-yellow-600"},aW={class:"relative"},lW={class:"block text-sm font-medium text-gray-700 mb-1"},dW={key:0,class:"ml-2 text-xs text-yellow-600"},cW={class:"relative"},uW={key:1,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},xW=["onClick"],fW={key:0,class:"text-xs text-gray-500 mt-1"},hW={class:"block text-sm font-medium text-gray-700 mb-1"},gW={key:0},pW={class:"block text-sm font-medium text-gray-700 mb-1"},mW={key:0},bW={class:"border-t border-gray-200 pt-6"},yW={key:0,class:"mb-3 inline-block bg-blue-100 px-4 py-2 rounded-full border border-blue-300"},vW={class:"text-sm font-semibold text-blue-800"},wW={class:"font-mono"},EW={class:"overflow-x-auto border border-gray-200 rounded-lg"},CW={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},AW={class:"divide-y divide-gray-200 bg-white"},kW={class:"px-3 py-2 whitespace-nowrap"},BW={class:"flex gap-1"},_W=["onClick"],DW=["onClick"],SW={class:"px-3 py-2 whitespace-nowrap"},FW=["onUpdate:modelValue"],TW=["value"],MW={class:"px-3 py-2 whitespace-nowrap"},IW={class:"relative"},PW=["onUpdate:modelValue","onInput","onFocus","onBlur"],RW={key:0,class:"absolute z-20 w-80 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",style:{"z-index":"99999"}},OW=["onMousedown"],NW={key:1,class:"text-xs text-gray-500 mt-1"},$W={class:"px-3 py-2 whitespace-nowrap"},LW=["onUpdate:modelValue"],jW={class:"px-3 py-2 whitespace-nowrap"},UW=["onUpdate:modelValue"],HW={class:"px-3 py-2 whitespace-nowrap"},zW=["onUpdate:modelValue"],VW={class:"px-3 py-2 whitespace-nowrap"},qW=["onUpdate:modelValue"],WW={class:"px-3 py-2 whitespace-nowrap"},QW=["onUpdate:modelValue"],GW={class:"px-3 py-2 whitespace-nowrap"},KW={class:"flex gap-1"},YW=["onClick"],XW=["onClick"],JW={class:"px-3 py-2 whitespace-nowrap"},ZW={class:"flex gap-1"},eQ=["onClick"],tQ=["onClick"],sQ={class:"px-3 py-2 whitespace-nowrap"},nQ={class:"flex gap-1"},rQ=["onClick"],oQ=["onClick"],iQ={class:"px-3 py-2 whitespace-nowrap"},aQ={class:"flex gap-1"},lQ=["onClick"],dQ=["onClick"],cQ={class:"px-3 py-2 whitespace-nowrap"},uQ=["onUpdate:modelValue"],xQ={class:"px-3 py-2 whitespace-nowrap"},fQ={class:"text-sm text-gray-600"},hQ={class:"px-3 py-2 whitespace-nowrap"},gQ=["onClick"],pQ={key:1,class:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},mQ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},bQ={class:"font-bold text-gray-900 truncate"},yQ={class:"text-md font-extrabold text-blue-600 mt-1"},vQ={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},wQ={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},EQ=["disabled"],CQ={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},AQ={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},kQ={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},BQ={class:"p-6"},_Q={class:"flex justify-between items-center mb-6"},DQ={class:"text-lg font-semibold text-gray-900"},SQ={class:"bg-gray-50 rounded-lg p-4 mb-6"},FQ={class:"grid grid-cols-2 gap-4 text-sm"},TQ={class:"ml-2 text-gray-900"},MQ={class:"ml-2 text-gray-900"},IQ={class:"ml-2 text-gray-900"},PQ={class:"ml-2 text-gray-900"},RQ={class:"space-y-4"},OQ={key:0,class:"space-y-4"},NQ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$Q={class:"font-medium text-gray-900 mb-2"},LQ={class:"text-sm text-gray-600 space-y-1"},jQ={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},UQ={class:"flex space-x-2 mt-3"},HQ=["onClick"],zQ=["onClick"],VQ={class:"flex flex-col items-center justify-center"},qQ={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},WQ=["data-qr-canvas"],QQ={key:1,class:"text-center py-8 text-gray-500"},GQ={key:7,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},KQ={class:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6 border-l-4 border-yellow-500"},YQ={class:"text-gray-600 mb-4"},XQ={class:"space-y-3 max-h-60 overflow-y-auto mb-6 pr-2"},JQ={class:"font-mono font-bold text-gray-800"},ZQ=["onClick"],eG={class:"flex justify-end"},tG={key:8,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},sG={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},nG={class:"p-6"},rG={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},oG={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},iG=["disabled"],aG={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},lG={key:9,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},dG={class:"bg-white rounded-lg shadow-2xl max-w-md w-full p-6 border-t-4 border-blue-600"},cG={class:"mb-6"},uG={class:"text-gray-700 mb-3"},xG={class:"text-blue-700 text-lg"},fG={class:"bg-blue-50 rounded-lg p-4 border border-blue-200"},hG={class:"text-sm space-y-2"},gG={class:"flex justify-between"},pG={class:"font-mono font-bold text-blue-700"},mG={class:"flex justify-between"},bG={class:"font-semibold"},yG={class:"flex justify-between"},vG={class:"font-semibold"},wG={class:"flex justify-end space-x-3"},EG="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png",CG=rr({__name:"PenerimaanBarang",props:{shipments:Object,purchaseOrders:Array,suppliers:Array,materials:Array,filters:Object},setup(e){const t=e,s=de(""),r=de([]),i=de(t.filters?.search||""),a=de(t.filters?.date_start||""),d=de(t.filters?.date_end||""),u=de(t.filters?.limit||"10");function g(Ee,V){let Z;return function(...Ne){const Ke=this;clearTimeout(Z),Z=setTimeout(()=>Ee.apply(Ke,Ne),V)}}const h=g(()=>{Bt.get("/transaction/goods-receipt",{search:i.value,date_start:a.value,date_end:d.value,limit:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);Hs([i,a,d,u],()=>{h()});const m=de(!1),b=de(!1),v=de(!1),C=de(!1),_=de(!1),F=de([]),S=de(null),D=de(!1),O=de(null),P=de(!1),B=de(null),U=de(!1),z=de(!1),j=de(0),H=de(""),I=de([]),$=de({noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",subCategory:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]}),J=de(!1),K=de(!1),ie=de([]),fe=de(!1),q=de(!1),le=de({code:"",name:"",uom:"",category:"",subCategory:"",halalStatus:"",qcRequired:!1,status:"Active"}),he=de(!1),ve=de(0),Ie=de([]),Ue=de(!1),be=de([]),qe=Ze(()=>he.value&&Ie.value.length>0?Ie.value[ve.value]:null),ot=Ze(()=>{if(!he.value)return!0;if(!($.value.noPo&&$.value.noSuratJalan&&$.value.supplier&&$.value.noKendaraan&&$.value.namaDriver&&$.value.kategori&&$.value.subCategory))return!1;Ie.value.length>0&&ve.value>=0&&(Ie.value[ve.value].items=JSON.parse(JSON.stringify($.value.items)));for(const V of Ie.value)if(!V.items||V.items.length===0||!V.items.every(Ne=>Ne.kodeItem&&Ne.batchLot&&Ne.expDate&&Ne.qtyWadah&&Ne.qtyUnit&&Ne.binTarget))return!1;return!0}),Ge=Ze(()=>he.value?ot.value:$.value.noPo&&$.value.noSuratJalan&&$.value.supplier&&$.value.noKendaraan&&$.value.namaDriver&&$.value.kategori&&$.value.subCategory&&$.value.items.length>0?$.value.items.every(Z=>Z.kodeItem&&Z.batchLot&&Z.expDate&&Z.qtyWadah&&Z.qtyUnit):!1),dt=Ze(()=>{const Ee={};return $.value.items.forEach(V=>{const Z=V.kodeItem,Ne=parseInt(V.qtyWadah)||0,Ke=parseInt(V.qtyUnit)||0;if(Z){const lt=t.materials.find(wt=>wt.id===Z),mt=Ne*Ke;Ee[Z]?Ee[Z].totalQty+=mt:Ee[Z]={totalQty:mt,materialName:V.namaMaterial||V.kodeItemDisplay,satuan:lt?lt.unit:"Pcs"}}}),Object.values(Ee)}),ze=Ee=>{O.value=Ee,C.value=!0},xt=()=>{C.value=!1,O.value=null},ft=()=>{b.value=!1,ae()},yt=()=>{v.value=!1,O.value=null},vt=Ee=>{switch(Ee){case"supplier":s.value="",$.value.supplierName="",$.value.supplier=null;break;case"no_po":$.value.noPo="";break;case"no_surat_jalan":$.value.noSuratJalan="";break;case"truck":$.value.noKendaraan="";break;case"driver":$.value.namaDriver="";break}be.value=be.value.filter(V=>V!==Ee)},it=Ee=>{$.value.erpPdfFile=Ee.target.files?Ee.target.files[0]:null,$.value.isErpDataLoaded=!1},Et=async()=>{if(!$.value.erpPdfFile){alert("Mohon pilih file PDF ERP terlebih dahulu.");return}J.value=!0,$.value.isErpDataLoaded=!1;const Ee=new FormData;Ee.append("erp_pdf",$.value.erpPdfFile);try{const Z=(await Rt.post("/transaction/goods-receipt/parse-erp-pdf",Ee,{headers:{"Content-Type":"multipart/form-data"}})).data;if(Z.has_multiple_item_codes){he.value=!0,ve.value=0,Ie.value=Z.items_grouped_by_code.map(lt=>{const mt=lt.items.map(wt=>{const is=t.materials.find(Yt=>Yt.code==wt.kode_material);return{kodeItem:is?is.id:"",kodeItemDisplay:wt.kode_material,namaMaterial:is?is.name:wt.description,batchLot:wt.serial_number||"",expDate:"",qtyWadah:"1",qtyUnit:wt.quantity,pabrikPembuat:Z.supplier_name||"",skuSearch:wt.kode_material,filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:"Karantina",binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1}});return{code:lt.code,items:mt}}),$.value.incomingNumber=Z.incoming_number||"",$.value.noSuratJalan=Z.no_surat_jalan&&Z.no_surat_jalan!=="N/A"?Z.no_surat_jalan:"N/A",$.value.noPo=Z.no_po||"",$.value.noKendaraan=Z.truck_number||"",$.value.namaDriver=Z.driver_name||"",Z.tanggal_terima&&($.value.tanggalTerima=Z.tanggal_terima);const Ne=t.suppliers.find(lt=>lt.nama_supplier.toLowerCase().includes(Z.supplier_name.toLowerCase())||lt.kode_supplier.toLowerCase()===Z.supplier_code.toLowerCase());Ne&&($.value.supplier=Ne.id,$.value.supplierName=Ne.nama_supplier,s.value=Ne.nama_supplier),$.value.items=Ie.value[0].items;const Ke=$.value.items[0];if(Ke&&Ke.kodeItem){const lt=t.materials.find(mt=>mt.id===Ke.kodeItem);lt&&($.value.kategori=lt.kategori||"",$.value.subCategory=lt.subCategory||"")}$.value.isErpDataLoaded=!0,alert(`Terdeteksi ${Ie.value.length} kode item berbeda. Gunakan wizard untuk melihat dan edit detail setiap kode item.`)}else{he.value=!1,Ie.value=[],$.value.items=[],$.value.incomingNumber=Z.incoming_number||"",$.value.noSuratJalan=Z.no_surat_jalan&&Z.no_surat_jalan!=="N/A"?Z.no_surat_jalan:"N/A",$.value.noPo=Z.no_po||"",$.value.noKendaraan=Z.truck_number||"",$.value.namaDriver=Z.driver_name||"",Z.tanggal_terima&&($.value.tanggalTerima=Z.tanggal_terima);const Ne=t.suppliers.find(Ke=>Ke.nama_supplier.toLowerCase().includes(Z.supplier_name.toLowerCase())||Ke.kode_supplier.toLowerCase()===Z.supplier_code.toLowerCase());if(Ne?($.value.supplier=Ne.id,$.value.supplierName=Ne.nama_supplier,s.value=Ne.nama_supplier):($.value.supplier="",$.value.supplierName=Z.supplier_name?`*${Z.supplier_name}`:"",s.value=Z.supplier_name||""),Z.items.forEach(Ke=>{const lt=t.materials.find(wt=>wt.code==Ke.kode_material);let mt="Karantina";lt&&lt.qcRequired===!1&&(mt="Karantina"),$.value.items.length===0&&lt&&($.value.kategori=lt.kategori||"",$.value.subCategory=lt.subCategory||""),$.value.items.push({kodeItem:lt?lt.id:"",kodeItemDisplay:Ke.kode_material,namaMaterial:lt?lt.name:Ke.description,batchLot:Ke.serial_number||"",expDate:"",qtyWadah:"1",qtyUnit:Ke.quantity,pabrikPembuat:$.value.supplierName||"",skuSearch:Ke.kode_material,filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:mt,binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})}),!$.value.kategori&&$.value.items.length>0){const Ke=$.value.items.find(lt=>lt.kodeItem);if(Ke){const lt=t.materials.find(mt=>mt.id===Ke.kodeItem);lt&&($.value.kategori=lt.kategori||"",$.value.subCategory=lt.subCategory||"")}}$.value.isErpDataLoaded=!0}if(he.value){const Ne=[];Ie.value.forEach(lt=>{const mt=lt.items.filter(wt=>!wt.kodeItem&&wt.skuSearch).map(wt=>wt.skuSearch);Ne.push(...mt)});const Ke=[...new Set(Ne)];Ke.length>0?(ie.value=Ke,K.value=!0):alert(`Berhasil memuat ${Ie.value.length} grup kode item dari PDF.`)}else{const Ne=$.value.items.filter(lt=>!lt.kodeItem&&lt.skuSearch).map(lt=>lt.skuSearch),Ke=[...new Set(Ne)];Ke.length>0?(ie.value=Ke,K.value=!0):alert(`Berhasil memuat ${Z.items.length} item dari PDF.`)}be.value=Z.auto_filled_fields||[]}catch(V){console.error("Error processing ERP PDF:",V),V.response&&V.response.data&&V.response.data.error?alert(V.response.data.error):alert("Gagal memproses file. Pastikan format PDF sesuai.")}finally{J.value=!1}},ne=()=>{ve.value<Ie.value.length-1&&(Ie.value[ve.value].items=JSON.parse(JSON.stringify($.value.items)),ve.value++,$.value.items=JSON.parse(JSON.stringify(Ie.value[ve.value].items)))},ge=()=>{ve.value>0&&(Ie.value[ve.value].items=JSON.parse(JSON.stringify($.value.items)),ve.value--,$.value.items=JSON.parse(JSON.stringify(Ie.value[ve.value].items)))},Te=Ee=>{Ee>=0&&Ee<Ie.value.length&&Ee!==ve.value&&(Ie.value[ve.value].items=JSON.parse(JSON.stringify($.value.items)),ve.value=Ee,$.value.items=JSON.parse(JSON.stringify(Ie.value[Ee].items)))},He=()=>{he.value?(Ie.value[ve.value].items=JSON.parse(JSON.stringify($.value.items)),Ue.value=!0):ee()},xe=async()=>{Ue.value=!1;const Ee=Ie.value.map(V=>({noPo:$.value.noPo,noSuratJalan:$.value.noSuratJalan,supplier:$.value.supplier,noKendaraan:$.value.noKendaraan,namaDriver:$.value.namaDriver,tanggalTerima:$.value.tanggalTerima,kategori:$.value.kategori,subCategory:$.value.subCategory,incomingNumber:$.value.incomingNumber,items:V.items}));m.value=!0;try{const V=await Rt.post("/transaction/goods-receipt/store-multiple",{shipments:Ee});V.data.success&&(alert(V.data.message||`Berhasil membuat ${V.data.created_count} penerimaan!`),ft(),Bt.reload())}catch(V){console.error(V),alert("Gagal menyimpan: "+(V.response?.data?.error||V.message))}finally{m.value=!1}},ee=()=>{m.value=!0,Bt.post("/transaction/goods-receipt",{...$.value},{onSuccess:()=>{m.value=!1,ft(),Bt.reload()},onError:Ee=>{m.value=!1,console.error(Ee),alert("Gagal menyimpan: "+JSON.stringify(Ee))}})},N=Ee=>{le.value={code:Ee,name:"",uom:"",category:"",subCategory:"",halalStatus:"",qcRequired:!1,status:"Active"},fe.value=!0},E=()=>{fe.value=!1},M=async()=>{if(!le.value.name||!le.value.uom||!le.value.category){alert("Mohon lengkapi Nama, UoM, dan Kategori.");return}q.value=!0;try{const Ee=await Rt.post("/master-data/sku",le.value);Ee.data.success&&(alert("Material berhasil ditambahkan!"),Bt.reload({only:["materials"],onSuccess:()=>{const V=le.value.code;ie.value=ie.value.filter(Ne=>Ne!==V);const Z=Ee.data.data;$.value.items.forEach(Ne=>{Ne.skuSearch===V&&(Ne.kodeItem=Z.id,Ne.namaMaterial=Z.nama_material,Ne.kodeItemDisplay=Z.kode_item)}),E(),ie.value.length===0&&(K.value=!1,alert("Semua material yang hilang telah ditambahkan."))}}))}catch(Ee){console.error("Error saving material:",Ee),alert("Gagal menyimpan material: "+(Ee.response?.data?.message||Ee.message))}finally{q.value=!1}},ae=()=>{$.value={noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",subCategory:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]},s.value=""},Fe=()=>{const Ee=$.value.items;if(Ee.length>0){const V=Ee[Ee.length-1],Z=JSON.parse(JSON.stringify(V));Z.qtyWadah="",Z.qtyUnit="",$.value.items.push(Z)}else $.value.items.push({kodeItem:"",kodeItemDisplay:"",namaMaterial:"",batchLot:"",expDate:"",qtyWadah:"",qtyUnit:"",pabrikPembuat:$.value.supplierName||"",skuSearch:"",filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:"Karantina",binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})},Qe=[{code:"QRT-HALAL",name:"Karantina Halal"},{code:"QRT-NON HALAL",name:"Karantina Non Halal"},{code:"QRT-HALAL-AC",name:"Karantina hALAL AC"}],Je=Ee=>{$.value.items.splice(Ee,1)},nt=(Ee,V)=>{V==="isHalal"||V==="isNonHalal"?(Ee.isHalal=!1,Ee.isNonHalal=!1):V==="kondisiBaik"||V==="kondisiTidakBaik"?(Ee.kondisiBaik=!1,Ee.kondisiTidakBaik=!1):V==="coaAda"||V==="coaTidakAda"?(Ee.coaAda=!1,Ee.coaTidakAda=!1):V==="labelMfgAda"||V==="labelMfgTidakAda"?(Ee.labelMfgAda=!1,Ee.labelMfgTidakAda=!1):(V==="labelCoaSesuai"||V==="labelCoaTidakSesuai")&&(Ee.labelCoaSesuai=!1,Ee.labelCoaTidakSesuai=!1),Ee[V]=!0},bt=()=>{if(s.value.length<2){r.value=[];return}const Ee=s.value.toLowerCase();r.value=t.suppliers.filter(V=>{if(!V)return!1;const Z=V.nama_supplier||"",Ne=V.code||"";return Z.toLowerCase().includes(Ee)||Ne.toLowerCase().includes(Ee)}).slice(0,10)},Ct=Ee=>{$.value.supplier=Ee.id,$.value.supplierName=Ee.nama_supplier,s.value=Ee.nama_supplier,r.value=[]},ht=Ee=>{const V=$.value.items[Ee],Z=V.skuSearch.toLowerCase();if(Z.length<2){V.filteredMaterials=[];return}V.filteredMaterials=t.materials.filter(Ne=>Ne.code.toLowerCase().includes(Z)||Ne.name.toLowerCase().includes(Z)).slice(0,10)},Qt=(Ee,V)=>{const Z=$.value.items[Ee];Z.kodeItem=V.id,Z.kodeItemDisplay=V.code,Z.namaMaterial=V.name,Z.pabrikPembuat=V.mfg,Z.statusQC=V.qcRequired?"To QC":"Direct Putaway",Z.skuSearch=V.code,Z.filteredMaterials=[],Z.showSuggestions=!1,V.halalStatus==="Halal"?(Z.isHalal=!0,Z.isNonHalal=!1):V.halalStatus==="Non Halal"&&(Z.isHalal=!1,Z.isNonHalal=!0),V.kategori&&($.value.kategori=V.kategori),V.subCategory&&($.value.subCategory=V.subCategory)},jt=Ee=>new Date(Ee).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Ht=Ee=>Ee?new Date(Ee.split("T")[0]).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",Ft=Ee=>{if(!Ee&&Ee!==0)return"-";const V=parseInt(Ee);return isNaN(V)?"-":V.toLocaleString("id-ID")},De=Ee=>{if(!Ee)return 0;const V=parseFloat(Ee.qtyWadah)||0,Z=parseFloat(Ee.qtyUnit)||0;return V*Z},Y=Ee=>Ee==null||Ee===""?"":Math.round(parseFloat(Ee)),G=async Ee=>{try{return await Qo.toDataURL(Ee,{width:150,margin:1,errorCorrectionLevel:"M"})}catch(V){return console.error("Gagal generate QR Data URL:",V),""}},Ce=(Ee,V,Z,Ne,Ke)=>{const lt=Ee==="REJECTED"?"R E J E C T":Ee==="RELEASED"?"R E L E A S E D":"K A R A N T I N A",mt="#171917",wt="#000000",is=V.noLot||V.batchLot||"N/A",Yt=Ht(V.expDate||"N/A"),Fs=Ht(V.tanggalTerima||"N/A"),Xe=`[${V.kodeItem||"N/A"}] ${V.namaMaterial||"N/A"}`,vn=Xs().props.auth?.user?.name||"Logistik",ns=V.qtyUnitPerWadah||V.qtyUnit||0,Hn=`${Y(ns)} ${V.uom||"PCS"}`,Nr=V.qtyWadah||1,Zt=Nr>0?`${parseInt(ns)} x ${parseInt(Nr)} box`:"",It=Z?`<img src="${Z}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">NO QR</div>';return`
    <div class="label-wrapper">
      <div class="label-container" style="border-color: ${mt};">
        <div class="header" style="border-bottom-color: ${mt};">
          <img src="${EG}" alt="Logo Gondowangi" class="logo-img">
          <div class="status-box" style="color: ${wt}; border-top-color: ${mt};">${lt}</div>
        </div>
        
        <div class="content">
          <div class="info-section">
            <div class="info-row">
              <div class="info-label">Nama Barang</div>
              <div class="info-value" style="font-size: 11px;">: ${Xe}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Kode Barang</div>
              <div class="info-value">: ${V.kodeItem||"N/A"}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Serial Lot</div>
              <div class="info-value">: ${is}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Supplier</div>
              <div class="info-value">: ${V.supplier||"N/A"}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Jmlh Barang</div>
              <div class="info-value">: ${Hn}</div>
            </div>
            ${Zt?`<div class="info-row">
              <div class="info-label">Detail Wadah</div>
              <div class="info-value multi-line">: ${Zt}</div>
            </div>`:""}
            <div class="info-row">
              <div class="info-label">Wadah Ke</div>
              <div class="info-value">: ${parseInt(Ne)} / ${parseInt(Nr)}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Tgl Datang</div>
              <div class="info-value">: ${Fs}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Exp. Date</div>
              <div class="info-value">: ${Yt}</div>
            </div>
            <div class="info-row">
              <div class="info-label">Dibuat Oleh</div>
              <div class="info-value">: ${vn}</div>
            </div>
          </div>
          
          <div class="qr-section">
            ${It}
          </div>
        </div>
        
        <div class="footer" style="border-top-color: ${mt};">
          <span class="footer-left">Logistik</span>
          <span class="footer-right">QL1001-01 Rev. 02</span>
        </div>
      </div>
    </div>
  `},pt=async(Ee,V)=>{const Z=parseInt(Ee.qtyWadah)||1,Ne=6;let Ke="";if(Z<=0)throw new Error("Jumlah wadah tidak valid untuk dicetak. Qty Wadah harus lebih dari 0.");console.log(`Generating ${Z} label(s) based on Qty Wadah...`);for(let mt=0;mt<Z;mt+=Ne){let wt="";const is=Math.min(Ne,Z-mt);for(let Yt=0;Yt<is;Yt++){const Fs=mt+Yt+1,Xe=Ee.qrCode||`${Ee.batchLot}|${Ee.kodeItem}|${V}|${Ee.qtyUnitPerWadah||Ee.qtyUnit}|${Ee.expDate}|${Fs}/${Z}`,vn=await G(Xe),ns=Ce(V,Ee,vn,Fs);wt+=ns}Ke+=`
      <div class="print-page" style="${mt>0?"page-break-before: always;":""}">
        ${wt}
      </div>
    `,mt+Ne<Z&&await new Promise(Yt=>setTimeout(Yt,10))}console.log("Label generation complete!");const lt=V==="REJECTED"?"red":V==="RELEASED"?"green":"#FFA500";return`
    <html>
    <head>
      <title>Cetak Label QR - ${Ee.kodeItem} (${Z} Wadah)</title>
      <style>
        @page { size: A4; margin: 0.5cm; }
        body { font-family: 'Arial', sans-serif; margin: 0; padding: 0; background: white; font-size: 10px; }
        .print-page { width: 20cm; height: 28.7cm; margin: 0.5cm auto; box-sizing: border-box; display: flex; flex-wrap: wrap; align-content: flex-start; justify-content: space-between; }
        .label-wrapper { width: 9.9cm; height: calc(33.33% - 0.4cm); padding: 0; box-sizing: border-box; margin-bottom: 0.4cm; margin-right: 0.1cm; margin-left: 0.1cm; }
        .label-container { width: 100%; height: 100%; border: 2px solid ${lt}; padding: 5px; box-sizing: border-box; background-color: #fff; display: flex; flex-direction: column; font-size: 10px; }
        .header { display: flex; flex-direction: column; align-items: center; border-bottom: 2px solid ${lt}; padding-bottom: 5px; margin-bottom: 5px; }
        .logo-img { width: 130px; height: auto; margin-bottom: 5px; }
        .status-box { margin-top: 5px; border-top: 0.8px solid #000; padding: 2px 5px; font-weight: bold; font-size: 14px; width: 100%; text-align: center; }
        .content { display: flex; flex-grow: 1; padding-top: 5px; gap: 10px; }
        .info-section { flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .info-row { display: flex; margin-bottom: 2px; align-items: baseline; }
        .info-label { width: 80px; min-width: 80px; font-weight: normal; flex-shrink: 0; }
        .info-value { flex: 1; font-weight: bold; overflow: hidden; text-overflow: ellipsis; }
        .info-value.multi-line { white-space: normal; }
        .qr-section { width: 80px; height: 80px; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-end; flex-shrink: 0; }
        .qr-code { width: 100%; height: 100%; border: 1px solid #ccc; }
        .qr-placeholder { width: 100%; height: 100%; border: 1px dashed #999; display: flex; align-items: center; justify-content: center; font-size: 10px; color: #999; font-weight: bold; }
        .footer { display: flex; justify-content: space-between; font-size: 10px; border-top: 2px solid ${lt}; padding-top: 25px; margin-top: 5px; }
        .footer-left { font-style: italic; }
        .footer-right { font-weight: bold; }
        @media print {
          .print-page { page-break-after: always; width: initial; height: initial; padding: 1px; margin: 0 auto; }
          .print-page:last-child { page-break-after: avoid; }
          body { -webkit-print-color-adjust: exact; print-color-adjust: exact; display: block; margin: 0; }
          .label-container { border-top: 0.8px solid #000; padding: 2px; }
          .header { border-bottom: 0.8px solid #000; padding: 2px; padding-bottom: 0px; margin-bottom: 0px; }
          .footer { border-top: 0.8px solid #000; padding-top: 30px; margin-top: 3px; }
        }
      </style>
    </head>
    <body>
      ${Ke}
    </body>
    </html>
  `},At=async Ee=>{try{D.value=!0;const V=`Generating ${Ee.qtyWadah||1} label(s)...`;console.log(V);const Z=await pt(Ee,"KARANTINA");D.value=!1;const Ne=window.open("","_blank");Ne?(Ne.document.write(Z),Ne.document.close(),Ne.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(V){D.value=!1,console.error("Error saat mencetak label KARANTINA:",V),alert(V.message||"Terjadi kesalahan saat mencetak label.")}},zt=async Ee=>{try{D.value=!0;const V=`Generating ${Ee.qtyWadah||1} label(s)...`;console.log(V);const Z=await pt(Ee,"RELEASED");D.value=!1;const Ne=window.open("","_blank");Ne?(Ne.document.write(Z),Ne.document.close(),Ne.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(V){D.value=!1,console.error("Error saat mencetak label RELEASED:",V),alert(V.message||"Terjadi kesalahan saat mencetak label.")}},me=async Ee=>{try{D.value=!0;const V=`Generating ${Ee.qtyWadah||1} label(s)...`;console.log(V);const Z=await pt(Ee,"REJECTED");D.value=!1;const Ne=window.open("","_blank");Ne?(Ne.document.write(Z),Ne.document.close(),Ne.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(V){D.value=!1,console.error("Error saat mencetak label REJECTED:",V),alert(V.message||"Terjadi kesalahan saat mencetak label.")}},te=async Ee=>{try{const V=await Rt.get(`/transaction/goods-receipt/${Ee.id}/statuses`),{available_statuses:Z,shipment_data:Ne}=V.data;if(console.log("=== DEBUG PRINT QR ==="),console.log("Data dari backend:",Ne),console.log("qtyWadah (jumlah label):",Ne.qtyWadah),console.log("qtyUnit (qty per wadah):",Ne.qtyUnit),console.log("======================"),S.value={...Ne,id:Ee.id},Z.length===0){alert("Tidak ada status tersedia untuk material ini");return}if(Z.some(lt=>lt==="RELEASED"||lt==="REJECTED")){const lt=["KARANTINA",...Z.filter(mt=>mt!=="KARANTINA")];F.value=lt,_.value=!0}else At(S.value)}catch(V){console.error("Error fetching statuses:",V),alert("Gagal mengambil data status: "+(V.response?.data?.error||V.message))}},ye=()=>{_.value=!1,F.value=[],S.value=null},ct=Ee=>{if(!S.value){alert("Data shipment tidak ditemukan");return}Ee==="KARANTINA"?At(S.value):Ee==="RELEASED"?zt(S.value):Ee==="REJECTED"&&me(S.value),ye()},$t=Ee=>({KARANTINA:"bg-yellow-100 text-yellow-800 border-2 border-yellow-300",RELEASED:"bg-green-100 text-green-800 border-2 border-green-300",REJECTED:"bg-red-100 text-red-800 border-2 border-red-300"})[Ee]||"bg-gray-100 text-gray-800 border-2 border-gray-300",Is=Ee=>{if(!Ee)return{text:"N/A",class:"text-gray-500"};const V=new Date(Ee.split("T")[0]),Z=new Date;Z.setHours(0,0,0,0);const Ne=V.getTime()-Z.getTime(),Ke=Math.ceil(Ne/(1e3*60*60*24));return Ke<0?{text:"Expired",class:"bg-red-500 text-white"}:Ke===0?{text:"Hari Ini!",class:"bg-red-400 text-white"}:Ke<=30?{text:`${Ke} hari lagi`,class:"bg-orange-400 text-white"}:Ke<=90?{text:`${Ke} hari lagi`,class:"bg-yellow-400 text-gray-900"}:{text:`${Ke} hari lagi`,class:"text-green-600"}},Ut=Ee=>new Date(Ee).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),cs=Ee=>({Draft:"bg-gray-100 text-gray-800",Karantina:"bg-yellow-100 text-yellow-800",Proses:"bg-orange-100 text-orange-800",Selesai:"bg-green-100 text-green-800"})[Ee]||"bg-gray-100 text-gray-800",Js=Ee=>{const V=window.open("","_blank"),Z=new Date(Ee.tanggalTerima);Z.getFullYear(),String(Z.getMonth()+1).padStart(2,"0"),Ee.incomingNumber||Ee.id;const Ne=(It,Vt)=>It?`<span style="font-weight: bold;">${Vt} </span>`:`<span style="text-decoration: line-through; color: #888;">${Vt}</span>`;let Ke="",lt=1,mt=0,wt=0;Ee.items.forEach((It,Vt)=>{const oo=parseInt(It.qtyWadah||"0"),Zi=parseInt(It.qtyUnit||"0");mt+=oo,wt+=oo*Zi;const io=lt,Ts=io+oo-1;lt=Ts+1;let ir="PCS";if(It.kodeItem){const Ss=t.materials.find(ar=>ar.id==It.kodeItem||ar.code==It.kodeItem);Ss&&(ir=Ss.unit)}let hi;oo===0?hi="N/A":io===Ts?hi=io:hi=`${io}-${Ts}`,Ke+=`
            <tr>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; height: 40px;">
                    ${hi}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${It.kondisiBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${It.kondisiTidakBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${It.labelMfgAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${It.labelMfgTidakAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${ir}</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${It.qtyUnit?parseInt(It.qtyUnit):""}</td>
            </tr>
        `});for(let It=Ee.items.length;It<10;It++)Ke+=`
          <tr>
            <td style="border: 1px solid #000; padding: 8px; height: 40px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
          </tr>
        `;const is=Ee.items[0]||{},Yt=Ne(is.labelMfgAda,"Ada"),Fs=Ne(is.labelMfgTidakAda,"Tidak"),Xe=Ne(is.labelCoaSesuai,"Ada"),vn=Ne(is.labelCoaTidakSesuai,"Tidak"),ns=Ne(is.coaAda,"Ada"),Hn=Ne(is.coaTidakAda,"Tidak"),Nr=Ne(is.isHalal,"Halal"),Zt=Ne(is.isNonHalal,"Non-Halal");V.document.write(`
        <html>
        <head>
            <title>Form Checklist Penerimaan Material - ${Ee.noSuratJalan}</title>
            <style>
            @page {
                size: A4;
                margin: 1cm;
            }
            
            body { 
                font-family: Arial, sans-serif; 
                margin: 0;
                padding: 0;
                font-size: 10px;
                line-height: 1.2;
            }
            
            .main-container {
                border: 2px solid #000;
                padding: 0;
                width: 100%;
                box-sizing: border-box;
            }
            
            .header { 
                text-align: center; 
                padding: 10px;
                border-bottom: 1px solid #000;
                position: relative;
                height: 80px;
                box-sizing: border-box;
            }
            
            .logo-section {
                position: absolute;
                left: 10px;
                top: 10px;
                width: 100px;
                height: 60px;
            }
            
            .logo-box {
                border: 1px solid #000;
                padding: 5px;
                height: 100%;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            
            .logo-icon {
                width: 30px;
                height: 20px;
                background: linear-gradient(45deg, #4CAF50, #2E7D32);
                margin-bottom: 3px;
                position: relative;
            }
            
            .logo-icon::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 15px;
                height: 15px;
                background: #FFF;
                clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            }
            
            .company-name {
                font-weight: bold;
                font-size: 8px;
                color: #2E7D32;
            }
            
            .form-number-section {
                position: absolute;
                right: 10px;
                top: 10px;
                width: 120px;
                text-align: center;
            }
            
            .logo-right {
                width: 100%;
                height: auto;
                max-height: 60px;
                object-fit: contain;
            }
            
            .header-title {
                margin-top: 10px;
                font-weight: bold;
                font-size: 11px;
            }
            
            .form-fields {
                border-collapse: collapse;
                width: 100%;
            }
            
            .form-fields tr {
                border-bottom: 1px solid #000;
            }
            
            .form-fields tr:last-child {
                border-bottom: none;
            }
            
            .form-fields td {
                border-right: 1px solid #000;
                padding: 6px 8px;
                vertical-align: middle;
                height: 25px;
            }
            
            .form-fields td:last-child {
                border-right: none;
            }
            
            .field-label {
                background-color: #f5f5f5;
                font-weight: bold;
                width: 120px;
            }
            
            .field-value {
                width: auto;
            }
            
            .checkbox-inline {
                display: inline-block;
                margin-right: 15px;
            }

            /* CSS agar tanda centang () terlihat tebal dan coretan terlihat tipis */
            .checkbox-inline span {
                font-size: 10px; /* Base font size */
            }
            .checkbox-inline span[style*="line-through"] {
                color: #888;
                font-weight: normal;
            }
            
            .data-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 0;
            }
            
            .data-table th,
            .data-table td {
                border: 1px solid #000;
                padding: 5px;
                text-align: center;
                vertical-align: middle;
            }
            
            .data-table th {
                background-color: #f0f0f0;
                font-weight: bold;
                font-size: 9px;
                height: 30px;
            }
            
            .main-header {
                height: 50px;
            }
            
            .sub-header {
                height: 35px;
                font-size: 8px;
                line-height: 1.1;
            }
            
            .kemasan-header {
                width: 200px;
            }
            
            .label-header {
                width: 100px;
            }
            
            .unit-header {
                width: 50px;
            }
            
            .jumlah-headers {
                width: 60px;
            }
            
            .wadah-col {
                width: 60px;
            }
            
            .kemasan-cols {
                width: 100px;
            }
            
            .label-cols {
                width: 50px;
            }
            
            .signature-section {
                border-top: 1px solid #000;
                display: flex;
                height: 120px;
            }
            
            .signature-left,
            .signature-right {
                flex: 1;
                padding: 15px;
                text-align: center;
                position: relative;
            }
            
            .signature-left {
                border-right: 1px solid #000;
            }
            
            .signature-title {
                font-weight: bold;
                margin-bottom: 50px;
            }
            
            .signature-fields {
                position: absolute;
                bottom: 15px;
                left: 15px;
                text-align: left;
                font-size: 9px;
            }
            
            .footer-note {
                padding: 10px;
                font-size: 8px;
                font-style: italic;
                border-top: 1px solid #000;
            }
            
            @media print {
                body {
                    margin: 0;
                    -webkit-print-color-adjust: exact;
                    print-color-adjust: exact;
                }
                .no-print { display: none; }
            }
            </style>
        </head>
        <body>
            <div class="main-container">
                <div class="header">
                    <div class="logo-section">
                        <div class="logo-box">
                            <div class="logo-icon"></div>
                            <div class="company-name">GONDOWANGI</div>
                        </div>
                    </div>
                    
                    <div class="form-number-section">
                        <img src="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png" alt="Logo Gondowangi" class="logo-right">
                    </div>
                    
                    <div class="header-title">E-FORM CHECKLIST PENERIMAAN MATERIAL DARI VENDOR</div>
                </div>
                
                <table class="form-fields">
                    <tr>
                        <td class="field-label">Kode Item</td>
                        <td class="field-value">${is.kodeItem||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Material</td>
                        <td class="field-value">${is.namaMaterial||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Label dari Mfg*</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${Yt}</span>
                            <span class="checkbox-inline">${Fs}</span>
                            <span style="margin-left: 100px;">Label & CoA sesuai :</span>
                            <span class="checkbox-inline">${Xe}</span>
                            <span class="checkbox-inline">${vn}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Pabrik Pembuat (mfg)*</td>
                        <td class="field-value">${is.pabrikPembuat||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Produksi di negara*</td>
                        <td class="field-value">Indonesia</td>
                    </tr>
                    <tr>
                        <td class="field-label">Supplier</td>
                        <td class="field-value">${Ee.supplier}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. PO</td>
                        <td class="field-value">${Ee.noPo}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. Surat Jalan</td>
                        <td class="field-value">${Ee.noSuratJalan}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Mfg. Batch</td>
                        <td class="field-value">${is.batchLot||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">ED</td>
                        <td class="field-value">${is.expDate?Ht(is.expDate):""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">CoA</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${ns}</span>
                            <span class="checkbox-inline">${Hn}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori Halal</td> <td class="field-value">
                            <span class="checkbox-inline">${Nr}</span>
                            <span class="checkbox-inline">${Zt}</span>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="field-label">Jumlah Wadah</td>
                        <td class="field-value">${mt}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Total Quantity</td>
                        <td class="field-value">${wt}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Tgl. Diterima</td>
                        <td class="field-value">
                            ${Ht(Ee.tanggalTerima)} &nbsp;&nbsp;&nbsp; -
                            ${Ut(Ee.tanggalTerima)} WIB &nbsp;&nbsp;&nbsp;
                            
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori</td>
                        <td class="field-value">${Ee.kategori||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Driver</td>
                        <td class="field-value">${Ee.namaDriver}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No Kendaraan</td>
                        <td class="field-value">${Ee.noKendaraan}</td>
                    </tr>
                </table>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="main-header wadah-col">Wadah Ke-</th>
                            <th colspan="4" class="main-header kemasan-header">Kemasan</th>
                            <th colspan="2" class="main-header label-header">Label</th>
                            <th colspan="4" class="main-header">Jumlah</th>
                        </tr>
                        <tr>
                            <th class="sub-header kemasan-cols">BAIK</th>
                            <th class="sub-header kemasan-cols">TIDAK BAIK</th>
                            <th class="sub-header kemasan-cols">Sobek</th>
                            <th class="sub-header kemasan-cols">Penyok yang mempengaruhi material</th>
                            <th class="sub-header label-cols">Ada</th>
                            <th class="sub-header label-cols">Tidak</th>
                            <th class="sub-header unit-header">Unit</th>
                            <th class="sub-header jumlah-headers">Bruto</th>
                            <th class="sub-header jumlah-headers">Tara</th>
                            <th class="sub-header jumlah-headers">Netto</th>
                        </tr>
                        <tr>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Bersih, utuh, tidak<br>sobek/penyok, dll
                            </th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Kotor (potensi kotor<br>sampai kedalam)
                            </th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;">Jumlah</th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        ${Ke}
                    </tbody>
                </table>
                
                <div class="signature-section">
                    <div class="signature-left">
                        <div class="signature-title">Dilaporkan oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: ${Xs().props.auth?.user?.name||"-"}</div>
                            <div>Tanggal &nbsp;&nbsp;: ${Ht(Ee.tanggalTerima)}</div>
                        </div>
                    </div>
                    <div class="signature-right">
                        <div class="signature-title">Diperiksa Oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Reza Rizky Permadi</div>
                            <div>Tanggal &nbsp;&nbsp;: ${Ht(Ee.tanggalTerima)}</div>
                        </div>
                    </div>
                </div>
                
                <div class="footer-note">
                    *khusus untuk bahan baku
                </div>
            </div>
            
            <div class="no-print" style="margin-top: 20px; text-align: center;">
                <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
                <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
        </body>
        </html>
    `),V.document.close(),V.focus()},_e=Ee=>{const V=window.open("","_blank");let Z="";Ee.items.forEach(Ne=>{Z+=`
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">${Ne.kodeItem}</td>
        <td style="border: 1px solid #000; padding: 8px;">${Ne.namaMaterial}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: right;">${Ne.qtyUnit}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: center;">Pcs</td>
      </tr>
    `}),V.document.write(`
    <html>
      <head>
        <title>Good Receipt Slip - ${Ee.noSuratJalan}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .letterhead { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 15px; }
          .company-info { margin-bottom: 10px; }
          .addresses { display: flex; justify-content: space-between; margin: 20px 0; }
          .address-box { border: 1px solid #000; padding: 15px; width: 45%; }
          .shipment-info { margin: 20px 0; }
          .shipment-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
          .shipment-table th, .shipment-table td { border: 1px solid #000; padding: 5px; }
          .shipment-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .signature-section { display: flex; justify-content: space-between; margin-top: 40px; }
          .signature-box { text-align: center; width: 200px; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="letterhead">
          <div class="company-info">
            <strong>PT. Gondowangi Tradisional Kosmetika</strong><br>
            JL. JABABEKA BLOK U NO. 29-C<br>
            RT/RW:03/03 KARANG BARU<br>
            BEKASI<br>
            Indonesia<br>
            Phone: (021) 8910 7915 - 17 | Fax: (021) 8910 7919 | Website: www.gondowangi.com<br>
            Contact : Reza Rizky - Page: 1
          </div>
        </div>
        
        <div class="addresses">
          <div class="address-box">
            <strong>Supplier Address :</strong><br>
            ${Ee.supplier}<br>
            Jl. Satria Raya II No. 32 RT 05 RW 09 Margahayu<br>
            Utara-Babakan Ciparay<br>
            Bandung<br>
            Indonesia
          </div>
          <div class="address-box">
            <strong>Contact Address :</strong><br>
            +62.22.5417871
          </div>
        </div>
        
        <div class="shipment-info">
          <strong>Incoming Shipment : ${Ee.incomingNumber}</strong>
        </div>
        
        <table class="shipment-table">
          <tr>
            <th>No SJ</th>
            <th>Order(Origin)</th>
            <th>Date</th>
            <th>Input by</th>
            <th>No Truck</th>
            <th>Driver Name</th>
          </tr>
          <tr>
            <td>${Ee.noSuratJalan}</td>
            <td>${Ee.noPo}</td>
            <td>${jt(Ee.tanggalTerima)}</td>
            <td>Dita A.P</td>
            <td>${Ee.noKendaraan}</td>
            <td>${Ee.namaDriver}</td>
          </tr>
        </table>
        
        <table class="items-table">
          <thead>
            <tr>
              <th>Code</th>
              <th>Description</th>
              <th>Quantity</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
            ${Z}
          </tbody>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <strong>Approved By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Reza Rizky<br>
              DD/MM/YYYY
            </div>
          </div>
          <div class="signature-box">
            <strong>Received By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Permadi Rohiman<br>
              DD/MM/YYYY
            </div>
          </div>
        </div>
        
        <div class="no-print" style="margin-top: 20px; text-align: center;">
          <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
          <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
        </div>
      </body>
    </html>
  `),V.document.close(),V.focus()},re=Ee=>{const V=[];return!Ee||!Ee.items||(Ee.items.forEach(Z=>{const Ne=parseInt(Z.qtyWadah||0);for(let Ke=1;Ke<=Ne;Ke++){const lt=`${Ee.incomingNumber}|${Z.kodeItem}|${Z.batchLot}|${Ke}|${Z.expDate}`;V.push({qrContent:lt,kodeItem:Z.kodeItemDisplay||Z.kodeItem,namaMaterial:Z.namaMaterial,batchLot:Z.batchLot,qtyUnit:Z.qtyUnit,qtyWadah:Ne,wadahKe:Ke,expDate:Z.expDate,supplier:Ee.supplier,tanggalTerima:Ee.tanggalTerima})}}),Ee.qrCodeLabels=V),V},pe=Ee=>{const V=Ee.items.reduce((Z,Ne)=>Z+parseFloat(Ne.qtyWadah||0),0);V>20&&!confirm(`Peringatan: Jumlah label QR melebihi 20 (${V} label). Membuka preview mungkin akan menyebabkan website melambat. Lanjutkan?`)||(O.value=Ee,re(O.value),v.value=!0,setTimeout(()=>{ut()},100))},ut=()=>{if(O.value?.qrCodeLabels){if(typeof Qo>"u"){console.error("QRCode library not loaded");return}O.value.qrCodeLabels.forEach((Ee,V)=>{const Z=document.querySelector(`canvas[data-qr-canvas="${V}"]`);if(Z){Z.getContext("2d").clearRect(0,0,Z.width,Z.height);try{Qo.toCanvas(Z,Ee.qrContent,{width:180,height:180,margin:1,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#FFFFFF"}},function(Ke){Ke&&console.error("QR Code generation error:",Ke)})}catch(Ke){console.error("Failed to generate QR code:",Ke)}}})}},tt=Ee=>{const V=O.value.items.findIndex(Ne=>Ne===Ee),Z=document.querySelector(`canvas[data-qr-canvas="${V}"]`);if(Z){const Ne=document.createElement("a");Ne.download=`QR_${Ee.kodeItem}_${Ee.batchLot}.png`,Ne.href=Z.toDataURL("image/png"),Ne.click()}},Be=Ee=>{const V=O.value.qrCodeLabels.findIndex(Ke=>Ke.qrContent===Ee.qrContent),Z=document.querySelector(`canvas[data-qr-canvas="${V}"]`),Ne=Xs().props.auth?.user?.name||"Admin";if(Z){const Ke=window.open("","_blank"),lt=Z.toDataURL("image/png"),mt=Ht(O.value.tanggalTerima),wt=Ht(Ee.expDate),is=`${Math.floor(Ee.qtyUnit)} Pcs`,Yt=Ee.qtyWadah>0?`${Math.floor(Ee.qtyUnit/Ee.qtyWadah)} x ${Math.floor(Ee.qtyWadah)} box`:"";Ke.document.write(`
            <html>
            <head>
                <title>Label Karantina - ${Ee.kodeItem} - Wadah ${Ee.wadahKe}</title>
                <style>
                    body {
                        font-family: 'Arial', sans-serif;
                        margin: 0;
                        padding: 0;
                        display: flex;
                        justify-content: center;
                        align-items: flex-start;
                        min-height: 100vh;
                        background-color: #f0f0f0;
                    }
                    .label-container {
                        width: 10cm; /* Lebar label yang lebih besar agar mirip contoh */
                        height: 7cm; /* Tinggi label */
                        border: 2px solid #000;
                        padding: 5px;
                        box-sizing: border-box;
                        background-color: #fff;
                        display: flex;
                        flex-direction: column;
                        font-size: 10px; 
                        margin-top: 20px; 
                    }
                    .header {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        border-bottom: 2px solid #000;
                        padding-bottom: 5px;
                        margin-bottom: 5px;
                    }
                    .logo-img {
                        width: 90px; /* Ukuran logo lebih besar */
                        height: auto;
                        margin-bottom: 5px;
                    }
                    .company-name {
                        font-weight: bold;
                        font-size: 16px; /* Font lebih besar */
                        color: #2d5f3f; 
                        margin-top: 3px;
                    }
                    .status-box {
                        margin-top: 5px;
                        border: 1px solid #000;
                        padding: 2px 5px;
                        font-weight: bold;
                        font-size: 14px; /* Font lebih besar */
                        background-color: #000;
                        color: #fff;
                        width: 100%;
                        text-align: center;
                    }
                    .content {
                        display: flex;
                        flex-grow: 1;
                        padding-top: 5px;
                        gap: 10px; /* Jarak antara info dan QR */
                    }
                    .info-section {
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                        justify-content: space-between;
                    }
                    .info-row {
                        display: flex;
                        margin-bottom: 2px;
                        align-items: baseline; /* Agar teks sejajar di baris pertama */
                    }
                    .info-label {
                        width: 80px; /* Sesuaikan lebar label teks */
                        min-width: 80px;
                        font-weight: normal;
                        flex-shrink: 0;
                    }
                    .info-value {
                        flex: 1;
                        font-weight: bold;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }
                    .info-value.multi-line {
                        white-space: normal; /* Izinkan wrap untuk detail box */
                    }

                    .qr-section {
                        width: 80px; /* Ukuran QR Code */
                        height: 80px; 
                        display: flex;
                        flex-direction: column;
                        justify-content: flex-start;
                        align-items: flex-end; 
                        flex-shrink: 0; /* Pastikan QR tidak menyusut */
                    }
                    .qr-code {
                        width: 100%;
                        height: 100%;
                        border: 1px solid #ccc;
                    }
                    .footer {
                        display: flex;
                        justify-content: space-between;
                        font-size: 10px; /* Font footer */
                        border-top: 2px solid #000;
                        padding-top: 5px;
                        margin-top: 5px;
                    }
                    .footer-left {
                        font-style: italic;
                    }
                    .footer-right {
                        font-weight: bold;
                    }

                    /* Untuk mode print */
                    @media print {
                        body {
                            background-color: #fff;
                            display: block; 
                            margin: 0;
                            padding: 0;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        .label-container {
                            margin: 0;
                            border: 1px solid #000; 
                        }
                        .no-print {
                            display: none;
                        }
                        @page {
                            size: 10cm 7cm; /* Custom size jika ini 1 label per halaman */
                            margin: 0; /* Hapus margin halaman jika ini 1 label per halaman */
                        }
                    }
                </style>
            </head>
            <body>
                <div class="label-container">
                    <div class="header">
                        <img src="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png" alt="Logo Gondowangi" class="logo-img">
                        
                        <div class="status-box">KARANTINA</div>
                    </div>
                    
                    <div class="content">
                        <div class="info-section">
                            <div class="info-row">
                                <div class="info-label">Nama Barang</div>
                                <div class="info-value">: [${Ee.kodeItem}] ${Ee.namaMaterial}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Kode Barang</div>
                                <div class="info-value">: ${Ee.kodeItem}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Serial Lot</div>
                                <div class="info-value">: ${Ee.batchLot}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Supplier</div>
                                <div class="info-value">: ${Ee.supplier}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Jmlh Barang</div>
                                <div class="info-value">: ${is}</div>
                            </div>
                            ${Yt?`<div class="info-row">
                                <div class="info-label"></div>
                                <div class="info-value multi-line">: ${Yt}</div>
                            </div>`:""}
                            <div class="info-row">
                                <div class="info-label">Tgl Datang</div>
                                <div class="info-value">: ${mt}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Exp. Date</div>
                                <div class="info-value">: ${wt}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Dibuat Oleh</div>
                                <div class="info-value">: ${Ne}</div>
                            </div>
                        </div>
                        
                        <div class="qr-section">
                            <img src="${lt}" class="qr-code" alt="QR Code">
                        </div>
                    </div>
                    
                    <div class="footer">
                        <span class="footer-left">Logistik</span>
                        <span class="footer-right">QL1001-01 Rev. 02</span>
                    </div>
                </div>
                
                <div class="no-print" style="margin-top: 20px; text-align: center;">
                    <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Print</button>
                    <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px; font-size: 14px;">Close</button>
                </div>
            </body>
            </html>
        `),Ke.document.close(),Ke.focus(),setTimeout(()=>{Ke.print()},500)}},ue=()=>{const Ee=O.value?.qrCodeLabels;if(!Ee||Ee.length===0){alert("Tidak ada label QR untuk dicetak.");return}const V=window.open("","_blank"),Z=Xs().props.auth?.user?.name||"Admin",Ne=6,Ke="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png";let lt="";for(let mt=0;mt<Ee.length;mt+=Ne){const wt=Ee.slice(mt,mt+Ne);let is="";wt.forEach((Yt,Fs)=>{const Xe=mt+Fs,vn=document.querySelector(`canvas[data-qr-canvas="${Xe}"]`);let ns="";vn&&(ns=vn.toDataURL("image/png"));const Hn=ns?`<img src="${ns}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">ERROR</div>',Nr=Ht(O.value.tanggalTerima),Zt=Ht(Yt.expDate),It=`${Math.floor(Yt.qtyUnit)} Pcs`,Vt=Yt.qtyWadah>0?`${Math.floor(Yt.qtyUnit/Yt.qtyWadah)} x ${Math.floor(Yt.qtyWadah)} box`:"";is+=`
          <div class="label-wrapper">
              <div class="label-container">
                  <div class="header">
                      <img src="${Ke}" alt="Logo Gondowangi" class="logo-img">
                      <div class="status-box">KARANTINA</div>
                  </div>
                  
                  <div class="content">
                      <div class="info-section">
                          <div class="info-row">
                              <div class="info-label">Nama Barang</div>
                              <div class="info-value">: [${Yt.kodeItem}] ${Yt.namaMaterial}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Kode Barang</div>
                              <div class="info-value">: ${Yt.kodeItem}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Serial Lot</div>
                              <div class="info-value">: ${Yt.batchLot}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Supplier</div>
                              <div class="info-value">: ${Yt.supplier}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Jmlh Barang</div>
                              <div class="info-value">: ${It}</div>
                          </div>
                          ${Vt?`<div class="info-row">
                              <div class="info-label">Wadah Detail</div>
                              <div class="info-value multi-line">: ${Vt}</div>
                          </div>`:""}
                          <div class="info-row">
                              <div class="info-label">Wadah Ke</div>
                              <div class="info-value">: ${Math.floor(Yt.wadahKe)} / ${Math.floor(Yt.qtyWadah)}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Tgl Datang</div>
                              <div class="info-value">: ${Nr}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Exp. Date</div>
                              <div class="info-value">: ${Zt}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Dibuat Oleh</div>
                              <div class="info-value">: ${Z}</div>
                          </div>
                      </div>
                      
                      <div class="qr-section">
                          ${Hn}
                      </div>
                  </div>
                  
                  <div class="footer">
                      <span class="footer-left">Logistik</span>
                      <span class="footer-right">Rev. 02</span>
                  </div>
              </div>
          </div>
      `}),lt+=`
            <div class="print-page" style="${mt>0?"page-break-before: always;":""}">
                ${is}
            </div>
        `}V.document.write(`
        <html>
        <head>
            <title>Cetak ${Ee.length} Label QR - ${O.value.noSuratJalan}</title>
            <style>
                /* Pengaturan Halaman A4 untuk cetak 6 label (2x3) */
                @page {
                    size: A4;
                    margin: 0.5cm; /* Margin halaman disetel */
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                }
                
                .print-page {
                    width: 20cm; /* Lebar A4 efektif */
                    height: 28.7cm; /* Tinggi A4 efektif */
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* Container untuk setiap label. 
                   2 kolom (49%) dan 3 baris (33.33% - margin) */
                .label-wrapper {
                    width: 9.9cm; /* Hampir 10cm untuk 2 kolom */
                    height: calc(33.33% - 0.4cm); /* 3 baris di tinggi A4 dikurangi margin */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; /* Jarak antar baris */
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                /* ===========================================
                   GAYA LABEL
                   =========================================== */

                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid #000;
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid #000;
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    padding: 2px;
                    
                    color: #000; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid #000;
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Mengganti border tebal di print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                        
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${lt}
        </body>
        </html>
    `),V.document.close(),V.focus(),setTimeout(()=>{V.print()},500)},Me=()=>{P.value=!1,B.value=null},Gt=async()=>{if(B.value){U.value=!0,P.value=!1,z.value=!0,j.value=0,I.value=[];try{const Ee=B.value.total_qr_codes;let V=0;const Z=100;let Ne=[];for(H.value=`Fetching data... 0 / ${Ee} QR codes`;;){const Ke=await Rt.get("/api/inventory/print-all",{params:{offset:V,limit:Z}});if(!Ke.data.success)throw new Error(Ke.data.message||"Failed to fetch materials");const lt=Ke.data.data;Ne=[...Ne,...lt];const mt=Math.min(50,Math.floor(Ne.length/Ee*50));if(j.value=mt,H.value=`Fetching data... ${Ne.length} / ${Ee} QR codes`,!Ke.data.pagination.has_more)break;V+=Z}I.value=Ne,H.value="Data fetched successfully. Generating QR codes...",await Ws(Ne)}catch(Ee){console.error("Error in proceedToPrintAll:",Ee),alert(`Error: ${Ee.message||"Terjadi kesalahan saat memproses data"}`)}finally{U.value=!1,z.value=!1,j.value=0,H.value=""}}},Ws=async Ee=>{const Z=Ee.length;let Ne="";const Ke=Xs().props.auth?.user?.name||"Admin",lt=50;for(let wt=0;wt<Z;wt+=lt){const is=Math.min(wt+lt,Z),Yt=50+Math.floor((wt+1)/Z*50);j.value=Yt,H.value=`Generating QR codes... ${wt+1} / ${Z}`;for(let Fs=wt;Fs<is;Fs++){const Xe=Ee[Fs];try{const vn=await Qo.toDataURL(Xe.qr_content,{width:150,margin:1,errorCorrectionLevel:"M"}),ns=es(Xe,vn,Fs+1,Z,Ke);Fs%6===0&&(Fs>0&&(Ne+="</div>"),Ne+='<div class="print-page">'),Ne+=ns,((Fs+1)%6===0||Fs===Z-1)&&(Ne+="</div>")}catch(vn){console.error(`Error generating QR for ${Xe.kode_item}:`,vn)}}await new Promise(Fs=>setTimeout(Fs,10))}H.value="Opening print window...";const mt=window.open("","_blank");if(!mt){alert("Gagal membuka window print. Mohon izinkan popup.");return}mt.document.write(Qs(Ne)),mt.document.close(),mt.focus(),setTimeout(()=>{mt.print()},500)},es=(Ee,V,Z,Ne,Ke)=>{const lt=Ee.status==="RELEASED"?"#10B981":Ee.status==="KARANTINA"?"#F59E0B":"#EF4444";return`
    <div class="label-item">
      <div class="label-container" style="border-color: ${lt};">
        <div class="label-header" style="background-color: ${lt};">
          <div class="status-text">${Ee.status}</div>
          <div class="serial-number">#${Ee.serial_number}</div>
        </div>
        
        <div class="label-body">
          <div class="qr-code-section">
            <img src="${V}" class="qr-image" alt="QR Code"/>
          </div>
          <div class="info-section">
            <div class="info-row">
              <span class="info-label">Material:</span>
              <span class="info-value">${Ee.kode_item}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Batch:</span>
              <span class="info-value">${Ee.batch_lot}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Unit:</span>
              <span class="info-value">${Ee.unit_number}/${Ee.total_units}</span>
            </div>
          </div>
        </div>
        
        <div class="label-footer">
          <span>${new Date().toLocaleDateString("id-ID")}</span>
          <span>QL1001-01</span>
        </div>
      </div>
    </div>
  `},Qs=Ee=>`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Print All QR Codes</title>
      <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; }
        
        .print-page {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          grid-template-rows: repeat(3, 1fr);
          gap: 10px;
          padding: 10px;
          page-break-after: always;
          width: 210mm;
          height: 297mm;
        }
        
        .print-page:last-child {
          page-break-after: avoid;
        }
        
        .label-item {
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .label-container {
          width: 95mm;
          height: 90mm;
          border: 2px solid #000;
          display: flex;
          flex-direction: column;
        }
        
        .label-header {
          background: #000;
          color: white;
          padding: 8px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-weight: bold;
        }
        
        .status-text {
          font-size: 16px;
          letter-spacing: 2px;
        }
        
        .serial-number {
          font-size: 12px;
          font-family: monospace;
        }
        
        .label-body {
          flex: 1;
          display: flex;
          padding: 10px;
          gap: 10px;
        }
        
        .qr-code-section {
          flex: 0 0 80px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .qr-image {
          width: 80px;
          height: 80px;
        }
        
        .info-section {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          gap: 5px;
        }
        
        .info-row {
          display: flex;
          font-size: 11px;
        }
        
        .info-label {
          width: 60px;
          font-weight: bold;
        }
        
        .info-value {
          flex: 1;
          font-family: monospace;
        }
        
        .label-footer {
          border-top: 1px solid #000;
          padding: 5px 8px;
          display: flex;
          justify-content: space-between;
          font-size: 9px;
          font-weight: bold;
        }
        
        @media print {
          .print-page {
            page-break-after: always;
            margin: 0;
          }
          .print-page:last-child {
            page-break-after: avoid;
          }
          body {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
        }
      </style>
    </head>
    <body>
      ${Ee}
    </body>
    </html>
  `;return gn(()=>{ae()}),(Ee,V)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[n("div",KH,[n("div",YH,[V[29]||(V[29]=n("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar Penerimaan",-1)),n("button",{onClick:V[0]||(V[0]=Z=>b.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...V[28]||(V[28]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Oe(" Buat Penerimaan ",-1)])])]),n("div",XH,[n("div",JH,[n("div",null,[V[31]||(V[31]=n("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Show Entries",-1)),we(n("select",{"onUpdate:modelValue":V[1]||(V[1]=Z=>u.value=Z),class:"w-full px-3 py-2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"},[...V[30]||(V[30]=[n("option",{value:"10"},"Show 10",-1),n("option",{value:"25"},"Show 25",-1),n("option",{value:"50"},"Show 50",-1),n("option",{value:"100"},"Show 100",-1),n("option",{value:"all"},"Show All",-1)])],512),[[St,u.value]])]),n("div",ZH,[V[32]||(V[32]=n("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Pencarian",-1)),we(n("input",{"onUpdate:modelValue":V[2]||(V[2]=Z=>i.value=Z),type:"text",placeholder:"Cari No PO, No Incoming, No Surat Jalan, Serial Number, atau Nama Driver...",class:"w-full px-3 py-2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[Ve,i.value]])]),n("div",null,[V[33]||(V[33]=n("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Tanggal Mulai - Tanggal Selesai",-1)),n("div",ez,[we(n("input",{"onUpdate:modelValue":V[3]||(V[3]=Z=>a.value=Z),type:"date",placeholder:"Dari",lang:"id-ID",class:"w-full px-2 py-2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[Ve,a.value]]),we(n("input",{"onUpdate:modelValue":V[4]||(V[4]=Z=>d.value=Z),type:"date",placeholder:"Sampai",lang:"id-ID",class:"w-full px-2 py-2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[Ve,d.value]])])])])]),n("div",tz,[n("div",sz,[n("table",nz,[V[34]||(V[34]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Terima"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Incoming"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No PO"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Material"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Diterima"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Serial Number"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",rz,[(T(!0),R(Ye,null,at(e.shipments.data,Z=>(T(),R("tr",{key:Z.id,class:"hover:bg-gray-50"},[n("td",oz,A(jt(Z.tanggalTerima)),1),n("td",iz,[n("span",az,A(Z.incomingNumber),1)]),n("td",lz,A(Z.noPo),1),n("td",dz,[Z.items&&Z.items.length>0?(T(),R("div",cz,[n("div",uz,"["+A(Z.items[0].kodeItem||"-")+"]",1),n("div",{class:"truncate font-medium",title:Z.items[0].namaMaterial},A(Z.items[0].namaMaterial||"-"),9,xz),Z.items.length>1?(T(),R("span",fz," (+"+A(Z.items.length-1)+" lainnya) ",1)):se("",!0)])):(T(),R("span",hz,"-"))]),n("td",gz,[Z.items&&Z.items.length>0?(T(),R("div",pz,[n("span",mz,A(Ft(De(Z.items[0]))),1),n("span",bz,A(Z.items[0].uom||"-"),1)])):(T(),R("span",yz,"-"))]),n("td",vz,A(Z.noSuratJalan),1),n("td",wz,A(Z.supplier),1),n("td",Ez,[n("span",Cz,A(Z.items&&Z.items.length>0&&Z.items[0].batchLot||"-"),1)]),n("td",Az,[n("span",{class:Se([cs(Z.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(Z.status),3)]),n("td",kz,[n("div",Bz,[n("button",{onClick:Ne=>ze(Z),class:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 px-2 py-1 rounded text-xs"},"Detail",8,_z),n("button",{onClick:Ne=>Js(Z),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"},"Cetak Checklist",8,Dz),n("button",{onClick:Ne=>_e(Z),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"},"Cetak Finance",8,Sz),n("button",{onClick:Ne=>te(Z),class:"bg-blue-600 text-white hover:bg-blue-700 px-2 py-1 rounded text-xs"}," Cetak Label QR ",8,Fz)])])]))),128))])])]),n("div",Tz,[n("div",Mz,[n("div",null,[n("p",Iz,[V[35]||(V[35]=Oe(" Menampilkan ",-1)),n("span",Pz,A(e.shipments.from),1),V[36]||(V[36]=Oe(" sampai ",-1)),n("span",Rz,A(e.shipments.to),1),V[37]||(V[37]=Oe(" dari ",-1)),n("span",Oz,A(e.shipments.total),1),V[38]||(V[38]=Oe(" hasil ",-1))])])])])]),C.value?(T(),R("div",Nz,[n("div",$z,[n("div",Lz,[n("div",jz,[n("h3",Uz,"Detail Penerimaan - "+A(O.value?.noSuratJalan),1),n("button",{onClick:xt,class:"text-gray-400 hover:text-gray-600"},[...V[39]||(V[39]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Hz,[n("div",zz,[n("div",null,[V[40]||(V[40]=n("span",{class:"font-medium text-gray-700"},"No Incoming:",-1)),n("span",Vz,A(O.value?.incomingNumber),1)]),n("div",null,[V[41]||(V[41]=n("span",{class:"font-medium text-gray-700"},"No PO:",-1)),n("span",qz,A(O.value?.noPo),1)]),n("div",null,[V[42]||(V[42]=n("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),n("span",Wz,A(O.value?.supplier),1)]),n("div",null,[V[43]||(V[43]=n("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),n("span",Qz,A(O.value?.noKendaraan),1)]),n("div",null,[V[44]||(V[44]=n("span",{class:"font-medium text-gray-700"},"Nama Driver:",-1)),n("span",Gz,A(O.value?.namaDriver),1)]),n("div",null,[V[45]||(V[45]=n("span",{class:"font-medium text-gray-700"},"Tanggal Terima:",-1)),n("span",Kz,A(jt(O.value?.tanggalTerima)),1)]),n("div",null,[V[46]||(V[46]=n("span",{class:"font-medium text-gray-700"},"Kategori:",-1)),n("span",Yz,A(O.value?.kategori),1)]),n("div",null,[V[47]||(V[47]=n("span",{class:"font-medium text-gray-700"},"Status:",-1)),n("span",{class:Se([cs(O.value?.status),"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(O.value?.status),3)])])]),n("div",Xz,[V[49]||(V[49]=n("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Detail Material",-1)),n("div",Jz,[n("table",Zz,[V[48]||(V[48]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC")])],-1)),n("tbody",eV,[(T(!0),R(Ye,null,at(O.value?.items,(Z,Ne)=>(T(),R("tr",{key:Ne},[n("td",tV,A(Z.kodeItem),1),n("td",sV,A(Z.namaMaterial),1),n("td",nV,A(Z.batchLot),1),n("td",rV,[n("div",oV,A(Ht(Z.expDate)),1),n("span",{class:Se([Is(Z.expDate).class,"px-2 py-0.5 text-xs font-medium rounded-full"])},A(Is(Z.expDate).text),3)]),n("td",iV,A(parseInt(Z.qtyWadah)),1),n("td",aV,A(Ft(Z.qtyUnit)),1),n("td",lV,[n("div",dV,[Z.kondisiBaik?(T(),R("span",cV,"Baik")):se("",!0),Z.kondisiTidakBaik?(T(),R("span",uV,"Tidak Baik")):se("",!0)])]),n("td",xV,[n("div",fV,[Z.coaAda?(T(),R("span",hV,"Ada")):se("",!0),Z.coaTidakAda?(T(),R("span",gV,"Tidak")):se("",!0)])]),n("td",pV,[n("div",mV,[Z.labelMfgAda?(T(),R("span",bV,"Ada")):se("",!0),Z.labelMfgTidakAda?(T(),R("span",yV,"Tidak")):se("",!0)])]),n("td",vV,[n("div",wV,[Z.labelCoaSesuai?(T(),R("span",EV,"Sesuai")):se("",!0),Z.labelCoaTidakSesuai?(T(),R("span",CV,"Tidak Sesuai")):se("",!0)])]),n("td",AV,A(Z.pabrikPembuat),1),n("td",kV,[n("span",{class:Se([Z.statusQC==="To QC"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(Z.statusQC),3)])]))),128))])])])]),n("div",BV,[n("button",{onClick:xt,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),n("button",{onClick:V[5]||(V[5]=Z=>Js(O.value)),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Cetak Checklist "),n("button",{onClick:V[6]||(V[6]=Z=>_e(O.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"}," Cetak Finance "),n("button",{onClick:V[7]||(V[7]=Z=>pe(O.value)),class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Label QR ")])])])])):se("",!0),v.value?(T(),R("div",_V,[n("div",DV,[n("div",SV,[n("div",FV,[n("h3",TV,"Label QR Code - "+A(O.value?.noSuratJalan),1),n("button",{onClick:yt,class:"text-gray-400 hover:text-gray-600"},[...V[50]||(V[50]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",MV,[n("div",IV,[n("div",null,[V[51]||(V[51]=n("span",{class:"font-medium text-gray-700"},"No PO:",-1)),n("span",PV,A(O.value?.noPo),1)]),n("div",null,[V[52]||(V[52]=n("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),n("span",RV,A(O.value?.supplier),1)]),n("div",null,[V[53]||(V[53]=n("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),n("span",OV,A(O.value?.noKendaraan),1)]),n("div",null,[V[54]||(V[54]=n("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),n("span",NV,A(jt(O.value?.tanggalTerima)),1)])])]),n("div",$V,[V[58]||(V[58]=n("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),O.value?.qrCodeLabels&&O.value.qrCodeLabels.length>0?(T(),R("div",LV,[(T(!0),R(Ye,null,at(O.value.qrCodeLabels,(Z,Ne)=>(T(),R("div",{key:Ne,class:"border border-gray-200 rounded-lg p-4"},[n("div",jV,[n("div",null,[n("div",UV,"["+A(Z.kodeItem)+"] - "+A(Z.namaMaterial),1),n("div",HV,[n("div",null,"Batch: "+A(Z.batchLot),1),n("div",null,"Wadah Ke: **"+A(Z.wadahKe)+"** / "+A(Z.qtyWadah),1),n("div",null,"Qty: "+A(Z.qtyUnit),1),n("div",null,"Exp: "+A(Ht(Z.expDate)),1)]),n("div",zV,[V[55]||(V[55]=n("strong",null,"QR Content:",-1)),V[56]||(V[56]=n("br",null,null,-1)),Oe(A(Z.qrContent.split("|")[2]),1)]),n("div",VV,[n("button",{onClick:Ke=>Be(Z),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm"}," Cetak QR Wadah "+A(Z.wadahKe),9,qV)])]),n("div",WV,[n("div",QV,[n("canvas",{"data-qr-canvas":Ne,class:"block"},null,8,GV)]),V[57]||(V[57]=n("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(T(),R("div",KV," Belum ada item untuk shipment ini "))]),n("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[n("button",{onClick:yt,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),n("button",{onClick:ue,class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):se("",!0),_.value?(T(),R("div",YV,[n("div",XV,[n("div",JV,[n("div",{class:"flex justify-between items-center mb-6"},[V[60]||(V[60]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Pilih Status Label QR",-1)),n("button",{onClick:ye,class:"text-gray-400 hover:text-gray-600"},[...V[59]||(V[59]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",ZV,[V[62]||(V[62]=n("p",{class:"text-sm text-gray-600 mb-4"}," Material ini memiliki multiple status. Pilih status yang ingin dicetak: ",-1)),n("div",eq,[(T(!0),R(Ye,null,at(F.value,Z=>(T(),R("button",{key:Z,onClick:Ne=>ct(Z),class:Se([$t(Z),"w-full px-4 py-3 rounded-lg font-semibold text-left flex items-center justify-between hover:opacity-80 transition-opacity"])},[n("span",null,"Cetak Label "+A(Z),1),V[61]||(V[61]=n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))],10,tq))),128))])]),n("div",{class:"flex justify-end"},[n("button",{onClick:ye,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal ")])])])])):se("",!0),D.value?(T(),R("div",sq,[...V[63]||(V[63]=[n("div",{class:"bg-white rounded-lg p-8 max-w-sm mx-4 text-center"},[n("div",{class:"mb-4"},[n("svg",{class:"animate-spin h-12 w-12 mx-auto text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])]),n("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Generating Labels..."),n("p",{class:"text-sm text-gray-600"},"Mohon tunggu, sedang membuat label QR")],-1)])])):se("",!0),P.value?(T(),R("div",nq,[n("div",rq,[n("div",oq,[n("div",{class:"flex justify-between items-center mb-6"},[V[65]||(V[65]=n("h3",{class:"text-xl font-bold text-gray-900"},"Print All QR Codes",-1)),n("button",{onClick:Me,class:"text-gray-400 hover:text-gray-600"},[...V[64]||(V[64]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),B.value?(T(),R("div",iq,[n("div",aq,[V[74]||(V[74]=n("h4",{class:"font-semibold text-blue-900 mb-3 flex items-center"},[n("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),n("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule":"evenodd"})]),Oe(" Statistik Inventory On-Hand ")],-1)),n("div",lq,[n("div",dq,[V[66]||(V[66]=n("div",{class:"text-gray-600 text-xs font-medium"},"Released",-1)),n("div",cq,A(B.value.released),1),V[67]||(V[67]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))]),n("div",uq,[V[68]||(V[68]=n("div",{class:"text-gray-600 text-xs font-medium"},"Karantina",-1)),n("div",xq,A(B.value.karantina),1),V[69]||(V[69]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))]),n("div",fq,[V[70]||(V[70]=n("div",{class:"text-gray-600 text-xs font-medium"},"Rejected",-1)),n("div",hq,A(B.value.rejected),1),V[71]||(V[71]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))]),B.value.expired>0?(T(),R("div",gq,[V[72]||(V[72]=n("div",{class:"text-gray-600 text-xs font-medium"},"Expired",-1)),n("div",pq,A(B.value.expired),1),V[73]||(V[73]=n("div",{class:"text-gray-500 text-xs"},"SKU",-1))])):se("",!0)])]),n("div",mq,[n("div",bq,[V[75]||(V[75]=n("span",{class:"text-sm font-medium text-purple-900"},"Total QR Codes:",-1)),n("span",yq,A(Ft(B.value.total_qr_codes)),1)]),n("div",vq,[V[76]||(V[76]=n("span",null,"Estimasi Waktu:",-1)),n("span",wq,"~"+A(Math.ceil(B.value.estimated_time_seconds/60))+" menit",1)])]),B.value.expired>0?(T(),R("div",Eq,[...V[77]||(V[77]=[n("div",{class:"flex items-center"},[n("svg",{class:"w-5 h-5 text-yellow-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),n("div",{class:"text-sm"},[n("span",{class:"font-semibold text-yellow-900"},"Perhatian!"),n("span",{class:"text-yellow-800"}," Material expired akan tetap dicetak.")])],-1)])])):se("",!0)])):se("",!0),n("div",Cq,[n("button",{onClick:Me,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),n("button",{onClick:Gt,disabled:U.value,class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300 flex items-center"},[U.value?(T(),R("svg",Bq,[...V[79]||(V[79]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(T(),R("svg",kq,[...V[78]||(V[78]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"},null,-1)])])),Oe(" "+A(U.value?"Processing...":"Proceed to Print"),1)],8,Aq)])])])])):se("",!0),z.value?(T(),R("div",_q,[n("div",Dq,[V[82]||(V[82]=n("h3",{class:"text-lg font-semibold text-gray-900 mb-4 text-center"},"Generating QR Codes",-1)),n("div",Sq,[n("div",Fq,[V[80]||(V[80]=n("span",null,"Progress",-1)),n("span",null,A(j.value)+"%",1)]),n("div",Tq,[n("div",{class:"bg-purple-600 h-4 rounded-full transition-all duration-300 ease-out",style:Rr({width:j.value+"%"})},null,4)])]),n("div",Mq,[n("p",Iq,A(H.value),1),V[81]||(V[81]=n("p",{class:"text-xs text-gray-500 mt-1"},"Mohon tunggu, jangan tutup browser...",-1))])])])):se("",!0),b.value?(T(),R("div",Pq,[n("div",Rq,[n("div",Oq,[n("div",{class:"flex justify-between items-center mb-6"},[V[84]||(V[84]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Buat Penerimaan Baru",-1)),n("button",{onClick:ft,class:"text-gray-400 hover:text-gray-600"},[...V[83]||(V[83]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Nq,[V[87]||(V[87]=n("h4",{class:"font-bold text-indigo-700 mb-3 flex items-center"},[n("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"}),n("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v7a1 1 0 11-2 0V3a1 1 0 011-1z","clip-rule":"evenodd"})]),Oe(" Opsi 1: Upload Data Penerimaan dari PDF ERP ")],-1)),n("div",$q,[n("div",Lq,[V[85]||(V[85]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"File PDF dari ERP",-1)),n("input",{onChange:it,type:"file",accept:".pdf",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-gray-900 text-sm"},null,32)]),n("button",{onClick:Et,disabled:!$.value.erpPdfFile||J.value,class:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-300 flex items-center justify-center transition-colors"},[J.value?(T(),R("svg",Uq,[...V[86]||(V[86]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),Oe(" "+A(J.value?"Memproses...":"Proses File ERP"),1)],8,jq)]),$.value.isErpDataLoaded?(T(),R("p",Hq," Data dari PDF ERP berhasil dimuat! Mohon cek dan lengkapi rincian di bawah. ")):se("",!0)]),he.value&&$.value.isErpDataLoaded?(T(),R("div",zq,[n("h4",Vq,[V[88]||(V[88]=n("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),n("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule":"evenodd"})],-1)),Oe(" Terdeteksi "+A(Ie.value.length)+" Kode Item Berbeda ",1)]),n("p",qq,[V[89]||(V[89]=Oe(" Sistem akan membuat ",-1)),n("strong",null,A(Ie.value.length)+" penerimaan terpisah",1),V[90]||(V[90]=Oe(" (1 per kode item) untuk memudahkan cetak checklist. Gunakan tombol navigasi untuk melihat dan edit detail setiap kode item. ",-1))]),n("div",Wq,[n("button",{onClick:ge,disabled:ve.value===0,class:"px-4 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[...V[91]||(V[91]=[n("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),Oe(" Sebelumnya ",-1)])],8,Qq),n("div",Gq,[(T(!0),R(Ye,null,at(Ie.value,(Z,Ne)=>(T(),R("div",{key:Ne,class:Se(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all cursor-pointer",ve.value===Ne?"bg-blue-600 text-white ring-2 ring-blue-300":"bg-gray-300 text-gray-700 hover:bg-gray-400"]),onClick:Ke=>Te(Ne),title:`Step ${Ne+1}: ${Z.code}`},A(Ne+1),11,Kq))),128))]),n("button",{onClick:ne,disabled:ve.value===Ie.value.length-1,class:"px-4 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[...V[92]||(V[92]=[Oe(" Selanjutnya ",-1),n("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Yq)]),n("div",Xq,[n("p",Jq,[Oe(" Step "+A(ve.value+1)+" dari "+A(Ie.value.length)+": ",1),n("span",Zq,A(qe.value?.code),1)]),n("p",eW,A(qe.value?.items.length)+" baris material dengan kode item ini ",1)])])):se("",!0),n("div",tW,[n("div",null,[n("label",sW,[V[93]||(V[93]=Oe("No Incoming (ERP) ",-1)),$.value.incomingNumber?(T(),R("span",nW,"(Otomatis)")):se("",!0)]),we(n("input",{"onUpdate:modelValue":V[8]||(V[8]=Z=>$.value.incomingNumber=Z),type:"text",placeholder:"Auto dari sistem/ERP",readonly:!!$.value.incomingNumber,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-gray-900"},null,8,rW),[[Ve,$.value.incomingNumber]])]),n("div",null,[n("label",oW,[V[94]||(V[94]=Oe(" No PO * ",-1)),be.value.includes("no_po")?(T(),R("span",iW,"(Auto)")):se("",!0)]),n("div",aW,[we(n("input",{"onUpdate:modelValue":V[9]||(V[9]=Z=>$.value.noPo=Z),type:"text",placeholder:"Masukkan No PO",class:Se(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",be.value.includes("no_po")?"bg-yellow-50":"bg-white"])},null,2),[[Ve,$.value.noPo]]),be.value.includes("no_po")?(T(),R("button",{key:0,onClick:V[10]||(V[10]=Z=>vt("no_po")),type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear field"},"  ")):se("",!0)])]),n("div",null,[V[95]||(V[95]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan *",-1)),we(n("input",{"onUpdate:modelValue":V[11]||(V[11]=Z=>$.value.noSuratJalan=Z),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,$.value.noSuratJalan]])]),n("div",null,[n("label",lW,[V[96]||(V[96]=Oe(" Supplier * ",-1)),be.value.includes("supplier")?(T(),R("span",dW,"(Auto)")):se("",!0)]),n("div",cW,[we(n("input",{"onUpdate:modelValue":V[12]||(V[12]=Z=>s.value=Z),onInput:bt,type:"text",placeholder:"Ketik untuk mencari Supplier...",class:Se(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",be.value.includes("supplier")?"bg-yellow-50":"bg-white"])},null,34),[[Ve,s.value]]),be.value.includes("supplier")?(T(),R("button",{key:0,onClick:V[13]||(V[13]=Z=>vt("supplier")),type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-20",title:"Clear field"},"  ")):se("",!0),r.value.length>0&&s.value?(T(),R("div",uW,[(T(!0),R(Ye,null,at(r.value,Z=>(T(),R("div",{key:Z.id,onClick:Ne=>Ct(Z),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-gray-900"},A(Z.nama_supplier),9,xW))),128))])):se("",!0)]),$.value.supplierName?(T(),R("p",fW," **Dipilih:** "+A($.value.supplierName),1)):se("",!0)]),n("div",null,[V[97]||(V[97]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan *",-1)),we(n("input",{"onUpdate:modelValue":V[14]||(V[14]=Z=>$.value.noKendaraan=Z),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,$.value.noKendaraan]])]),n("div",null,[V[98]||(V[98]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver *",-1)),we(n("input",{"onUpdate:modelValue":V[15]||(V[15]=Z=>$.value.namaDriver=Z),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,$.value.namaDriver]])]),n("div",null,[V[99]||(V[99]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal & Waktu Terima",-1)),we(n("input",{"onUpdate:modelValue":V[16]||(V[16]=Z=>$.value.tanggalTerima=Z),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900",lang:"id-ID",step:"60"},null,512),[[Ve,$.value.tanggalTerima]]),V[100]||(V[100]=n("p",{class:"text-xs text-gray-500 mt-1"},"Format: DD/MM/YYYY, Waktu 24 jam",-1))]),n("div",null,[n("label",hW,[V[101]||(V[101]=Oe("Kategori ",-1)),$.value.kategori?(T(),R("span",gW,"(Otomatis)")):se("",!0)]),we(n("input",{"onUpdate:modelValue":V[17]||(V[17]=Z=>$.value.kategori=Z),type:"text",readonly:"",placeholder:"Auto dari Material",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-900 focus:outline-none"},null,512),[[Ve,$.value.kategori]])]),n("div",null,[n("label",pW,[V[102]||(V[102]=Oe("Sub Kategori ",-1)),$.value.subCategory?(T(),R("span",mW,"(Otomatis)")):se("",!0)]),we(n("input",{"onUpdate:modelValue":V[18]||(V[18]=Z=>$.value.subCategory=Z),type:"text",readonly:"",placeholder:"Auto dari Material",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-900 focus:outline-none"},null,512),[[Ve,$.value.subCategory]])])]),n("div",bW,[he.value?(T(),R("div",yW,[n("span",vW,[V[103]||(V[103]=Oe("  Editing Kode Item: ",-1)),n("span",wW,A(qe.value?.code),1)])])):se("",!0),n("div",{class:"flex justify-between items-center mb-4"},[V[104]||(V[104]=n("h4",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),n("button",{onClick:Fe,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," + Tambah Baris ")]),n("div",EW,[n("table",CW,[V[106]||(V[106]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Halal/Non-Halal "),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Bin Karantina Tujuan "),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi ")])],-1)),n("tbody",AW,[(T(!0),R(Ye,null,at($.value.items,(Z,Ne)=>(T(),R("tr",{key:Ne},[n("td",kW,[n("div",BW,[n("button",{onClick:Ke=>nt(Z,"isHalal"),class:Se([Z.isHalal?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Halal",10,_W),n("button",{onClick:Ke=>nt(Z,"isNonHalal"),class:Se([Z.isNonHalal?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Non-Halal",10,DW)])]),n("td",SW,[we(n("select",{"onUpdate:modelValue":Ke=>Z.binTarget=Ke,class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},[V[105]||(V[105]=n("option",{value:""},"Pilih Bin QRT",-1)),(T(),R(Ye,null,at(Qe,Ke=>n("option",{key:Ke.code,value:Ke.code},A(Ke.code),9,TW)),64))],8,FW),[[St,Z.binTarget]])]),n("td",MW,[n("div",IW,[we(n("input",{"onUpdate:modelValue":Ke=>Z.skuSearch=Ke,onInput:Ke=>ht(Ne),onFocus:Ke=>Z.showSuggestions=!0,onBlur:Ke=>Ee.setTimeout(()=>{Z.showSuggestions=!1},200),type:"text",placeholder:"Cari Kode/Nama SKU",class:Se(["w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",{"border-red-500 ring-1 ring-red-500 bg-red-50":!Z.kodeItem&&Z.skuSearch}])},null,42,PW),[[Ve,Z.skuSearch]])]),Z.showSuggestions&&Z.filteredMaterials.length>0?(T(),R("div",RW,[(T(!0),R(Ye,null,at(Z.filteredMaterials,Ke=>(T(),R("div",{key:Ke.id,onMousedown:Os(lt=>Qt(Ne,Ke),["prevent"]),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-xs text-gray-900"}," **["+A(Ke.code)+"]** - "+A(Ke.name),41,OW))),128))])):se("",!0),Z.kodeItem?(T(),R("p",NW," **Dipilih:** "+A(Z.kodeItemDisplay),1)):se("",!0)]),n("td",$W,[we(n("input",{"onUpdate:modelValue":Ke=>Z.namaMaterial=Ke,type:"text",readonly:"",class:"w-40 text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-900"},null,8,LW),[[Ve,Z.namaMaterial]])]),n("td",jW,[we(n("input",{"onUpdate:modelValue":Ke=>Z.batchLot=Ke,type:"text",class:"w-28 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,UW),[[Ve,Z.batchLot]])]),n("td",HW,[we(n("input",{"onUpdate:modelValue":Ke=>Z.expDate=Ke,type:"date",class:"w-36 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,zW),[[Ve,Z.expDate]])]),n("td",VW,[we(n("input",{"onUpdate:modelValue":Ke=>Z.qtyWadah=Ke,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,qW),[[Ve,Z.qtyWadah]])]),n("td",WW,[we(n("input",{"onUpdate:modelValue":Ke=>Z.qtyUnit=Ke,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,QW),[[Ve,Z.qtyUnit]])]),n("td",GW,[n("div",KW,[n("button",{onClick:Ke=>nt(Z,"kondisiBaik"),class:Se([Z.kondisiBaik?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Baik",10,YW),n("button",{onClick:Ke=>nt(Z,"kondisiTidakBaik"),class:Se([Z.kondisiTidakBaik?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak Baik",10,XW)])]),n("td",JW,[n("div",ZW,[n("button",{onClick:Ke=>nt(Z,"coaAda"),class:Se([Z.coaAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,eQ),n("button",{onClick:Ke=>nt(Z,"coaTidakAda"),class:Se([Z.coaTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,tQ)])]),n("td",sQ,[n("div",nQ,[n("button",{onClick:Ke=>nt(Z,"labelMfgAda"),class:Se([Z.labelMfgAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,rQ),n("button",{onClick:Ke=>nt(Z,"labelMfgTidakAda"),class:Se([Z.labelMfgTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,oQ)])]),n("td",iQ,[n("div",aQ,[n("button",{onClick:Ke=>nt(Z,"labelCoaSesuai"),class:Se([Z.labelCoaSesuai?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,lQ),n("button",{onClick:Ke=>nt(Z,"labelCoaTidakSesuai"),class:Se([Z.labelCoaTidakSesuai?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,dQ)])]),n("td",cQ,[we(n("input",{"onUpdate:modelValue":Ke=>Z.pabrikPembuat=Ke,type:"text",class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",placeholder:"Nama pabrik"},null,8,uQ),[[Ve,Z.pabrikPembuat]])]),n("td",xQ,[n("span",fQ,A(Z.statusQC),1)]),n("td",hQ,[n("button",{onClick:Ke=>Je(Ne),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"},"Hapus",8,gQ)])]))),128))])])])]),dt.value.length>0?(T(),R("div",pQ,[V[108]||(V[108]=n("h4",{class:"text-md font-bold text-yellow-800 mb-3"},[n("span",{class:"inline-block align-middle mr-2"},""),Oe(" Ringkasan Total Stok Masuk (Kalkulasi) ")],-1)),n("div",mQ,[(T(!0),R(Ye,null,at(dt.value,(Z,Ne)=>(T(),R("div",{key:Ne,class:"bg-white p-3 rounded-md border border-yellow-300"},[V[107]||(V[107]=n("p",{class:"text-sm text-gray-600 truncate"},"Material:",-1)),n("p",bQ,A(Z.materialName),1),n("p",yQ,A(Z.totalQty)+" "+A(Z.satuan),1)]))),128))])])):se("",!0),n("div",vQ,[n("div",wQ,[n("button",{onClick:ft,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),n("button",{onClick:He,disabled:!Ge.value||m.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center"},[m.value?(T(),R("svg",CQ,[...V[109]||(V[109]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),Oe(" "+A(m.value?"Menyimpan...":"Simpan")+"         ",1)],8,EQ)])])])]),v.value?(T(),R("div",AQ,[n("div",kQ,[n("div",BQ,[n("div",_Q,[n("h3",DQ,"Label QR Code - "+A(O.value?.noSuratJalan),1),n("button",{onClick:yt,class:"text-gray-400 hover:text-gray-600"},[...V[110]||(V[110]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",SQ,[n("div",FQ,[n("div",null,[V[111]||(V[111]=n("span",{class:"font-medium text-gray-700"},"No PO:",-1)),n("span",TQ,A(O.value?.noPo),1)]),n("div",null,[V[112]||(V[112]=n("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),n("span",MQ,A(O.value?.supplier),1)]),n("div",null,[V[113]||(V[113]=n("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),n("span",IQ,A(O.value?.noKendaraan),1)]),n("div",null,[V[114]||(V[114]=n("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),n("span",PQ,A(jt(O.value?.tanggalTerima)),1)])])]),n("div",RQ,[V[118]||(V[118]=n("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),O.value?.items&&O.value.items.length>0?(T(),R("div",OQ,[(T(!0),R(Ye,null,at(O.value.items,(Z,Ne)=>(T(),R("div",{key:Ne,class:"border border-gray-200 rounded-lg p-4"},[n("div",NQ,[n("div",null,[n("div",$Q,A(Z.kodeItem)+" - "+A(Z.namaMaterial),1),n("div",LQ,[n("div",null,"Serial Lot: "+A(Z.batchLot),1),n("div",null,"Qty: "+A(Math.floor(Z.qtyUnit)),1),n("div",null,"Exp: "+A(Ht(Z.expDate)),1)]),n("div",jQ,[V[115]||(V[115]=n("strong",null,"QR Content:",-1)),V[116]||(V[116]=n("br",null,null,-1)),Oe(A(Z.qrCode?Z.qrCode.split("|")[2]:"-"),1)]),n("div",UQ,[n("button",{onClick:Ke=>tt(Z),class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," Download QR ",8,HQ),n("button",{onClick:Ke=>Be(Z),class:"bg-gray-400 text-white px-3 py-1 rounded text-sm"}," Cetak QR ",8,zQ)])]),n("div",VQ,[n("div",qQ,[n("canvas",{"data-qr-canvas":Ne,class:"block"},null,8,WQ)]),V[117]||(V[117]=n("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(T(),R("div",QQ," Belum ada item untuk shipment ini "))]),n("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[n("button",{onClick:yt,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),n("button",{onClick:ue,class:"bg-gray-400 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):se("",!0)])):se("",!0),K.value?(T(),R("div",GQ,[n("div",KQ,[V[121]||(V[121]=n("h3",{class:"text-xl font-bold text-gray-900 mb-4 flex items-center"},[n("svg",{class:"w-6 h-6 text-yellow-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),Oe(" Material Tidak Ditemukan ")],-1)),n("p",YQ,[V[119]||(V[119]=Oe(" Sistem mendeteksi ",-1)),n("strong",null,A(ie.value.length),1),V[120]||(V[120]=Oe(" kode material dari PDF yang belum terdaftar di Master Data. Mohon tambahkan agar dapat diproses. ",-1))]),n("div",XQ,[(T(!0),R(Ye,null,at(ie.value,Z=>(T(),R("div",{key:Z,class:"flex items-center justify-between bg-gray-50 p-3 rounded border border-gray-200"},[n("span",JQ,A(Z),1),n("button",{onClick:Ne=>N(Z),class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 font-medium"}," + Tambah Data ",8,ZQ)]))),128))]),n("div",eG,[n("button",{onClick:V[19]||(V[19]=Z=>K.value=!1),class:"text-gray-500 hover:text-gray-700 text-sm underline mr-4"}," Abaikan (Data akan kosong) "),n("button",{onClick:V[20]||(V[20]=Z=>K.value=!1),class:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 font-medium"}," Tutup ")])])])):se("",!0),fe.value?(T(),R("div",tG,[n("div",sG,[n("div",nG,[n("div",{class:"flex justify-between items-center mb-6"},[V[123]||(V[123]=n("h3",{class:"text-lg font-bold text-gray-900"},"Tambah Material Baru",-1)),n("button",{onClick:E,class:"text-gray-400 hover:text-gray-600"},[...V[122]||(V[122]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",rG,[n("div",null,[V[124]||(V[124]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item",-1)),we(n("input",{"onUpdate:modelValue":V[21]||(V[21]=Z=>le.value.code=Z),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-900 font-mono"},null,512),[[Ve,le.value.code]])]),n("div",null,[V[125]||(V[125]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material *",-1)),we(n("input",{"onUpdate:modelValue":V[22]||(V[22]=Z=>le.value.name=Z),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Nama lengkap material"},null,512),[[Ve,le.value.name]])]),n("div",null,[V[127]||(V[127]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM *",-1)),we(n("select",{"onUpdate:modelValue":V[23]||(V[23]=Z=>le.value.uom=Z),class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"},[...V[126]||(V[126]=[n("option",{value:""},"Pilih UoM",-1),n("option",{value:"PCS"},"PCS",-1),n("option",{value:"KG"},"KG",-1),n("option",{value:"LTR"},"LITER",-1),n("option",{value:"LITER"},"LITER",-1),n("option",{value:"BOX"},"BOX",-1)])],512),[[St,le.value.uom]])]),n("div",null,[V[129]||(V[129]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),we(n("select",{"onUpdate:modelValue":V[24]||(V[24]=Z=>le.value.category=Z),class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"},[...V[128]||(V[128]=[n("option",{value:""},"Pilih Kategori",-1),n("option",{value:"Raw Material"},"Raw Material",-1),n("option",{value:"Packaging"},"Packaging",-1),n("option",{value:"Finished Goods"},"Finished Goods",-1)])],512),[[St,le.value.category]])]),n("div",null,[V[130]||(V[130]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sub Kategori",-1)),we(n("input",{"onUpdate:modelValue":V[25]||(V[25]=Z=>le.value.subCategory=Z),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Opsional"},null,512),[[Ve,le.value.subCategory]])]),n("div",null,[V[132]||(V[132]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status Halal",-1)),we(n("select",{"onUpdate:modelValue":V[26]||(V[26]=Z=>le.value.halalStatus=Z),class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"},[...V[131]||(V[131]=[n("option",{value:""},"Pilih Status",-1),n("option",{value:"Halal"},"Halal",-1),n("option",{value:"Non Halal"},"Non Halal",-1)])],512),[[St,le.value.halalStatus]])])]),n("div",oG,[n("button",{onClick:E,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"},"Batal"),n("button",{onClick:M,disabled:q.value,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-400 flex items-center"},[q.value?(T(),R("svg",aG,[...V[133]||(V[133]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),Oe(" "+A(q.value?"Menyimpan...":"Simpan Material"),1)],8,iG)])])])])):se("",!0),Ue.value?(T(),R("div",lG,[n("div",dG,[V[141]||(V[141]=n("h3",{class:"text-xl font-bold text-gray-900 mb-4 flex items-center"},[n("svg",{class:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),Oe(" Konfirmasi Pembuatan Penerimaan ")],-1)),n("div",cG,[n("p",uG,[V[134]||(V[134]=Oe(" Sistem akan membuat ",-1)),n("strong",xG,A(Ie.value.length)+" penerimaan terpisah",1),V[135]||(V[135]=Oe(" dengan data sebagai berikut: ",-1))]),n("div",fG,[n("div",hG,[n("div",gG,[V[136]||(V[136]=n("span",{class:"text-gray-600"},"Incoming Number:",-1)),n("span",pG,A($.value.incomingNumber),1)]),n("div",mG,[V[137]||(V[137]=n("span",{class:"text-gray-600"},"No PO:",-1)),n("span",bG,A($.value.noPo),1)]),n("div",yG,[V[138]||(V[138]=n("span",{class:"text-gray-600"},"No Surat Jalan:",-1)),n("span",vG,A($.value.noSuratJalan),1)])])]),V[139]||(V[139]=n("div",{class:"mt-4 bg-yellow-50 border border-yellow-200 rounded p-3"},[n("p",{class:"text-xs text-yellow-800"},[n("strong",null," Catatan:"),Oe(" Setiap penerimaan akan dipisah berdasarkan kode item untuk memudahkan cetak checklist. ")])],-1))]),n("div",wG,[n("button",{onClick:V[27]||(V[27]=Z=>Ue.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 font-medium"}," Batal "),n("button",{onClick:xe,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium flex items-center"},[...V[140]||(V[140]=[n("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),Oe(" Ya, Lanjutkan ",-1)])])])])])):se("",!0)])]),_:1}))}}),AG=Object.freeze(Object.defineProperty({__proto__:null,default:CG},Symbol.toStringTag,{value:"Module"})),kG={class:"space-y-6"},BG={class:"flex justify-between items-center"},_G={class:"text-sm text-gray-600"},DG={key:0,class:"bg-yellow-50 rounded-lg shadow-sm border-2 border-yellow-200 mb-6"},SG={class:"p-4 border-b border-yellow-200 bg-yellow-100"},FG={class:"flex items-center justify-between"},TG={class:"flex items-center space-x-2"},MG={class:"text-lg font-semibold text-yellow-900"},IG={class:"overflow-x-auto"},PG={class:"min-w-full divide-y divide-yellow-200"},RG={class:"bg-white divide-y divide-yellow-100"},OG={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},NG={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},LG={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jG={class:"px-6 py-4 whitespace-nowrap"},UG=["onClick"],HG={class:"bg-white rounded-lg p-4 shadow"},zG={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 items-end"},VG={class:"md:col-span-3 lg:col-span-3"},qG={class:"flex flex-wrap gap-2"},WG={class:"md:col-span-1 lg:col-span-1"},QG={class:"bg-white rounded-lg shadow overflow-hidden"},GG={class:"overflow-x-auto"},KG={class:"min-w-full divide-y divide-gray-200"},YG={class:"bg-white divide-y divide-gray-200"},XG={key:0},JG={colspan:"8",class:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500"},ZG={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},eK=["onClick"],tK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},sK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rK={class:"px-6 py-4 whitespace-nowrap"},oK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},iK={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},aK={class:"flex space-x-2"},lK=["onClick"],dK=["onClick"],cK={key:1,class:"text-xs text-gray-400 italic"},uK=["onClick"],xK={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},fK={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},hK={class:"p-6"},gK={class:"flex justify-between items-center mb-6"},pK={class:"text-lg font-semibold text-gray-900"},mK={key:0,class:"bg-gray-50 rounded-lg p-4 mb-6"},bK={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},yK={class:"text-gray-900 font-medium"},vK={class:"text-gray-900"},wK={class:"text-gray-900"},EK={class:"bg-blue-50 rounded-lg p-4 mb-6"},CK={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},AK={class:"text-center"},kK={class:"text-2xl font-bold text-blue-600"},BK={class:"text-center"},_K={class:"text-2xl font-bold text-green-600"},DK={class:"text-center"},SK={class:"text-2xl font-bold text-gray-600"},FK={class:"mt-4"},TK={class:"flex justify-between text-sm mb-1"},MK={class:"text-blue-700"},IK={class:"w-full bg-blue-200 rounded-full h-2"},PK={class:"border border-gray-200 rounded-lg overflow-hidden"},RK={class:"overflow-x-auto"},OK={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},NK={class:"divide-y divide-gray-200 bg-white"},$K={class:"px-3 py-2 whitespace-nowrap"},LK=["onClick","disabled"],jK={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},UK={class:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},HK={class:"text-xs text-gray-600 font-normal"},zK={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},VK={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},qK={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},WK={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900 font-medium"},QK={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},GK={class:"px-3 py-2 whitespace-nowrap"},KK={class:"flex justify-between items-center mt-6 pt-6 border-t border-gray-200"},YK={class:"text-sm text-gray-600"},XK={class:"flex space-x-3"},JK=["disabled"],ZK={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},eY={class:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},tY={class:"p-6"},sY={class:"flex justify-between items-center mb-4"},nY={class:"text-lg font-semibold text-gray-900"},rY={key:0,class:"bg-gray-50 p-3 rounded-lg mb-4"},oY={class:"text-sm"},iY={class:"font-medium text-gray-900"},aY={class:"text-gray-600"},lY={class:"text-gray-600"},dY={class:"space-y-4"},cY={class:"bg-blue-50 p-3 rounded-lg"},uY={class:"text-sm font-medium text-blue-900"},xY={class:"text-xs text-blue-700"},fY={class:"relative bg-black rounded-lg overflow-hidden",style:{"aspect-ratio":"4/3"}},hY={key:0,class:"absolute inset-0 flex items-center justify-center"},gY={class:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-3 py-1 rounded text-xs"},pY={class:"flex space-x-2"},mY={class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bY={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},yY={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},vY={key:0,class:"space-y-2"},wY={class:"block text-sm font-medium text-gray-700"},EY=["max"],CY={key:0,class:"text-sm text-red-600 font-medium mt-1 flex items-center"},AY={class:"flex space-x-3"},kY={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},BY={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},_Y={class:"p-6"},DY={class:"flex justify-between items-center mb-6"},SY={class:"text-lg font-semibold text-gray-900"},FY={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},TY={class:"bg-blue-50 p-4 rounded-lg"},MY={class:"text-2xl font-bold text-blue-600"},IY={class:"bg-green-50 p-4 rounded-lg"},PY={class:"text-2xl font-bold text-green-600"},RY={class:"bg-gray-50 p-4 rounded-lg"},OY={class:"text-2xl font-bold text-gray-600"},NY={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},$Y={class:"overflow-x-auto"},LY={class:"min-w-full divide-y divide-gray-200"},jY={class:"divide-y divide-gray-200"},UY={class:"px-4 py-3 text-sm font-medium text-gray-900"},HY={class:"px-4 py-3 text-sm text-gray-900"},zY={class:"px-4 py-3 text-sm text-gray-900"},VY={class:"px-4 py-3 text-sm text-gray-900"},qY={class:"px-4 py-3 text-sm text-gray-900"},WY={class:"px-4 py-3 text-sm text-gray-900"},QY={class:"px-4 py-3"},GY={class:"px-4 py-3 text-sm text-gray-900"},KY={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},YY={class:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},XY={class:"p-6"},JY={class:"flex justify-between items-center mb-6 border-b pb-4"},ZY={class:"text-xl font-bold text-gray-900"},eX={key:0,class:"bg-red-50 border-2 border-red-200 rounded-lg p-4 mb-6"},tX={key:1,class:"bg-green-50 border-2 border-green-200 rounded-lg p-4 mb-6"},sX={class:"border rounded-lg overflow-hidden shadow-sm"},nX={class:"overflow-x-auto"},rX={class:"min-w-full divide-y divide-gray-200"},oX={class:"bg-gray-50"},iX={class:"px-4 py-3 text-left"},aX={class:"bg-white divide-y divide-gray-200"},lX={class:"px-4 py-3"},dX=["value"],cX={class:"px-4 py-3 text-sm font-medium text-gray-900"},uX={class:"px-4 py-3 text-sm text-gray-700"},xX={class:"px-4 py-3 text-sm text-gray-700 font-mono"},fX={class:"px-4 py-3 text-sm text-gray-700"},hX={class:"px-4 py-3"},gX={class:"px-4 py-3 text-sm text-gray-700 font-medium"},pX={class:"px-4 py-3 text-center"},mX=["onClick","disabled"],bX={key:0,class:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24"},yX={key:1},vX={key:2},wX={key:1,class:"text-gray-400 text-xs"},EX={key:2,class:"mt-4 p-4 bg-red-50 border border-red-200 rounded"},CX={class:"text-red-800 text-xl text-end font-medium"},AX={class:"flex justify-between items-center mt-6 pt-4 border-t"},kX=["disabled"],BX={key:0,class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},_X={key:1,class:"bg-white text-blue-600 px-2 py-1 rounded text-xs font-bold"},DX={key:5,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[10000]"},SX={class:"bg-white rounded-lg max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl"},FX={class:"p-6"},TX={class:"mb-6 bg-red-50 border-2 border-red-200 rounded-lg p-4"},MX={class:"font-semibold text-gray-900"},IX={class:"grid grid-cols-2 gap-2 mt-2 text-sm"},PX={class:"font-mono"},RX={class:"text-red-600"},OX={class:"mb-4"},NX={class:"text-sm text-green-600 font-semibold mb-3"},$X={class:"flex justify-between"},LX={class:"font-mono font-bold"},jX={class:"text-sm text-gray-600"},UX={class:"text-sm"},HX={class:"text-right"},zX={class:"text-2xl font-bold text-green-700"},VX={class:"text-xs"},qX={key:0,class:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-4"},WX={class:"text-yellow-800 font-medium"},QX={class:"flex justify-end space-x-3"},GX=["disabled"],KX={__name:"PickingList",setup(e){const t=de("ALL"),s=de(""),r=de([]),i=de(!1),a=de(!1),d=de(!1),u=de(null),g=de(null),h=de(""),m=de(1),b=de(null),v=de(0),C=de(""),_=de(""),F=de(!1),S=de(null),D=de(null),O=de(!1),P=de(!1),B=de("Kamera Off");let U=null,z=null;const j={box:{SHP001:"SHP001|LOT001|50|2025-12-31|ACTIVE",SHP002:"SHP002|LOT002|100|2025-12-31|ACTIVE",20008:"20008|BATCH-A|100|2024-10-01|ACTIVE",20009:"20009|BATCH-B|1100|2024-12-31|ACTIVE"}},H=async()=>{try{const Be=await Rt.get(route("transaction.api.picking-list"));r.value=Be.data,console.log("=== DEBUG BATCH RECORD ==="),console.log("First task:",Be.data[0]),console.log("Batch Record:",Be.data[0]?.batchRecord),console.log("==========================")}catch(Be){console.error("Error fetching picking list:",Be)}},I=de(!1),$=de(null),J=de({hasIssues:!1,materials:[]}),K=de([]),ie=de(!1),fe=de(!1),q=de(0);let le=null;const he=de(!1),ve=de({oldMaterial:null,replacements:[],fullyAllocated:!1,shortfall:0,totalAllocated:0}),Ie=de(!1),Ue=Ze(()=>u.value?.items?u.value.items.length:0),be=Ze(()=>u.value?.items?u.value.items.filter(Be=>Be.status==="Picked").length:0);Ze(()=>u.value?.items?u.value.items.filter(Be=>Be.status==="Short-Pick").length:0);const qe=Ze(()=>u.value?.items?u.value.items.filter(Be=>Be.status==="Reserved"||Be.status==="In Progress").length:0),ot=Ze(()=>u.value?.items?u.value.items.filter(Be=>Be.status==="Picked"||Be.status==="Short-Pick").length:0),Ge=Ze(()=>{if(!u.value?.items)return 0;const Be=u.value.items.length,ue=ot.value;return Be>0?ue/Be*100:0}),dt=Ze(()=>u.value?.items?u.value.items.every(Be=>Be.status==="Picked"||Be.status==="Short-Pick"):!1),ze=Ze(()=>["","Scan QR Box/Material untuk validasi kode dan batch","Scan QR Source Bin untuk validasi lokasi pengambilan","Input quantity yang dipick","Scan QR Dest Bin (Staging Area) untuk validasi transfer"][m.value]),xt=Ze(()=>g.value?.items?g.value.items.length:0),ft=Ze(()=>g.value?.items?g.value.items.filter(Be=>Be.status==="Picked").length:0);Ze(()=>g.value?.items?g.value.items.filter(Be=>Be.status==="Short-Pick").length:0);const yt=Ze(()=>g.value?.items?g.value.items.filter(Be=>Be.status==="Reserved"||Be.status==="In Progress").length:0),vt=async()=>{try{B.value="Mengaktifkan kamera...";const Be={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}};U=await navigator.mediaDevices.getUserMedia(Be),S.value&&(S.value.srcObject=U,O.value=!0,P.value=!0,B.value="Kamera Aktif - Siap Scan",ne())}catch(Be){console.error("Error accessing camera:",Be),B.value="Error: Tidak dapat mengakses kamera",console.error("Tidak dapat mengakses kamera. Pastikan Anda memberikan izin akses kamera.")}},it=()=>{U&&(U.getTracks().forEach(Be=>Be.stop()),U=null),S.value&&(S.value.srcObject=null),z&&(clearInterval(z),z=null),O.value=!1,P.value=!1,B.value="Kamera Off"},Et=()=>{O.value?it():vt()},ne=()=>{z=setInterval(()=>{!P.value||S.value},100)},ge=()=>{if(!b.value)return;let Be="";switch(m.value){case 1:Be=j.box[b.value.kodeItem]?`${b.value.kodeItem}|${b.value.lotSerial}|100|2025-12-31|ACTIVE`:`${b.value.kodeItem}|${b.value.lotSerial}|50|2025-12-31|ACTIVE`;break;case 2:Be=b.value.sourceBin;break;case 4:Be=b.value.destBin;break;default:console.warn("Step ini tidak memerlukan scan QR");return}h.value=Be;const ue=B.value;B.value=" QR Terdeteksi!",setTimeout(()=>{B.value=ue,Qt()},500)},Te=Ze(()=>r.value.filter(Be=>{const ue=t.value==="ALL"||Be.status===t.value||t.value==="Pending"&&(Be.status==="Reserved"||Be.status==="Ready to Pick"),Me=s.value.toLowerCase().trim(),Gt=!Me||Be.batchRecord&&Be.batchRecord.toLowerCase().includes(Me),Ws=Be.toGenerated;return ue&&Gt&&Ws})),He=Ze(()=>r.value.filter(Be=>!Be.toGenerated)),xe=Be=>({Reserved:"bg-gray-100 text-gray-800",Pending:"bg-gray-100 text-gray-800","In Progress":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800","Short-Pick":"bg-orange-100 text-orange-800"})[Be]||"bg-gray-100 text-gray-800",ee=Be=>({Reserved:"bg-gray-100 text-gray-700",Pending:"bg-gray-100 text-gray-700",Picked:"bg-green-100 text-green-700","Short-Pick":"bg-orange-100 text-orange-700"})[Be]||"bg-gray-100 text-gray-700",N=Be=>({Picked:"bg-green-50","Short-Pick":"bg-orange-50",Reserved:"bg-white",Pending:"bg-white"})[Be]||"bg-white",E=Be=>{if(!Be)return"-";try{return new Date(Be).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return Be}},M=Be=>{if(!Be.pickingStartedAt)return"-";const ue=new Date(Be.pickingStartedAt),Gt=(Be.pickingCompletedAt?new Date(Be.pickingCompletedAt):new Date)-ue;if(Gt<0)return"-";const Ws=Math.floor(Gt/1e3),es=Math.floor(Ws/3600),Qs=Math.floor(Ws%3600/60);return es>0?`${es} jam ${Qs} menit`:Qs>0?`${Qs} menit`:"< 1 menit"},ae=Be=>{console.log(`Melihat detail reservasi: ${Be}`)},Fe=Be=>{g.value=Be,d.value=!0},Qe=async Be=>{if(u.value=JSON.parse(JSON.stringify(Be)),Be.status==="Reserved"||Be.status==="Pending"||Be.status==="Ready to Pick"||Be.status==="In Progress")try{await Rt.post(route("transaction.picking-list.update-status",Be.id),{status:"In Progress"});const ue=r.value.findIndex(Me=>Me.id===Be.id);ue!==-1&&(r.value[ue].status="In Progress",u.value.status="In Progress",console.log(`Status Task ${Be.toNumber} diubah menjadi In Progress.`))}catch(ue){console.error("Gagal update status task:",ue),alert("Gagal memulai Picking Task: "+(ue.response?.data?.message||ue.message))}i.value=!0},Je=()=>{i.value=!1,u.value=null,ht(),H()},nt=()=>{d.value=!1,g.value=null},bt=(Be,ue)=>{Be.status!=="Picked"&&(b.value=JSON.parse(JSON.stringify(Be)),v.value=ue,a.value=!0,ht())},Ct=()=>{it(),a.value=!1,ht()},ht=()=>{m.value=1,h.value="",C.value="",F.value=!1,_.value=""},Qt=()=>{if(!h.value&&m.value!==3){console.error("Silakan scan atau input QR Code!");return}switch(m.value){case 1:jt(h.value);break;case 2:Ft(h.value);break;case 3:De();break;case 4:Y(h.value);break}},jt=Be=>{const ue=Be.split("|");if(ue.length<2){console.error("Format QR Box tidak valid! Harap ikuti format: ITEM_CODE|BATCH_LOT|...");return}const Me=ue[0],Gt=ue[1];if(Me!==b.value.kodeItem||Gt!==b.value.lotSerial){console.error(`Item/Batch tidak sesuai!
Harus: ${b.value.kodeItem} - ${b.value.lotSerial}
Di-scan: ${Me} - ${Gt}`);return}m.value=2,h.value="",console.log(` Item valid: ${b.value.kodeItem} - ${b.value.lotSerial}`)},Ht=()=>{const Be=parseFloat(C.value),ue=b.value?.qtyDiminta||0;if(C.value===""||C.value===null){F.value=!1,_.value="";return}if(isNaN(Be)||Be<=0){F.value=!0,_.value="Quantity harus lebih dari 0";return}if(Be>ue){F.value=!0,_.value=`Quantity melebihi maksimal! Max: ${ue} ${b.value?.uom||""}`;return}F.value=!1,_.value=""},Ft=Be=>{if(b.value){if(Be!==b.value.sourceBin){console.error(`Lokasi bin salah!
Harus: ${b.value.sourceBin}
Di-scan: ${Be}`);return}m.value=3,h.value="",C.value=b.value.qtyDiminta,console.log(` Source Bin valid: ${Be}`)}},De=()=>{const Be=parseFloat(C.value);if(isNaN(Be)||Be<=0){F.value=!0,_.value="Silakan input quantity yang valid!",console.error("Silakan input quantity yang valid!");return}const ue=b.value.qtyDiminta;if(Be>ue){F.value=!0,_.value=`Quantity melebihi maksimal! Max: ${ue} ${b.value.uom}`,console.error(`Quantity melebihi yang dialokasikan!
Dialokasikan: ${ue}
Input: ${Be}`);return}F.value=!1,_.value="",b.value.qtyPicked=Be,Be===ue?(b.value.status="Picked",console.log(` Batch berhasil dipick complete: ${Be}/${ue}`)):(b.value.status="Short-Pick",console.warn(` Short-pick detected: ${Be}/${ue}`));const Me=u.value.items.find(Gt=>Gt.id===b.value.id);Me&&(Me.qtyPicked=b.value.qtyPicked,Me.status=b.value.status),b.value.destBin&&b.value.destBin!=="-"?(m.value=4,h.value=""):G()},Y=Be=>{if(b.value){if(Be!==b.value.destBin){console.error(`Destination bin salah!
Harus: ${b.value.destBin}
Di-scan: ${Be}`);return}console.log(` Destination Bin valid: ${Be}`),G()}},G=()=>{console.log(`Batch ${b.value.lotSerial} untuk ${b.value.kodeItem} berhasil diselesaikan!`),Ct(),u.value.items.filter(ue=>ue.status==="Reserved"||ue.status==="In Progress").length===0&&console.log('Semua alokasi batch sudah dipick! Silakan klik "Selesai Picking"')},Ce=()=>{m.value>1&&(m.value--,h.value="")},pt=async()=>{if(!u.value)return;if(!dt.value){console.error("Mohon selesaikan semua alokasi batch sebelum menyelesaikan picking task.");return}const Be=u.value.items.map(ue=>({reservation_id:ue.id,picked_quantity:ue.qtyPicked||0}));try{const ue=await Rt.post(route("transaction.picking-list.store"),{reservation_request_id:u.value.id,items:Be});let Me="Picking Task berhasil diselesaikan dan status diperbarui.";ue.data&&ue.data.flash&&ue.data.flash.message&&(Me=ue.data.flash.message),alert(Me),Je()}catch(ue){console.error("Error finishing picking:",ue),ue.response?ue.response.data&&ue.response.data.message?ue.response.data.message:ue.response.data&&ue.response.data.errors?Object.values(ue.response.data.errors).flat().join(`
`):`${ue.response.status}${ue.response.statusText}`:ue.request||ue.message,alert("Gagal menyelesaikan picking: "+(ue.response?.data?.message||"Terjadi kesalahan pada server."))}},At=Be=>{const ue=window.open("","_blank"),Me=Be.items.length,Gt=Be.items.filter(es=>es.status==="Picked").length,Ws=Be.items.filter(es=>es.status==="Short-Pick").length;ue.document.write(`
        <html>
            <head>
                <title>Picking List - ${Be.toNumber}</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
                    .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
                    .info-section { margin: 15px 0; }
                    .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
                    .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                    .items-table th, .items-table td { border: 1px solid #000; padding: 6px; text-align: left; font-size: 11px; }
                    .items-table th { background-color: #f0f0f0; font-weight: bold; }
                    .picked { background-color: #e6ffe6; }
                    .short-pick { background-color: #fff2e6; }
                    .summary { margin: 20px 0; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd; }
                    .signature { margin-top: 40px; display: flex; justify-content: space-between; }
                    .signature div { text-align: center; }
                    .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
                    @media print {
                        body { margin: 0; font-size: 10px; }
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h2>PICKING LIST</h2>
                    <p><strong>TO Number: ${Be.toNumber}</strong></p>
                    <p>Creation Date: ${E(Be.tanggalDibuat)} | Warehouse: Main WH</p>
                </div>
                
                <div class="info-section">
                    <div class="info-row">
                        <span><strong>No Reservasi:</strong> ${Be.noReservasi}</span>
                        <span><strong>Transaction Type:</strong> Picking</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Requester:</strong> ${Be.requester}</span>
                        <span><strong>Departemen:</strong> ${Be.departemen}</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Status:</strong> ${Be.status}</span>
                        <span><strong>Print Date:</strong> ${new Date().toLocaleString("id-ID")}</span>
                    </div>
                </div>

                <div class="summary">
                    <strong>Summary:</strong> Total ${Me} Batch Alokasi | Picked: ${Gt} | Short-pick: ${Ws} | Pending: ${Me-Gt-Ws}
                </div>
                
                <table class="items-table">
                    <thead>
                        <tr>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">No</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Code Item</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 25%;">Material Description</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Batch/Lot</th>
                            <th colspan="2" style="text-align: center; width: 20%;">Bin Location</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 8%;">Qty Alokasi</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">UoM</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Qty Picked</th>
                        </tr>
                        <tr>
                            <th style="text-align: center; width: 10%;">Source Bin Location</th>
                            <th style="text-align: center; width: 10%;">Dest. Bin Location</th>
                        </tr>
                    </thead>
                    <tbody>
                    ${Be.items.map((es,Qs)=>`
                        <tr class="${es.status==="Picked"?"picked":es.status==="Short-Pick"?"short-pick":""}" style="height: 40px;">
                            <td style="text-align: center; vertical-align: middle;">${Qs+1}</td>
                            <td style="vertical-align: middle;">${es.kodeItem}</td>
                            <td style="vertical-align: middle;">${es.namaMaterial}</td>
                            <td style="text-align: center; vertical-align: middle;">${es.lotSerial}</td>
                            <td style="text-align: center; vertical-align: middle;">${es.sourceBin}</td>
                            <td style="text-align: center; vertical-align: middle;">Production Area</td>
                            <td style="text-align: center; vertical-align: middle;">${es.qtyDiminta}</td>
                            <td style="text-align: center; vertical-align: middle;">${es.uom}</td>
                            <td style="text-align: center; vertical-align: middle;">${es.qtyPicked||""}</td>
                        </tr>
                    `).join("")}
                    </tbody>
                </table>
                
                <div class="signature">
                    <div>
                        <p>Diserahkan Oleh:</p>
                        <div class="signature-line"></div>
                        <p>Warehouse Staff</p>
                    </div>
                    <div>
                        <p>Diterima Oleh:</p>
                        <div class="signature-line"></div>
                        <p>${Be.requester}</p>
                    </div>
                    <div>
                        <p>Mengetahui:</p>
                        <div class="signature-line"></div>
                        <p>Supervisor</p>
                    </div>
                </div>
            </body>
        </html>
    `),ue.document.close(),ue.focus(),setTimeout(()=>{ue.print(),ue.close()},500)},zt=Be=>Be==="expired"?"bg-red-50":Be==="near-expiry"?"bg-yellow-50":"",me=Be=>Be==="expired"?"bg-red-100 text-red-700":Be==="near-expiry"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700",te=Be=>Be.status==="expired"?`Expired (${Math.abs(Be.daysUntilExpiry)} hari lalu)`:Be.status==="near-expiry"?`Mendekati Expired (${Be.daysUntilExpiry} hari lagi)`:"OK",ye=()=>{ie.value?K.value=J.value.materials.map(Be=>Be.reservationId):K.value=[],ct()},ct=()=>{le&&clearInterval(le),q.value=5,le=setInterval(()=>{q.value--,q.value<=0&&(clearInterval(le),le=null,q.value=0)},1e3)},$t=Ze(()=>fe.value||q.value>0),Is=Ze(()=>q.value>0?`Generate TO Number (${q.value}s)`:"Generate TO Number"),Ut=Be=>Be?new Date(Be).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-",cs=Be=>{if(Be==null)return"0";const ue=parseFloat(Be);return isNaN(ue)?"0":ue===Math.floor(ue)?ue.toString():ue.toFixed(6).replace(/\.?0+$/,"")},Js=async Be=>{$.value=Be;try{const ue=await Rt.post(`/transaction/picking-list/analyze-expiry/${Be.id}`);ue.data.success?(J.value=ue.data,I.value=!0):alert("Gagal menganalisis materials: "+ue.data.message)}catch(ue){console.error("Expiry analysis failed:",ue),alert("Gagal menganalisis material: "+(ue.response?.data?.message||ue.message))}},_e=async()=>{if(!fe.value)try{fe.value=!0;const Be=await Rt.post(`/transaction/picking-list/generate-to/${$.value.id}`,{removedReservationIds:K.value});Be.data.success?(alert(` ${Be.data.message}

TO Number: ${Be.data.toNumber}`),K.value.length>0&&alert(` ${K.value.length} material telah dihapus dari picking list dan qty dikembalikan ke stok.`),re(),console.log(" Fetching updated picking list..."),await H(),console.log(" Data after refresh:",{totalTasks:r.value.length,pendingCount:r.value.filter(ue=>!ue.toGenerated).length,generatedCount:r.value.filter(ue=>ue.toGenerated).length,tasks:r.value.map(ue=>({id:ue.id,noReservasi:ue.noReservasi,toNumber:ue.toNumber,toGenerated:ue.toGenerated,status:ue.status}))}),t.value="ALL",console.log(" Filter changed to ALL")):alert(" Gagal generate TO: "+Be.data.message)}catch(Be){console.error("TO generation failed:",Be),alert(" Gagal generate TO Number: "+(Be.response?.data?.message||Be.message))}finally{fe.value=!1}},re=()=>{I.value=!1,$.value=null,J.value={hasIssues:!1,materials:[]},K.value=[],ie.value=!1,fe.value=!1,le&&(clearInterval(le),le=null),q.value=0},pe=async Be=>{Be.searchingReplacement=!0;try{const ue=await Rt.post("/transaction/picking-list/find-replacement",{reservationId:Be.reservationId,materialCode:Be.materialCode,qtyNeeded:Be.qtyAllocated,uom:Be.uom});ue.data.success&&ue.data.hasReplacement?(ve.value={oldMaterial:Be,replacements:ue.data.replacements,fullyAllocated:ue.data.fullyAllocated,shortfall:ue.data.shortfall||0,totalAllocated:ue.data.totalAllocated},he.value=!0):alert(" Tidak ada stock pengganti yang tersedia untuk material ini")}catch(ue){console.error("Find replacement failed:",ue),alert("Gagal mencari pengganti: "+(ue.response?.data?.message||ue.message))}finally{Be.searchingReplacement=!1}},ut=async()=>{if(!Ie.value)try{Ie.value=!0;const Be=await Rt.post("/transaction/picking-list/replace-material",{oldReservationId:ve.value.oldMaterial.reservationId,replacements:ve.value.replacements.map(ue=>({stockId:ue.stockId,qtyToAllocate:ue.qtyToAllocate,binId:ue.binId,materialId:ue.materialId,warehouseId:ue.warehouseId}))});Be.data.success?(alert(` ${Be.data.message}

Diganti dengan ${Be.data.replacementCount} batch baru`),tt(),await Js($.value)):alert(" Gagal mengganti material: "+Be.data.message)}catch(Be){console.error("Replace material failed:",Be),alert(" Gagal mengganti material: "+(Be.response?.data?.message||Be.message))}finally{Ie.value=!1}},tt=()=>{he.value=!1,ve.value={oldMaterial:null,replacements:[],fullyAllocated:!1,shortfall:0,totalAllocated:0},Ie.value=!1};return gn(()=>{H()}),U0(()=>{it(),le&&(clearInterval(le),le=null)}),(Be,ue)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[n("div",kG,[n("div",BG,[ue[9]||(ue[9]=n("h2",{class:"text-2xl font-bold text-gray-900"},"Picking List (Transfer Order)",-1)),n("div",_G," Total picking tasks: "+A(r.value.length),1)]),He.value.length>0?(T(),R("div",DG,[n("div",SG,[n("div",FG,[n("div",TG,[ue[10]||(ue[10]=n("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),n("h3",MG," Reservasi Menunggu Generate TO Number ("+A(He.value.length)+") ",1)])])]),n("div",IG,[n("table",PG,[ue[13]||(ue[13]=n("thead",{class:"bg-yellow-100"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-yellow-900 uppercase tracking-wider"},"No Reservasi"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-yellow-900 uppercase tracking-wider"},"Batch Record (MO)"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-yellow-900 uppercase tracking-wider"},"Tanggal Dibuat"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-yellow-900 uppercase tracking-wider"},"Requester"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-yellow-900 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-yellow-900 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",RG,[(T(!0),R(Ye,null,at(He.value,Me=>(T(),R("tr",{key:Me.id,class:"hover:bg-yellow-50"},[n("td",OG,A(Me.noReservasi),1),n("td",NG,A(Me.batchRecord||"-"),1),n("td",$G,A(E(Me.tanggalDibuat)),1),n("td",LG,A(Me.requester),1),ue[12]||(ue[12]=n("td",{class:"px-6 py-4 whitespace-nowrap"},[n("span",{class:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800"}," Pending TO ")],-1)),n("td",jG,[n("button",{onClick:Gt=>Js(Me),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center space-x-2"},[...ue[11]||(ue[11]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),n("span",null,"Generate Picking List",-1)])],8,UG)])]))),128))])])])])):se("",!0),n("div",HG,[n("div",zG,[n("div",VG,[ue[14]||(ue[14]=n("span",{class:"text-sm font-medium text-gray-700 block mb-2"},"Filter Status:",-1)),n("div",qG,[n("button",{onClick:ue[0]||(ue[0]=Me=>t.value="ALL"),class:Se([t.value==="ALL"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-blue-500 hover:text-white"])}," Semua ",2),n("button",{onClick:ue[1]||(ue[1]=Me=>t.value="Ready to Pick"),class:Se([t.value==="Ready to Pick"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-purple-500 hover:text-white"])}," Ready to Pick ",2),n("button",{onClick:ue[2]||(ue[2]=Me=>t.value="In Progress"),class:Se([t.value==="In Progress"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-yellow-500 hover:text-white"])}," Dalam Proses ",2),n("button",{onClick:ue[3]||(ue[3]=Me=>t.value="Completed"),class:Se([t.value==="Completed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-green-500 hover:text-white"])}," Selesai ",2)])]),n("div",WG,[ue[15]||(ue[15]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari Batch Record",-1)),we(n("input",{"onUpdate:modelValue":ue[4]||(ue[4]=Me=>s.value=Me),type:"text",placeholder:"Cari No Bets...",class:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Ve,s.value]])])])]),n("div",QG,[n("div",GG,[n("table",KG,[ue[16]||(ue[16]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Reservasi"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch Record (MO)"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Dibuat"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Requester / Departemen"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Durasi"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",YG,[Te.value.length===0?(T(),R("tr",XG,[n("td",JG," Tidak ada Picking Task yang ditemukan untuk status "+A(t.value==="ALL"?"apapun":t.value)+". ",1)])):se("",!0),(T(!0),R(Ye,null,at(Te.value,Me=>(T(),R("tr",{key:Me.id,class:"hover:bg-gray-50"},[n("td",ZG,A(Me.toNumber),1),n("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 hover:underline cursor-pointer",onClick:Gt=>ae(Me.noReservasi)},A(Me.noReservasi),9,eK),n("td",tK,A(Me.batchRecord||"N/A"),1),n("td",sK,A(E(Me.tanggalDibuat)),1),n("td",nK,A(Me.requester)+" / "+A(Me.departemen),1),n("td",rK,[n("span",{class:Se([xe(Me.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(Me.status),3)]),n("td",oK,A(M(Me)),1),n("td",iK,[n("div",aK,[n("button",{onClick:Gt=>Fe(Me),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-2 py-1 rounded text-xs"}," Detail ",8,lK),Me.toGenerated&&(Me.status==="Pending"||Me.status==="Reserved"||Me.status==="In Progress"||Me.status==="Ready to Pick")?(T(),R("button",{key:0,onClick:Gt=>Qe(Me),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"}," Kerjakan ",8,dK)):Me.toGenerated?se("",!0):(T(),R("span",cK," (TO belum digenerate) ")),n("button",{onClick:Gt=>At(Me),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Picking List ",8,uK)])])]))),128))])])])]),i.value?(T(),R("div",xK,[n("div",fK,[n("div",hK,[n("div",gK,[n("h3",pK,"Detail Picking Task - "+A(u.value?.toNumber),1),n("button",{onClick:Je,class:"text-gray-400 hover:text-gray-600"},[...ue[17]||(ue[17]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),u.value?(T(),R("div",mK,[n("div",bK,[n("div",null,[ue[18]||(ue[18]=n("span",{class:"text-sm font-medium text-gray-700"},"TO Number:",-1)),n("div",yK,A(u.value.toNumber),1)]),n("div",null,[ue[19]||(ue[19]=n("span",{class:"text-sm font-medium text-gray-700"},"No Reservasi:",-1)),n("div",{class:"text-blue-600 cursor-pointer hover:underline",onClick:ue[5]||(ue[5]=Me=>ae(u.value.noReservasi))},A(u.value.noReservasi),1)]),n("div",null,[ue[20]||(ue[20]=n("span",{class:"text-sm font-medium text-gray-700"},"Tanggal Dibuat:",-1)),n("div",vK,A(E(u.value.tanggalDibuat)),1)]),n("div",null,[ue[21]||(ue[21]=n("span",{class:"text-sm font-medium text-gray-700"},"Requester:",-1)),n("div",wK,A(u.value.requester)+" / "+A(u.value.departemen),1)])])])):se("",!0),n("div",EK,[n("div",CK,[n("div",AK,[n("div",kK,A(Ue.value),1),ue[22]||(ue[22]=n("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),n("div",BK,[n("div",_K,A(be.value),1),ue[23]||(ue[23]=n("div",{class:"text-sm text-green-700"},"Picked Complete",-1))]),n("div",DK,[n("div",SK,A(qe.value),1),ue[24]||(ue[24]=n("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),n("div",FK,[n("div",TK,[ue[25]||(ue[25]=n("span",{class:"text-blue-700"},"Progress Picking",-1)),n("span",MK,A(Math.round(Ge.value))+"%",1)]),n("div",IK,[n("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Rr({width:Ge.value+"%"})},null,4)])])]),n("div",PK,[n("div",RK,[n("table",OK,[ue[28]||(ue[28]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"No"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Kode Item / Nama Material"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Lot/Batch"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[150px]"},"Source Bin"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Dialokasikan"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"UoM"),n("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Status")])],-1)),n("tbody",NK,[(T(!0),R(Ye,null,at(u.value?.items||[],(Me,Gt)=>(T(),R("tr",{key:Gt,class:Se(Me.status==="Picked"?"bg-green-50":Me.status==="Short-Pick"?"bg-orange-50":"")},[n("td",$K,[n("button",{onClick:Ws=>bt(Me,Gt),disabled:Me.status==="Picked",class:Se([Me.status==="Picked"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white","px-3 py-1 rounded text-xs font-medium transition-colors duration-200"])},[ue[26]||(ue[26]=n("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1)),Oe(" "+A(Me.status==="Picked"?"Done":"Scan QR"),1)],10,LK)]),n("td",jK,A(Gt+1),1),n("td",UK,[Oe(A(Me.kodeItem)+" ",1),ue[27]||(ue[27]=n("br",null,null,-1)),n("span",HK,A(Me.namaMaterial),1)]),n("td",zK,A(Me.lotSerial),1),n("td",VK,A(Me.sourceBin),1),n("td",qK,A(Me.expDate?new Date(Me.expDate).toLocaleDateString("id-ID"):"-"),1),n("td",WK,A(cs(Me.qtyDiminta)),1),n("td",QK,A(Me.uom),1),n("td",GK,[n("span",{class:Se([ee(Me.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(Me.status),3)])],2))),128))])])])]),n("div",KK,[n("div",YK," Progress: "+A(ot.value)+"/"+A(u.value?.items?.length||0)+" batch allocations completed ",1),n("div",XK,[n("button",{onClick:Je,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),n("button",{onClick:pt,disabled:!dt.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"}," Selesai Picking ",8,JK)])])])])])):se("",!0),a.value?(T(),R("div",ZK,[n("div",eY,[n("div",tY,[n("div",sY,[n("h3",nY,"QR Scanner - Batch Item #"+A(v.value+1),1),n("button",{onClick:Ct,class:"text-gray-400 hover:text-gray-600"},[...ue[29]||(ue[29]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),b.value?(T(),R("div",rY,[n("div",oY,[n("div",iY,A(b.value.kodeItem)+" - "+A(b.value.namaMaterial),1),n("div",aY,"Batch: "+A(b.value.lotSerial)+" | Qty Alokasi: "+A(b.value.qtyDiminta)+" "+A(b.value.uom),1),n("div",lY,"Source: "+A(b.value.sourceBin)+" ("+A(b.value.sourceWarehouse)+")",1)])])):se("",!0),n("div",dY,[n("div",cY,[n("div",uY,"Step "+A(m.value)+"/4",1),n("div",xY,A(ze.value),1)]),n("div",fY,[n("video",{ref_key:"videoElement",ref:S,autoplay:"",playsinline:"",class:"w-full h-full object-cover"},null,512),n("canvas",{ref_key:"canvasElement",ref:D,class:"hidden"},null,512),P.value?(T(),R("div",hY,[...ue[30]||(ue[30]=[n("div",{class:"border-4 border-green-500 rounded-lg",style:{width:"250px",height:"250px"}},[n("div",{class:"absolute inset-0 border-2 border-white opacity-50 animate-pulse"})],-1)])])):se("",!0),n("div",gY,A(B.value),1)]),n("div",pY,[n("button",{onClick:Et,class:Se([O.value?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700","flex-1 text-white py-2 px-4 rounded-md flex items-center justify-center"])},[(T(),R("svg",mY,[O.value?(T(),R("path",yY)):(T(),R("path",bY))])),Oe(" "+A(O.value?"Matikan Kamera":"Aktifkan Kamera"),1)],2),n("button",{onClick:ge,class:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-md flex items-center justify-center"},[...ue[31]||(ue[31]=[n("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),Oe(" Simulasi Scan ",-1)])])]),m.value===3?(T(),R("div",vY,[n("label",wY,"Qty yang Dipick (Max: "+A(cs(b.value?.qtyDiminta))+" "+A(b.value?.uom||"")+"):",1),we(n("input",{"onUpdate:modelValue":ue[6]||(ue[6]=Me=>C.value=Me),type:"number",step:"any",min:"0",max:b.value?.qtyDiminta,onInput:Ht,placeholder:"Masukkan quantity...",class:Se([F.value?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500","w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-white text-gray-900"])},null,42,EY),[[Ve,C.value,void 0,{number:!0}]]),F.value?(T(),R("p",CY,[ue[32]||(ue[32]=n("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),Oe(" "+A(_.value),1)])):se("",!0)])):se("",!0),n("div",AY,[n("button",{onClick:Qt,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md"},A(m.value===3?"Confirm Qty":"Process QR"),1),m.value>1?(T(),R("button",{key:0,onClick:Ce,class:"bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-md"}," Back ")):se("",!0)])])])])])):se("",!0),d.value?(T(),R("div",kY,[n("div",BY,[n("div",_Y,[n("div",DY,[n("h3",SY,"Summary Detail - "+A(g.value?.toNumber),1),n("button",{onClick:nt,class:"text-gray-400 hover:text-gray-600"},[...ue[33]||(ue[33]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",FY,[n("div",TY,[n("div",MY,A(xt.value),1),ue[34]||(ue[34]=n("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),n("div",IY,[n("div",PY,A(ft.value),1),ue[35]||(ue[35]=n("div",{class:"text-sm text-green-700"},"Batch Picked Complete",-1))]),n("div",RY,[n("div",OY,A(yt.value),1),ue[36]||(ue[36]=n("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),n("div",NY,[ue[38]||(ue[38]=n("div",{class:"px-4 py-3 bg-gray-50 border-b border-gray-200"},[n("h4",{class:"text-sm font-medium text-gray-900"},"Detail Alokasi Batch")],-1)),n("div",$Y,[n("table",LY,[ue[37]||(ue[37]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Alokasi"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Picked"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin")])],-1)),n("tbody",jY,[(T(!0),R(Ye,null,at(g.value?.items||[],(Me,Gt)=>(T(),R("tr",{key:Gt,class:Se(N(Me.status))},[n("td",UY,A(Me.kodeItem),1),n("td",HY,A(Me.namaMaterial),1),n("td",zY,A(Me.lotSerial),1),n("td",VY,A(cs(Me.qtyDiminta)),1),n("td",qY,A(Me.qtyPicked||0),1),n("td",WY,A(Me.uom),1),n("td",QY,[n("span",{class:Se([ee(Me.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(Me.status),3)]),n("td",GY,A(Me.sourceBin),1)],2))),128))])])])]),n("div",{class:"flex justify-end mt-6"},[n("button",{onClick:nt,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])])):se("",!0),I.value?(T(),R("div",KY,[n("div",YY,[n("div",XY,[n("div",JY,[n("h3",ZY," Analisis Material - "+A($.value?.noReservasi),1),n("button",{onClick:re,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...ue[39]||(ue[39]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),J.value.hasIssues?(T(),R("div",eX,[...ue[40]||(ue[40]=[n("div",{class:"flex items-start space-x-3"},[n("svg",{class:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),n("div",null,[n("p",{class:"text-red-800 font-semibold text-lg"}," Ditemukan material expired atau mendekati expired!"),n("p",{class:"text-red-700 text-sm mt-1"}," Silakan review material di bawah. Anda bisa centang dan hapus material yang bermasalah sebelum generate TO Number. ")])],-1)])])):(T(),R("div",tX,[...ue[41]||(ue[41]=[n("div",{class:"flex items-center space-x-3"},[n("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),n("p",{class:"text-green-800 font-semibold"}," Semua material dalam kondisi baik!")],-1)])])),n("div",sX,[n("div",nX,[n("table",rX,[n("thead",oX,[n("tr",null,[n("th",iX,[we(n("input",{type:"checkbox",onChange:ye,"onUpdate:modelValue":ue[7]||(ue[7]=Me=>ie.value=Me),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,544),[[Yn,ie.value]])]),ue[42]||(ue[42]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Kode Material",-1)),ue[43]||(ue[43]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Nama Material",-1)),ue[44]||(ue[44]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Batch/Lot",-1)),ue[45]||(ue[45]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Exp Date",-1)),ue[46]||(ue[46]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status",-1)),ue[47]||(ue[47]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Qty",-1)),ue[48]||(ue[48]=n("th",{class:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Aksi",-1))])]),n("tbody",aX,[(T(!0),R(Ye,null,at(J.value.materials,Me=>(T(),R("tr",{key:Me.reservationId,class:Se([zt(Me.status),"hover:bg-gray-100"])},[n("td",lX,[we(n("input",{type:"checkbox","onUpdate:modelValue":ue[8]||(ue[8]=Gt=>K.value=Gt),value:Me.reservationId,onChange:ct,class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,dX),[[Yn,K.value]])]),n("td",cX,A(Me.materialCode),1),n("td",uX,A(Me.materialName),1),n("td",xX,A(Me.batchLot),1),n("td",fX,A(Me.expiryDate?Ut(Me.expiryDate):"-"),1),n("td",hX,[n("span",{class:Se([me(Me.status),"px-2 py-1 rounded-full text-xs font-semibold"])},A(te(Me)),3)]),n("td",gX,A(cs(Me.qtyAllocated))+" "+A(Me.uom),1),n("td",pX,[Me.status==="expired"?(T(),R("button",{key:0,onClick:Gt=>pe(Me),disabled:Me.searchingReplacement,class:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-3 py-1 rounded text-xs font-medium transition-colors inline-flex items-center space-x-1"},[Me.searchingReplacement?(T(),R("svg",bX,[...ue[49]||(ue[49]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),Me.searchingReplacement?(T(),R("span",yX,"Mencari...")):(T(),R("span",vX," Ganti"))],8,mX)):(T(),R("span",wX,"-"))])],2))),128))])])])]),K.value.length>0?(T(),R("div",EX,[n("p",CX,A(K.value.length)+" material dipilih untuk dihapus ",1)])):se("",!0),n("div",AX,[n("button",{onClick:re,class:"px-6 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),n("button",{onClick:_e,disabled:$t.value,class:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center space-x-2"},[fe.value?(T(),R("svg",BX,[...ue[50]||(ue[50]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),n("span",null,A(Is.value),1),K.value.length>0?(T(),R("span",_X," -"+A(K.value.length),1)):se("",!0)],8,kX)])])])])):se("",!0),he.value?(T(),R("div",DX,[n("div",SX,[n("div",FX,[n("div",{class:"flex justify-between items-center mb-6 border-b pb-4"},[ue[52]||(ue[52]=n("h3",{class:"text-xl font-bold text-gray-900 flex items-center space-x-2"},[n("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),n("span",null,"Konfirmasi Penggantian Material")],-1)),n("button",{onClick:tt,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...ue[51]||(ue[51]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",TX,[ue[57]||(ue[57]=n("p",{class:"text-sm text-red-600 font-semibold mb-2"},"Material Lama (Expired - Akan Dihapus)",-1)),n("p",MX,A(ve.value.oldMaterial?.materialName),1),n("div",IX,[n("div",null,[ue[53]||(ue[53]=n("span",{class:"text-gray-600"},"Batch:",-1)),ue[54]||(ue[54]=Oe()),n("span",PX,A(ve.value.oldMaterial?.batchLot),1)]),n("div",null,[ue[55]||(ue[55]=n("span",{class:"text-gray-600"},"Exp:",-1)),ue[56]||(ue[56]=Oe()),n("span",RX,A(Ut(ve.value.oldMaterial?.expiryDate)),1)])])]),n("div",OX,[n("p",NX,"Material Pengganti ("+A(ve.value.replacements?.length||0)+" Batch)",1),(T(!0),R(Ye,null,at(ve.value.replacements,(Me,Gt)=>(T(),R("div",{key:Gt,class:"bg-green-50 border border-green-200 rounded-lg p-4 mb-2"},[n("div",$X,[n("div",null,[n("p",LX,A(Me.batchLot),1),n("p",jX,"Exp: "+A(Ut(Me.expiryDate))+" ("+A(Me.daysUntilExpiry)+" hari)",1),n("p",UX,"Bin: "+A(Me.binCode),1)]),n("div",HX,[n("p",zX,A(Me.qtyToAllocate),1),n("p",VX,A(ve.value.oldMaterial?.uom),1)])])]))),128))]),ve.value.fullyAllocated?se("",!0):(T(),R("div",qX,[n("p",WX," Stock tidak mencukupi. Kurang: "+A(ve.value.shortfall)+" "+A(ve.value.oldMaterial?.uom),1)])),n("div",QX,[n("button",{onClick:tt,class:"px-4 py-2 bg-gray-200 rounded"},"Batal"),n("button",{onClick:ut,disabled:Ie.value,class:"px-6 py-2 bg-green-600 text-white rounded disabled:bg-gray-400"},A(Ie.value?"Mengganti...":" Konfirmasi Ganti"),9,GX)])])])])):se("",!0)])]),_:1}))}},YX=Object.freeze(Object.defineProperty({__proto__:null,default:KX},Symbol.toStringTag,{value:"Module"})),XX={class:"min-h-screen bg-gray-50 p-6"},JX={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},ZX={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},eJ={class:"bg-white rounded-lg shadow-sm overflow-hidden"},tJ={class:"px-6 py-4 border-b border-gray-200"},sJ={class:"text-sm text-gray-600 mt-1"},nJ={class:"overflow-x-auto desktop-to-table-wrapper"},rJ={class:"w-full"},oJ={class:"bg-white divide-y divide-gray-200"},iJ={key:0},aJ={class:"px-6 py-4 whitespace-nowrap"},lJ={class:"font-medium text-gray-900"},dJ={key:0,class:"text-sm text-gray-500"},cJ={key:1,class:"mt-1"},uJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},fJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},hJ={class:"px-6 py-4 whitespace-nowrap"},gJ={class:"px-6 py-4 whitespace-nowrap"},pJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mJ={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},bJ={class:"flex items-center justify-end gap-2"},yJ=["onClick"],vJ=["onClick"],wJ=["onClick"],EJ={class:"mobile-to-cards-container px-4 pb-4"},CJ={key:0,class:"mobile-to-card"},AJ={class:"mobile-to-card-header"},kJ={class:"font-semibold text-gray-900"},BJ={key:0,class:"text-xs text-gray-500 mt-0.5"},_J={key:1,class:"mt-1"},DJ={class:"mobile-to-card-body"},SJ={class:"mobile-to-card-row"},FJ={class:"mobile-to-card-value"},TJ={class:"mobile-to-card-row"},MJ={class:"mobile-to-card-value"},IJ={class:"mobile-to-card-row"},PJ={class:"mobile-to-card-value"},RJ={class:"mobile-to-card-row"},OJ={class:"mobile-to-card-value"},NJ={class:"mobile-to-card-row col-span-2"},$J={class:"mobile-to-card-actions"},LJ=["onClick"],jJ=["onClick"],UJ=["onClick"],HJ={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},zJ={class:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-screen overflow-y-auto"},VJ={class:"flex justify-between items-center mb-6"},qJ={class:"space-y-6"},WJ={class:"overflow-x-auto"},QJ={class:"w-full border border-gray-200 rounded-lg"},GJ={class:"bg-white divide-y divide-gray-200"},KJ={class:"px-4 py-3"},YJ=["onUpdate:modelValue"],XJ={class:"px-4 py-3 text-sm text-gray-900"},JJ={class:"px-4 py-3 text-sm text-gray-900"},ZJ={key:0,class:"mt-1"},eZ={key:1,class:"mt-1"},tZ={class:"px-4 py-3 text-sm text-gray-900"},sZ={class:"px-4 py-3 text-sm text-gray-900"},nZ={class:"px-4 py-3 text-sm text-gray-900"},rZ={class:"px-4 py-3"},oZ={key:0,class:"text-sm text-gray-500 italic"},iZ={key:1,class:"w-64"},aZ=["onUpdate:modelValue","disabled"],lZ=["value"],dZ={key:2,class:"relative w-full sm:w-64"},cZ=["onUpdate:modelValue","onInput","onFocus","onBlur","disabled"],uZ=["onClick","disabled"],xZ={key:3,class:"absolute left-0 right-0 z-[99999] text-center mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto"},fZ=["onMousedown"],hZ={class:"px-4 py-3"},gZ=["onClick"],pZ={key:1,class:"flex items-center gap-2"},mZ={class:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded"},bZ=["onClick"],yZ={class:"flex gap-3 justify-end"},vZ=["disabled"],wZ={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},EZ={class:"bg-white rounded-lg p-6 w-full max-w-2xl"},CZ={class:"flex justify-between items-center mb-4"},AZ={class:"text-lg font-semibold"},kZ={key:0,class:"space-y-4"},BZ={class:"grid grid-cols-2 gap-4"},_Z={class:"text-sm text-gray-900 mt-1"},DZ={class:"text-sm text-gray-900 mt-1"},SZ={class:"text-sm text-gray-900 mt-1"},FZ={class:"text-sm text-gray-900 mt-1"},TZ={class:"max-h-40 overflow-y-auto"},MZ={class:"w-full text-sm"},IZ={class:"px-3 py-2"},PZ={class:"px-3 py-2"},RZ={class:"px-3 py-2"},OZ={key:0,class:"border-t"},NZ={class:"flex justify-end mt-6"},$Z={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]"},LZ={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto"},jZ={class:"flex justify-between items-center mb-6"},UZ={class:"text-sm text-gray-600 mt-1"},HZ={class:"text-sm font-medium text-blue-600 mt-1"},zZ={key:0,class:"space-y-4"},VZ={class:"flex items-center gap-4"},qZ={key:1,class:"space-y-4"},WZ={class:"overflow-x-auto"},QZ={class:"w-full border border-gray-200"},GZ={class:"bg-gray-50"},KZ={class:"px-4 py-2 text-left text-xs font-medium text-gray-600"},YZ={class:"px-4 py-3 text-sm"},XZ={class:"px-4 py-3"},JZ={class:"relative"},ZZ=["onUpdate:modelValue","onInput","onFocus","onBlur"],eee=["onClick"],tee={key:0,class:"absolute z-[99999] w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto"},see=["onMousedown"],nee={class:"flex justify-between items-center"},ree={class:"font-medium text-gray-900"},oee={class:"text-xs text-gray-500"},iee={class:"text-xs text-gray-600 mt-0.5"},aee={class:"px-4 py-3"},lee=["onUpdate:modelValue","max"],dee={class:"px-4 py-3"},cee={class:"flex items-center gap-2"},uee=["onClick"],xee=["onClick"],fee={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},hee={class:"flex justify-between text-sm"},gee={class:"flex justify-between text-sm mt-2"},pee={key:0,class:"ml-1"},mee={key:0,class:"text-xs text-red-600 mt-2 font-medium"},bee={key:1,class:"text-xs text-yellow-600 mt-2 font-medium"},yee={key:2,class:"text-xs text-green-600 mt-2 font-medium"},vee={class:"flex gap-3 justify-end mt-6 pt-4 border-t"},wee=["disabled"],Eee={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Cee={class:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-screen overflow-y-auto"},Aee={class:"flex justify-between items-center mb-6"},kee={class:"text-xl font-semibold"},Bee={class:"text-gray-600 mt-1"},_ee={class:"bg-gray-50 rounded-lg p-4 mb-6"},Dee={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},See={class:"text-sm text-gray-900 mt-1"},Fee={key:0},Tee={class:"text-sm text-gray-900 mt-1"},Mee={class:"text-sm text-gray-900 mt-1"},Iee={key:1},Pee={class:"text-sm text-gray-900 mt-1"},Ree={class:"mb-6"},Oee={class:"overflow-x-auto"},Nee={class:"w-full border border-gray-200 rounded-lg"},$ee={class:"bg-gray-50"},Lee={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},jee={class:"bg-white divide-y divide-gray-200"},Uee={class:"px-4 py-3 text-sm text-gray-900"},Hee={class:"px-4 py-3 text-sm text-gray-900"},zee={class:"px-4 py-3 text-sm text-gray-900"},Vee={class:"px-4 py-3 text-sm text-gray-900"},qee={class:"px-4 py-3 text-sm text-gray-900"},Wee={class:"px-4 py-3 text-sm text-gray-900"},Qee={class:"px-4 py-3 text-sm text-gray-900"},Gee={class:"px-4 py-3 text-sm text-gray-900"},Kee={class:"px-4 py-3"},Yee={key:0,class:"px-4 py-3"},Xee={key:0,class:"flex gap-2"},Jee=["onClick"],Zee={class:"flex items-center gap-1"},ete={class:"flex gap-3 justify-end"},tte=["disabled"],ste={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},nte={class:"bg-white rounded-lg p-6 w-full max-w-md"},rte={class:"flex justify-between items-center mb-4"},ote={class:"text-lg font-semibold"},ite={class:"text-sm text-gray-600"},ate={class:"mb-6"},lte={class:"flex items-center justify-between mb-2"},dte={class:"text-xs font-medium text-blue-600"},cte={class:"w-full bg-gray-200 rounded-full h-2"},ute={class:"flex items-center justify-between mb-6"},xte={class:"flex flex-col items-center flex-1"},fte={key:0},hte={key:1},gte={class:"flex flex-col items-center flex-1"},pte={key:0},mte={key:1},bte={class:"flex flex-col items-center flex-1"},yte={class:"text-center mb-4"},vte={key:0},wte={key:0,class:"mt-2 text-xs text-gray-500"},Ete={key:1,class:"mt-2 text-xs text-gray-500"},Cte={class:"mb-4"},Ate={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},kte={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bte={key:0,class:"space-y-4"},_te=["placeholder"],Dte={key:0,class:"text-xs text-gray-500 text-left bg-gray-50 p-2 rounded"},Ste={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"},Fte={class:"flex items-center gap-2"},Tte={class:"text-sm text-green-900 font-mono"},Mte={class:"flex gap-3 mt-6"},Ite=["disabled"],Pte={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[99999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Rte={class:"bg-white rounded-lg max-w-md w-full mx-4 shadow-2xl"},Ote={class:"p-6"},Nte={class:"flex items-start gap-4 mb-4"},$te={key:0,class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Lte={key:1,class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jte={class:"flex-1"},Ute=["innerHTML"],Hte={class:"flex gap-3"},Vp="in_progress_transfer_order",zte=rr({__name:"PutAwasTO",setup(e){const t=()=>{try{const _e=localStorage.getItem(Vp);if(_e)return JSON.parse(_e)}catch(_e){console.error("Error loading state from localStorage",_e)}return null},s=()=>{try{localStorage.removeItem(Vp),console.log("State cleared from localStorage.")}catch(_e){console.error("Error clearing state from localStorage",_e)}},r=Xs(),i=de(r.props.transferOrders||[]);Hs(()=>r.props.transferOrders,_e=>{i.value=_e||[]},{deep:!0});const a=de([]),d=de([]),u=de([]),g=de(""),h=de(""),m=de(""),b=de(""),v=de(""),C=de(!1),_=de(!1),F=de(!1),S=de(!1),D=de(!1),O=de(!1),P=de(null),B=de(null),U=de(null),z=de(""),j=de(null),H=de(1),I=de(null),$=de(!1),J=de(!0),K=de(""),ie=de(null),fe=de(2),q=de([]),le=de("merge"),he=de(""),ve=de("");let Ie=null;const Ue=Ze(()=>i.value.filter(_e=>{const re=!g.value||_e.toNumber.toLowerCase().includes(g.value.toLowerCase()),pe=!m.value||_e.type===m.value,ut=!b.value||_e.status===b.value,tt=!v.value||_e.warehouse.includes(v.value),Be=!h.value||_e.items.some(ue=>ue.batchLot&&ue.batchLot.toLowerCase().includes(h.value.toLowerCase()));return re&&Be&&pe&&ut&&tt})),be=Ze(()=>a.value.filter(_e=>_e.selected?_e.isSplit?_e.splitAllocations&&_e.splitAllocations.length>0:_e.destinationBin:!1)),qe=Ze(()=>P.value?P.value.items.every(_e=>_e.boxScanned&&_e.sourceBinScanned&&_e.destBinScanned):!1),ot=Ze(()=>q.value.reduce((_e,re)=>_e+(re.qty||0),0)),Ge=Ze(()=>ie.value?ie.value.qty-ot.value:0),dt=Ze(()=>Math.abs(Ge.value)<1e-4),ze=Ze(()=>{if(!ie.value||q.value.length<2||Math.abs(ot.value-ie.value.qty)>1e-4||q.value.some(ut=>!ut.binCode||!ut.qty||ut.qty<=0))return!1;const pe=q.value.map(ut=>ut.binCode);return new Set(pe).size===pe.length}),xt=Ze(()=>{switch(H.value){case 1:return"Scan Box QR Code";case 2:return"Scan Source Bin";case 3:return"Scan Destination Bin";default:return""}}),ft=Ze(()=>{if(!U.value)return"";switch(H.value){case 1:return`Box with ${U.value.itemCode}`;case 2:return U.value.sourceBin;case 3:return U.value.destBin;default:return""}}),yt=async()=>{$.value=!1;try{if(!document.getElementById("qr-reader")){console.error("qr-reader element not found!");return}await vt(),I.value=new Qa("qr-reader");const re={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await I.value.start({facingMode:"environment"},re,it,Et),$.value=!0}catch(_e){console.error("Error starting camera:",_e),alert(`Gagal memulai kamera: ${_e.message}. Pastikan tidak ada aplikasi lain yang menggunakan. Coba lagi atau ganti ke mode manual.`)}},vt=async()=>{if(I.value)try{typeof I.value.getState=="function"&&I.value.getState()===2&&await I.value.stop()}catch(_e){console.error("Error attempting to stop camera:",_e)}finally{try{await I.value.clear()}catch(_e){console.warn("Error clearing html5QrCode UI:",_e)}I.value=null,$.value=!1}$.value=!1},it=(_e,re)=>{console.log("QR Code detected:",_e),K.value=_e,z.value=_e,setTimeout(()=>{pt()},500)},Et=_e=>{},ne=async()=>{J.value?(await vt(),J.value=!1,_n(()=>{j.value?.focus()})):(J.value=!0,z.value="",_n(async()=>{await yt()}))},ge=async()=>{try{const _e=await fetch("/transaction/putaway-transfer/qc-released");if(!_e.ok)throw new Error("Failed to fetch materials");const re=await _e.json();a.value=re.map(ue=>({...ue,selected:!1,destinationBin:"",binSearchQuery:"",showBinSuggestions:!1}));const pe=await fetch("/transaction/putaway-transfer/available-bins");if(!pe.ok)throw new Error("Failed to fetch bins");const ut=await pe.json();d.value=ut;const tt=await fetch("/transaction/putaway-transfer/reject-bins");if(!tt.ok)throw new Error("Failed to fetch reject bins");const Be=await tt.json();u.value=Be,C.value=!0}catch(_e){console.error("Error loading data:",_e),alert("Gagal memuat data")}},Te=async _e=>{if(!_e.destinationBin){alert("Pilih destination bin terlebih dahulu!");return}try{const re=await fetch(`/transaction/putaway-transfer/bin-details?binCode=${_e.destinationBin}`);if(!re.ok)throw new Error("Failed to fetch bin details");const pe=await re.json();B.value=pe,_.value=!0}catch(re){console.error("Error loading bin details:",re),alert("Gagal memuat detail bin")}},He=async(_e,re)=>{if(!_e.isFromReturn)return!0;try{const pe=await fetch(`/transaction/putaway-transfer/bin-details?binCode=${re}`);if(!pe.ok)throw new Error("Failed to fetch bin details");const ut=await pe.json();if(!ut.materials||ut.materials.length===0)return!0;const tt=ut.materials.find(ue=>ue.itemCode===_e.itemCode&&ue.batchLot===_e.batchLot);if(tt){const ue=ye(tt.qty,_e.category);return await xe("merge","Material Akan Digabungkan",`<div class="space-y-2">
          <p class="font-medium">Bin <span class="text-blue-600">${re}</span> sudah berisi:</p>
          <div class="bg-blue-50 border border-blue-200 rounded p-3 text-sm">
            <div><span class="font-medium">Material:</span> ${tt.itemCode} - ${tt.materialName}</div>
            <div><span class="font-medium">Batch:</span> ${tt.batchLot}</div>
            <div><span class="font-medium">Qty:</span> ${ue} ${tt.uom}</div>
          </div>
          <p class="text-gray-600 mt-2">Material return Anda akan digabungkan dengan stok yang sudah ada.</p>
        </div>`)}const Be=ut.materials.find(ue=>ue.itemCode!==_e.itemCode);return Be?await xe("warning"," Peringatan: Bin Berisi Material Berbeda",`<div class="space-y-2">
          <div class="bg-orange-50 border border-orange-200 rounded p-3 text-sm">
            <p class="font-medium mb-2">Bin <span class="text-orange-600">${re}</span> saat ini berisi:</p>
            <div><span class="font-medium">Material:</span> ${Be.itemCode} - ${Be.materialName}</div>
          </div>
          <div class="bg-gray-50 border border-gray-200 rounded p-3 text-sm">
            <p class="font-medium mb-2">Anda akan memindahkan:</p>
            <div><span class="font-medium">Material:</span> ${_e.itemCode} - ${_e.materialName}</div>
          </div>
          <p class="text-orange-700 font-medium mt-3">Apakah Anda yakin ingin melanjutkan?</p>
        </div>`):!0}catch(pe){return console.error("Error validating bin:",pe),!0}},xe=(_e,re,pe)=>new Promise(ut=>{le.value=_e,he.value=re,ve.value=pe,Ie=ut,O.value=!0}),ee=()=>{O.value=!1,Ie&&Ie(!0),Ie=null},N=()=>{O.value=!1,Ie&&Ie(!1),Ie=null},E=async(_e,re)=>{await He(_e,re.code)&&(_e.destinationBin=re.code,_e.binSearchQuery=re.code,_e.showBinSuggestions=!1)},M=async(_e,re)=>{ie.value?.isFromReturn&&!await He(ie.value,re.code)||(_e.binCode=re.code,_e.showSuggestions=!1)},ae=_e=>{ie.value=_e,_e.isSplit&&_e.splitAllocations?q.value=[..._e.splitAllocations]:(q.value=[],fe.value=2),D.value=!0},Fe=()=>{D.value=!1,ie.value=null,q.value=[],fe.value=2},Qe=()=>{if(fe.value<2||fe.value>10){alert("Jumlah location harus antara 2-10");return}q.value=Array.from({length:fe.value},()=>({binCode:"",qty:0,showSuggestions:!1}))},Je=()=>{q.value.push({binCode:"",qty:0,showSuggestions:!1})},nt=_e=>{q.value.length>2&&q.value.splice(_e,1)},bt=_e=>{!ie.value||Ge.value<=0||(q.value[_e].qty=(q.value[_e].qty||0)+Ge.value)},Ct=()=>{q.value=[],fe.value=2},ht=()=>{if(!ie.value||!ze.value){alert("Please fill all required fields correctly");return}ie.value.isSplit=!0,ie.value.splitAllocations=[...q.value],ie.value.destinationBin="",Fe(),alert(`Material berhasil di-split ke ${q.value.length} locations`)},Qt=_e=>d.value.find(re=>re.code.toLowerCase()===_e.toLowerCase()),jt=async _e=>{try{const re=await fetch(`/transaction/putaway-transfer/bin-details?binCode=${_e}`);if(!re.ok)throw new Error("Failed to fetch bin details");const pe=await re.json();B.value=pe,_.value=!0}catch(re){console.error("Error fetching bin details:",re),alert("Gagal mengambil detail bin: "+re.message)}},Ht=async()=>{if(!be.value.length){alert("Pilih minimal 1 material untuk di-putaway!");return}if(confirm("Anda yakin ingin generate TO untuk item terpilih?"))try{Bt.post("/transaction/putaway-transfer/generate",{materials:be.value.map(_e=>({stockId:_e.stockId,destinationBin:_e.destinationBin,qty:_e.qty,isSplit:_e.isSplit||!1,splitAllocations:_e.isSplit?_e.splitAllocations:void 0}))},{onSuccess:_e=>{C.value=!1,_e.props.flash&&_e.props.flash.success?alert(_e.props.flash.success):alert("Putaway TO berhasil digenerate!")},onError:_e=>{console.error("Error generating putaway:",_e);const re=_e.message||Object.values(_e)[0]||"Gagal generate putaway TO";alert("Gagal: "+re)}})}catch(_e){console.error("Error submitting putaway:",_e),alert("Gagal generate putaway TO: "+_e.message)}},Ft=_e=>{P.value={..._e,isExecuting:!1},F.value=!0},De=_e=>{const re=t();re&&re.id===_e.id?(P.value=re,console.log(`Resuming TO ${_e.toNumber} from saved session.`)):P.value={..._e,isExecuting:!0,status:"In Progress",items:_e.items.map(pe=>({...pe,status:pe.status==="completed"?"completed":"pending",actualQty:pe.actualQty!==void 0?pe.actualQty:pe.qty}))},F.value=!0},Y=()=>{P.value?.isExecuting&&P.value.status!=="Completed"?Xs().props.flash?.success&&alert(Xs().props.flash.success):s(),P.value=null,F.value=!1},G=async _e=>{if(U.value=_e,_e.boxScanned&&_e.sourceBinScanned&&_e.destBinScanned){alert("Item ini sudah selesai di-scan.");return}else _e.boxScanned&&_e.sourceBinScanned?H.value=3:_e.boxScanned?H.value=2:H.value=1;z.value="",K.value="",S.value=!0,await _n(),await new Promise(re=>setTimeout(re,500)),J.value?await yt():_n(()=>{j.value?.focus()})},Ce=async()=>{await vt(),S.value=!1,U.value=null,H.value=1,z.value="",K.value=""},pt=()=>{if(!U.value||!z.value.trim()){alert("Silakan input QR code!");return}const _e=U.value,re=z.value.trim();let pe="",ut=!1,tt="";try{const Be=JSON.parse(re);Be&&Be.bin_code?pe=String(Be.bin_code).toUpperCase():pe=re.toUpperCase()}catch{pe=re.toUpperCase()}switch(H.value){case 1:tt=_e.itemCode,ut=re.includes(_e.itemCode),ut?(_e.boxScanned=!0,H.value=2):alert(`Box QR tidak sesuai! Expected: ${tt} (atau mengandung ${tt}), Scanned: ${re}`);break;case 2:tt=_e.sourceBin,ut=pe===tt.toUpperCase(),ut?(_e.sourceBinScanned=!0,H.value=3):alert(`Source Bin tidak sesuai! Expected: ${tt}, Scanned Code: ${pe||re}`);break;case 3:tt=_e.destBin,ut=pe===tt.toUpperCase(),ut?(_e.destBinScanned=!0,_e.status="completed",alert(" Scan selesai! Semua tahap berhasil."),Ce()):alert(`Destination Bin tidak sesuai! Expected: ${tt}, Scanned Code: ${pe||re}`);break}z.value="",K.value="",ut&&H.value<=3&&!J.value?_n(()=>{j.value?.focus()}):!ut&&!J.value&&_n(()=>{j.value?.select()})},At=async()=>{if(!P.value||!qe.value){alert("Pastikan semua item sudah di-scan dan qty actual sudah diisi!");return}if(!confirm(`Apakah Anda yakin ingin menyelesaikan TO ${P.value.toNumber}?`))return;const _e={items:P.value.items.map(re=>({id:re.id,status:re.status,boxScanned:re.boxScanned,sourceBinScanned:re.sourceBinScanned,destBinScanned:re.destBinScanned}))};console.log("Sending TO completion data:",_e),console.log("TO ID:",P.value.id);try{Bt.post(`/transaction/putaway-transfer/complete/${P.value.id}`,_e,{onSuccess:re=>{if(console.log("Success response:",re),alert("Transfer Order berhasil diselesaikan!"),P.value){const pe=i.value.findIndex(ut=>ut.id===P.value?.id);pe!==-1&&(i.value[pe].status="Completed")}P.value&&(P.value.status="Completed",P.value.isExecuting=!1),s(),Y()},onError:re=>{console.error(" Error completing TO:",re);let pe=` GAGAL MENYELESAIKAN TRANSFER ORDER

`;typeof re=="object"&&re!==null?Object.keys(re).length>0?(pe+=` DETAIL ERROR:
`,Object.entries(re).forEach(([ut,tt])=>{Array.isArray(tt)?pe+=`
 ${ut}: ${tt.join(", ")}`:pe+=`
 ${ut}: ${tt}`})):(pe+=`Terjadi kesalahan yang tidak diketahui.
`,pe+="Error: "+JSON.stringify(re)):typeof re=="string"?pe+=re:pe+="Terjadi kesalahan yang tidak diketahui.",pe+=`

 Silakan cek console browser untuk detail lebih lanjut (F12)`,alert(pe)},onFinish:()=>{console.log("Request finished")}})}catch(re){console.error(" Exception in completeTO:",re);let pe=` TERJADI KESALAHAN

`;pe+="Error: "+(re.message||"Unknown error"),pe+=`

 Detail error ada di console browser (tekan F12)`,alert(pe)}},zt=_e=>{const re=`
    <h1 style="text-align: center; font-family: Arial, sans-serif; margin-bottom: 20px;">TRANSFER ORDER</h1>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <tr>
        <td style="padding: 5px; width: 150px;"><strong>TO Number</strong></td>
        <td style="padding: 5px;">: ${_e.toNumber}</td>
        <td style="padding: 5px; width: 150px;"><strong>Transaction Type</strong></td>
        <td style="padding: 5px;">: ${_e.type}</td>
      </tr>
      <tr>
        <td style="padding: 5px;"><strong>Creation Date</strong></td>
        <td style="padding: 5px;">: ${me(_e.creationDate)}</td>
        <td style="padding: 5px;"><strong>Warehouse</strong></td>
        <td style="padding: 5px;">: ${_e.warehouse}</td>
      </tr>
      ${_e.reservationNo?`
      <tr>
        <td style="padding: 5px;"><strong>No Reservasi</strong></td>
        <td style="padding: 5px;" colspan="3">: ${_e.reservationNo}</td>
      </tr>`:""}
    </table>
    
    <h3 style="font-family: Arial, sans-serif; margin-top: 25px; margin-bottom: 10px;">DAFTAR ITEM:</h3>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <thead style="background-color: #f4f4f4;">
        <tr>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">No</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Kode Item</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Nama Material</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Batch/Lot</th> <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Source Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Dest Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: right;">Qty</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">UoM</th>
        </tr>
      </thead>
      <tbody>
        ${_e.items.map((ut,tt)=>`
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">${tt+1}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ut.itemCode}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ut.materialName}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ut.batchLot}</td> <td style="border: 1px solid #ddd; padding: 8px;">${ut.sourceBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ut.destBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">${ut.actualQty!==void 0&&ut.actualQty!==null?ut.actualQty:ut.qty}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ut.uom}</td>
          </tr>
        `).join("")}
      </tbody>
    </table>

    <table style="width: 100%; font-family: Arial, sans-serif; font-size: 12px; margin-top: 50px; text-align: center;">
      <tr>
        <td style="padding: 10px;">
          Diserahkan:
          <br><br><br><br>
          (${Xs().props.auth?.user?.name||"Logistik"})
          <br>
          Tgl: ${te(_e.creationDate)}
        </td>
        <td style="padding: 10px;">
          Diterima:
          <br><br><br><br>
          (Rohiman / Hermansyah)
          <br>
          Tgl: ${te(_e.creationDate)}
        </td>
        <td style="padding: 10px;">
          Mengetahui:
          <br><br><br><br>
          (Reza Rizky Permadi)
          <br>
          Tgl: ${te(_e.creationDate)}
        </td>
      </tr>
    </table>
  `,pe=window.open("","_blank");if(pe){const ut="script";pe.document.write(`
      <html>
        <head>
          <title>Transfer Order - ${_e.toNumber}</title>
          <style>
            @media print {
              body { -webkit-print-color-adjust: exact; }
            }
          </style>
        </head>
        <body>
          ${re}
          <${ut}>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                 window.close();
              }
            }
          </${ut}>
        </body>
      </html>
    `),pe.document.close()}},me=_e=>{const re=typeof _e=="string"?new Date(_e):_e;return isNaN(re.getTime())?"Invalid Date":new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(re)},te=_e=>{const re=typeof _e=="string"?new Date(_e):_e;return isNaN(re.getTime())?"Invalid Date":new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric"}).format(re)},ye=(_e,re)=>{if(_e==null)return"0";const pe=parseFloat(_e.toString());if(isNaN(pe))return"0";if(re==="Packaging"||re==="Packaging Material"){if(pe===Math.floor(pe))return Math.round(pe).toLocaleString("id-ID");const ue=pe.toFixed(4).replace(/\.?0+$/,"").split(".");return ue[0]=parseInt(ue[0]).toLocaleString("id-ID"),ue.join(",")}if(re==="Raw Material"){if(pe===Math.floor(pe))return pe.toLocaleString("id-ID");const ue=pe.toFixed(4).replace(/\.?0+$/,"").split(".");return ue[0]=parseInt(ue[0]).toLocaleString("id-ID"),ue.join(",")}if(pe===Math.floor(pe))return pe.toLocaleString("id-ID");const tt=pe.toFixed(4).replace(/\.?0+$/,"").split(".");return tt[0]=parseInt(tt[0]).toLocaleString("id-ID"),tt.join(",")},ct=_e=>({"Putaway - QC Release":"bg-blue-100 text-blue-800","Transfer - Internal":"bg-green-100 text-green-800","Transfer - Bin to Bin":"bg-teal-100 text-teal-800","Picking - Production":"bg-purple-100 text-purple-800","Picking - Sales Order":"bg-pink-100 text-pink-800"})[_e]||"bg-gray-100 text-gray-800",$t=_e=>({Pending:"bg-yellow-100 text-yellow-800","In Progress":"bg-blue-100 text-blue-800",Completed:"bg-green-100 text-green-800"})[_e]||"bg-gray-100 text-gray-800",Is=_e=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"})[_e]||"bg-gray-100 text-gray-800",Ut=_e=>{if(!_e)return d.value.slice(0,50);const re=_e.toLowerCase();return d.value.filter(pe=>pe.code.toLowerCase().includes(re)||pe.zone.toLowerCase().includes(re)).slice(0,50)},cs=_e=>{_e.destinationBin=""},Js=_e=>{setTimeout(()=>{if(_e.showBinSuggestions=!1,_e.destinationBin){const re=d.value.find(pe=>pe.code===_e.destinationBin);re&&(_e.binSearchQuery=`${re.code} [${re.zone} - ${re.currentItems}/${re.capacity}]`)}},200)};return gn(()=>{console.log("Mounted - Transfer Orders:",i.value)}),gn(()=>{const _e=t();if(_e){const re=i.value.find(pe=>pe.id===_e.id);if(re){const pe={...re,..._e,isExecuting:!0,status:"In Progress"};P.value=pe,F.value=!0,alert(`Melanjutkan Transfer Order: ${_e.toNumber}. Progress yang tersimpan telah dimuat.`)}else s()}}),ni(async()=>{await vt()}),(_e,re)=>(T(),Dt(pn,{title:"PutAway & TO"},{default:_t(()=>[n("div",XX,[re[91]||(re[91]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Putaway & Transfer Order"),n("p",{class:"text-gray-600"},"Kelola Transfer Order untuk putaway, transfer, dan picking barang")],-1)),n("div",{class:"mb-6"},[n("button",{onClick:ge,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2"},[...re[10]||(re[10]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Oe(" Generate Auto Putaway dari QC Released ",-1)])])]),n("div",JX,[n("div",ZX,[n("div",null,[re[11]||(re[11]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search TO Number",-1)),we(n("input",{"onUpdate:modelValue":re[0]||(re[0]=pe=>g.value=pe),type:"text",placeholder:"TO-2024-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ve,g.value]])]),n("div",null,[re[12]||(re[12]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Batch/Lot",-1)),we(n("input",{"onUpdate:modelValue":re[1]||(re[1]=pe=>h.value=pe),type:"text",placeholder:"BCH-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ve,h.value]])]),n("div",null,[re[14]||(re[14]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe",-1)),we(n("select",{"onUpdate:modelValue":re[2]||(re[2]=pe=>m.value=pe),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...re[13]||(re[13]=[n("option",{value:""},"Semua Tipe",-1),n("option",{value:"Putaway - QC Release"},"Putaway - QC Release",-1),n("option",{value:"Transfer - Internal"},"Transfer - Internal",-1),n("option",{value:"Transfer - Bin to Bin"},"Transfer - Bin to Bin",-1),n("option",{value:"Picking - Production"},"Picking - Production",-1),n("option",{value:"Picking - Sales Order"},"Picking - Sales Order",-1)])],512),[[St,m.value]])]),n("div",null,[re[16]||(re[16]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),we(n("select",{"onUpdate:modelValue":re[3]||(re[3]=pe=>b.value=pe),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...re[15]||(re[15]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"Pending"},"Pending",-1),n("option",{value:"In Progress"},"In Progress",-1),n("option",{value:"Completed"},"Completed",-1)])],512),[[St,b.value]])])])]),n("div",eJ,[n("div",tJ,[re[17]||(re[17]=n("h2",{class:"text-lg font-semibold text-gray-900"},"Daftar Transfer Order",-1)),n("p",sJ,"Total: "+A(Ue.value.length)+" TO",1)]),n("div",nJ,[n("table",rJ,[re[23]||(re[23]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Creation Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Warehouse"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipe"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Items"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),n("tbody",oJ,[Ue.value.length?se("",!0):(T(),R("tr",iJ,[...re[18]||(re[18]=[n("td",{colspan:"7",class:"px-6 py-12 text-center"},[n("div",{class:"flex flex-col items-center justify-center"},[n("svg",{class:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),n("h3",{class:"text-lg font-medium text-gray-900 mb-1"},"Belum Ada Transfer Order"),n("p",{class:"text-gray-500"},"Generate putaway dari material QC Released untuk membuat TO")])],-1)])])),(T(!0),R(Ye,null,at(Ue.value,pe=>(T(),R("tr",{key:pe.id,class:"hover:bg-gray-50"},[n("td",aJ,[n("div",lJ,A(pe.toNumber),1),pe.reservationNo?(T(),R("div",dJ,A(pe.reservationNo),1)):se("",!0),pe.hasRejected?(T(),R("div",cJ,[...re[19]||(re[19]=[n("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-700 uppercase tracking-wide"}," Reject Items ",-1)])])):se("",!0)]),n("td",uJ,A(pe.items.length>0?pe.items[0].batchLot:"N/A"),1),n("td",xJ,A(me(pe.creationDate)),1),n("td",fJ,A(pe.warehouse),1),n("td",hJ,[n("span",{class:Se([ct(pe.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(pe.type),3)]),n("td",gJ,[n("span",{class:Se([$t(pe.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(pe.status),3)]),n("td",pJ,A(pe.items.length)+" item(s) ",1),n("td",mJ,[n("div",bJ,[n("button",{onClick:ut=>Ft(pe),class:"flex items-center gap-2 bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-2 rounded-lg transition-colors"},[...re[20]||(re[20]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),n("span",{class:"text-xs font-medium"},"Detail",-1)])],8,yJ),pe.status!=="Completed"?(T(),R("button",{key:0,onClick:ut=>De(pe),class:"flex items-center gap-2 bg-green-100 text-green-700 hover:bg-green-200 px-3 py-2 rounded-lg transition-colors"},[...re[21]||(re[21]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M6 6h3m5 0h3"})],-1),n("span",{class:"text-xs font-medium"},"Kerjakan",-1)])],8,vJ)):se("",!0),n("button",{onClick:ut=>zt(pe),class:"flex items-center gap-2 bg-purple-100 text-purple-700 hover:bg-purple-200 px-3 py-2 rounded-lg transition-colors"},[...re[22]||(re[22]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2v4h10z"})],-1),n("span",{class:"text-xs font-medium"},"Cetak TO",-1)])],8,wJ)])])]))),128))])])]),n("div",EJ,[Ue.value.length?se("",!0):(T(),R("div",CJ,[...re[24]||(re[24]=[n("div",{class:"flex flex-col items-center justify-center py-8"},[n("svg",{class:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),n("h3",{class:"text-base font-medium text-gray-900 mb-1"},"Belum Ada Transfer Order"),n("p",{class:"text-gray-500 text-sm text-center"},"Generate putaway dari material QC Released untuk membuat TO")],-1)])])),(T(!0),R(Ye,null,at(Ue.value,pe=>(T(),R("div",{key:"mobile-"+pe.id,class:"mobile-to-card"},[n("div",AJ,[n("div",null,[n("div",kJ,A(pe.toNumber),1),pe.reservationNo?(T(),R("div",BJ,A(pe.reservationNo),1)):se("",!0),pe.hasRejected?(T(),R("div",_J,[...re[25]||(re[25]=[n("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-700 uppercase tracking-wide"}," Reject Items ",-1)])])):se("",!0)]),n("span",{class:Se([$t(pe.status),"px-2 py-1 text-xs font-semibold rounded-full"])},A(pe.status),3)]),n("div",DJ,[n("div",SJ,[re[26]||(re[26]=n("span",{class:"mobile-to-card-label"},"Batch/Lot",-1)),n("span",FJ,A(pe.items.length>0?pe.items[0].batchLot:"N/A"),1)]),n("div",TJ,[re[27]||(re[27]=n("span",{class:"mobile-to-card-label"},"Tanggal",-1)),n("span",MJ,A(me(pe.creationDate)),1)]),n("div",IJ,[re[28]||(re[28]=n("span",{class:"mobile-to-card-label"},"Warehouse",-1)),n("span",PJ,A(pe.warehouse),1)]),n("div",RJ,[re[29]||(re[29]=n("span",{class:"mobile-to-card-label"},"Items",-1)),n("span",OJ,A(pe.items.length)+" item(s)",1)]),n("div",NJ,[re[30]||(re[30]=n("span",{class:"mobile-to-card-label"},"Tipe",-1)),n("span",{class:Se([ct(pe.type),"px-2 py-0.5 text-xs font-semibold rounded-full mt-1 inline-block"])},A(pe.type),3)])]),n("div",$J,[n("button",{onClick:ut=>Ft(pe),class:"flex items-center gap-1.5 bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-2 rounded-lg transition-colors"},[...re[31]||(re[31]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),n("span",{class:"font-medium"},"Detail",-1)])],8,LJ),pe.status!=="Completed"?(T(),R("button",{key:0,onClick:ut=>De(pe),class:"flex items-center gap-1.5 bg-green-100 text-green-700 hover:bg-green-200 px-3 py-2 rounded-lg transition-colors"},[...re[32]||(re[32]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M6 6h3m5 0h3"})],-1),n("span",{class:"font-medium"},"Kerjakan",-1)])],8,jJ)):se("",!0),n("button",{onClick:ut=>zt(pe),class:"flex items-center gap-1.5 bg-purple-100 text-purple-700 hover:bg-purple-200 px-3 py-2 rounded-lg transition-colors"},[...re[33]||(re[33]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2v4h10z"})],-1),n("span",{class:"font-medium"},"Cetak",-1)])],8,UJ)])]))),128))])]),C.value?(T(),R("div",HJ,[n("div",zJ,[n("div",VJ,[re[35]||(re[35]=n("h3",{class:"text-lg font-semibold"},"Generate Auto Putaway dari QC Released",-1)),n("button",{onClick:re[4]||(re[4]=pe=>C.value=!1),class:"text-gray-400 hover:text-gray-600"},[...re[34]||(re[34]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",qJ,[n("div",null,[re[42]||(re[42]=n("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Material yang sudah QC Released",-1)),n("div",WJ,[n("table",QJ,[re[41]||(re[41]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Select"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Item Code"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Material Name"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Current Bin"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Destination"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",GJ,[(T(!0),R(Ye,null,at(a.value,(pe,ut)=>(T(),R("tr",{key:ut,class:"hover:bg-gray-50"},[n("td",KJ,[we(n("input",{type:"checkbox","onUpdate:modelValue":tt=>pe.selected=tt,class:"rounded border-gray-300 focus:ring-blue-500"},null,8,YJ),[[Yn,pe.selected]])]),n("td",XJ,A(pe.itemCode),1),n("td",JJ,[Oe(A(pe.materialName)+" ",1),pe.status==="REJECTED"?(T(),R("div",ZJ,[...re[36]||(re[36]=[n("span",{class:"px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded uppercase"},"Reject",-1)])])):se("",!0),pe.isFromReturn?(T(),R("div",eZ,[...re[37]||(re[37]=[n("span",{class:"px-2 py-0.5 bg-purple-100 text-purple-700 text-[10px] font-bold rounded uppercase"},"Return Produksi",-1)])])):se("",!0)]),n("td",tZ,A(pe.currentBin),1),n("td",sZ,A(ye(pe.qty,pe.category)),1),n("td",nZ,A(pe.uom),1),n("td",rZ,[pe.isSplit?(T(),R("div",oZ," Bin Tujuan Sudah displit ")):pe.status==="REJECTED"?(T(),R("div",iZ,[we(n("select",{"onUpdate:modelValue":tt=>pe.destinationBin=tt,disabled:!pe.selected,class:Se(["w-full px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100":!pe.selected}])},[re[38]||(re[38]=n("option",{value:""},"Pilih Bin Reject (RJT)",-1)),(T(!0),R(Ye,null,at(u.value,tt=>(T(),R("option",{key:tt.code,value:tt.code},A(tt.code),9,lZ))),128))],10,aZ),[[St,pe.destinationBin]])])):(T(),R("div",dZ,[we(n("input",{type:"text","onUpdate:modelValue":tt=>pe.binSearchQuery=tt,onInput:tt=>cs(pe),onFocus:tt=>pe.showBinSuggestions=!0,onBlur:tt=>Js(pe),disabled:!pe.selected,placeholder:"Ketik kode bin...",class:Se(["w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100":!pe.selected}])},null,42,cZ),[[Ve,pe.binSearchQuery]]),n("button",{onClick:tt=>Te(pe),class:"absolute right-2 top-2 text-blue-600 hover:text-blue-800",title:"Lihat detail bin",disabled:!pe.destinationBin},[...re[39]||(re[39]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,uZ)])),pe.showBinSuggestions&&Ut(pe.binSearchQuery).length>0?(T(),R("div",xZ,[(T(!0),R(Ye,null,at(Ut(pe.binSearchQuery),tt=>(T(),R("div",{key:tt.code,onMousedown:Os(Be=>E(pe,tt),["prevent"]),class:"px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 text-gray-900 border-b border-gray-100 last:border-0"},A(tt.code)+" ["+A(tt.zone)+" - "+A(tt.currentItems)+"/"+A(tt.capacity)+"] ",41,fZ))),128))])):se("",!0)]),n("td",hZ,[pe.selected&&pe.status==="RELEASED"&&!pe.isSplit?(T(),R("button",{key:0,onClick:tt=>ae(pe),class:"px-3 py-1 text-xs font-medium bg-purple-100 text-purple-700 hover:bg-purple-200 rounded transition-colors flex items-center gap-1"},[...re[40]||(re[40]=[n("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),Oe(" Split ",-1)])],8,gZ)):pe.isSplit?(T(),R("div",pZ,[n("span",mZ," Split ("+A(pe.splitAllocations?.length||0)+") ",1),n("button",{onClick:tt=>ae(pe),class:"text-blue-600 hover:text-blue-800 text-xs"}," Edit ",8,bZ)])):se("",!0)])]))),128))])])])]),n("div",yZ,[n("button",{onClick:re[5]||(re[5]=pe=>C.value=!1),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),n("button",{onClick:Ht,disabled:!be.value.length,class:Se([be.value.length?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Generate Putaway TO ("+A(be.value.length)+" items) ",11,vZ)])])])])):se("",!0),_.value?(T(),R("div",wZ,[n("div",EZ,[n("div",CZ,[n("h3",AZ,"Detail Bin: "+A(B.value?.code),1),n("button",{onClick:re[6]||(re[6]=pe=>_.value=!1),class:"text-gray-400 hover:text-gray-600"},[...re[43]||(re[43]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),B.value?(T(),R("div",kZ,[n("div",BZ,[n("div",null,[re[44]||(re[44]=n("label",{class:"block text-sm font-medium text-gray-700"},"Bin Code",-1)),n("p",_Z,A(B.value.code),1)]),n("div",null,[re[45]||(re[45]=n("label",{class:"block text-sm font-medium text-gray-700"},"Warehouse",-1)),n("p",DZ,A(B.value.warehouse),1)]),n("div",null,[re[46]||(re[46]=n("label",{class:"block text-sm font-medium text-gray-700"},"Zone",-1)),n("p",SZ,A(B.value.zone),1)]),n("div",null,[re[47]||(re[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"Capacity",-1)),n("p",FZ,A(B.value.capacity),1)])]),n("div",null,[re[50]||(re[50]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Materials",-1)),n("div",TZ,[n("table",MZ,[re[49]||(re[49]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-3 py-2 text-left"},"Material"),n("th",{class:"px-3 py-2 text-left"},"Qty"),n("th",{class:"px-3 py-2 text-left"},"UoM")])],-1)),n("tbody",null,[(T(!0),R(Ye,null,at(B.value.materials,pe=>(T(),R("tr",{key:pe.itemCode,class:"border-t"},[n("td",IZ,A(pe.materialName),1),n("td",PZ,A(pe.qty),1),n("td",RZ,A(pe.uom),1)]))),128)),B.value.materials.length?se("",!0):(T(),R("tr",OZ,[...re[48]||(re[48]=[n("td",{colspan:"3",class:"px-3 py-2 text-gray-500 text-center"},"Bin kosong",-1)])]))])])])])])):se("",!0),n("div",NZ,[n("button",{onClick:re[7]||(re[7]=pe=>_.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])):se("",!0),D.value&&ie.value?(T(),R("div",$Z,[n("div",LZ,[n("div",jZ,[n("div",null,[re[51]||(re[51]=n("h3",{class:"text-xl font-semibold"},"Split Material Allocation",-1)),n("p",UZ,A(ie.value.itemCode)+" - "+A(ie.value.materialName),1),n("p",HZ," Total Available: "+A(ye(ie.value.qty,ie.value.category))+" "+A(ie.value.uom),1)]),n("button",{onClick:Fe,class:"text-gray-400 hover:text-gray-600"},[...re[52]||(re[52]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),q.value.length===0?(T(),R("div",zZ,[re[53]||(re[53]=n("label",{class:"block text-sm font-medium text-gray-700"}," Berapa bin location yang akan digunakan? ",-1)),n("div",VZ,[we(n("input",{"onUpdate:modelValue":re[8]||(re[8]=pe=>fe.value=pe),type:"number",min:"2",max:"10",class:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[Ve,fe.value,void 0,{number:!0}]]),n("button",{onClick:Qe,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium"}," Generate Form ")])])):(T(),R("div",qZ,[n("div",WZ,[n("table",QZ,[n("thead",GZ,[n("tr",null,[re[54]||(re[54]=n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-600"},"No",-1)),re[55]||(re[55]=n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-600"},"Bin Location",-1)),n("th",KZ,"Qty ("+A(ie.value.uom)+")",1),re[56]||(re[56]=n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-600"},"Actions",-1))])]),n("tbody",null,[(T(!0),R(Ye,null,at(q.value,(pe,ut)=>(T(),R("tr",{key:ut,class:"border-t"},[n("td",YZ,A(ut+1),1),n("td",XZ,[n("div",JZ,[we(n("input",{"onUpdate:modelValue":tt=>pe.binCode=tt,onInput:()=>{pe.showSuggestions=!0},onFocus:()=>{pe.showSuggestions=!0},onBlur:()=>_e.setTimeout(()=>{pe.showSuggestions=!1},200),type:"text",placeholder:"Ketik kode bin...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500"},null,40,ZZ),[[Ve,pe.binCode]]),pe.binCode&&Qt(pe.binCode)?(T(),R("button",{key:0,onClick:Os(tt=>jt(pe.binCode),["stop"]),type:"button",class:"absolute right-2 top-2.5 text-blue-600 hover:text-blue-800",title:"Lihat isi bin"},[...re[57]||(re[57]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,eee)):se("",!0)]),pe.showSuggestions&&Ut(pe.binCode).length>0?(T(),R("div",tee,[(T(!0),R(Ye,null,at(Ut(pe.binCode),tt=>(T(),R("div",{key:tt.code,onMousedown:Os(Be=>M(pe,tt),["prevent"]),class:"px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 border-b border-gray-100 last:border-0"},[n("div",nee,[n("span",ree,A(tt.code),1),n("span",oee,A(tt.zone),1)]),n("div",iee,A(tt.currentItems)+"/"+A(tt.capacity)+" items ",1)],40,see))),128))])):se("",!0)]),n("td",aee,[we(n("input",{"onUpdate:modelValue":tt=>pe.qty=tt,type:"number",min:"0.01",step:"0.01",max:ie.value.qty,class:"w-32 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500"},null,8,lee),[[Ve,pe.qty,void 0,{number:!0}]])]),n("td",dee,[n("div",cee,[ut===q.value.length-1&&Ge.value>0?(T(),R("button",{key:0,onClick:tt=>bt(ut),class:"px-2 py-1 bg-blue-100 text-blue-700 hover:bg-blue-200 text-xs font-medium rounded flex items-center gap-1",title:"Otomatis isi dengan sisa qty"},[...re[58]||(re[58]=[n("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1),Oe(" Alihkan Sisa ",-1)])],8,uee)):se("",!0),q.value.length>2?(T(),R("button",{key:1,onClick:tt=>nt(ut),class:"text-red-600 hover:text-red-800 text-xs font-medium"}," Remove ",8,xee)):se("",!0)])])]))),128))])])]),n("button",{onClick:Je,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium flex items-center gap-2"},[...re[59]||(re[59]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Oe(" Add Location ",-1)])]),n("div",fee,[n("div",hee,[re[60]||(re[60]=n("span",{class:"font-medium"},"Total Allocated:",-1)),n("span",{class:Se(Ge.value<0?"text-red-600 font-bold":dt.value?"text-green-600 font-bold":"text-gray-900")},A(ye(ot.value,ie.value.category))+" / "+A(ye(ie.value.qty,ie.value.category))+" "+A(ie.value.uom),3)]),n("div",gee,[re[61]||(re[61]=n("span",{class:"font-medium"},"Remaining:",-1)),n("span",{class:Se(dt.value?"text-green-600 font-bold":Ge.value<0?"text-red-600 font-bold":"text-yellow-600 font-medium")},[Oe(A(ye(Ge.value,ie.value.category))+" "+A(ie.value.uom)+" ",1),dt.value?(T(),R("span",pee,"")):se("",!0)],2)]),Ge.value<-1e-4?(T(),R("p",mee,"  Total allocated exceeds available quantity! Remaining tidak boleh minus. ")):!dt.value&&ot.value>0?(T(),R("p",bee,"  Remaining harus 0 untuk bisa Apply Split. Masih ada "+A(ye(Ge.value,ie.value.category))+" "+A(ie.value.uom)+" yang belum dialokasikan. ",1)):dt.value?(T(),R("p",yee,"  Semua qty sudah dialokasikan. Siap untuk Apply Split! ")):se("",!0)])])),n("div",vee,[q.value.length>0?(T(),R("button",{key:0,onClick:Ct,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Reset Form ")):se("",!0),n("button",{onClick:Fe,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Cancel "),q.value.length>0?(T(),R("button",{key:1,onClick:ht,disabled:!ze.value,class:Se([ze.value?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Apply Split ",10,wee)):se("",!0)])])])):se("",!0),F.value?(T(),R("div",Eee,[n("div",Cee,[n("div",Aee,[n("div",null,[n("h3",kee,A(P.value?.isExecuting?"Kerjakan":"Detail")+" Transfer Order",1),n("p",Bee,A(P.value?.toNumber),1)]),n("button",{onClick:Y,class:"text-gray-400 hover:text-gray-600"},[...re[62]||(re[62]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",_ee,[n("div",Dee,[n("div",null,[re[63]||(re[63]=n("label",{class:"block text-sm font-medium text-gray-700"},"TO Number",-1)),n("p",See,A(P.value?.toNumber),1)]),P.value&&P.value.items.length>0&&P.value.items.every(pe=>pe.batchLot===P.value.items[0].batchLot)?(T(),R("div",Fee,[re[64]||(re[64]=n("label",{class:"block text-sm font-medium text-gray-700"},"Batch/Lot Utama",-1)),n("p",Tee,A(P.value.items[0].batchLot),1)])):se("",!0),n("div",null,[re[65]||(re[65]=n("label",{class:"block text-sm font-medium text-gray-700"},"Transaction Type",-1)),n("p",Mee,A(P.value?.type),1)]),P.value?.reservationNo?(T(),R("div",Iee,[re[66]||(re[66]=n("label",{class:"block text-sm font-medium text-gray-700"},"No Reservasi",-1)),n("p",Pee,A(P.value.reservationNo),1)])):se("",!0),n("div",null,[re[67]||(re[67]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),n("span",{class:Se([$t(P.value?.status||""),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full mt-1"])},A(P.value?.status),3)])])]),n("div",Ree,[re[77]||(re[77]=n("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Daftar Item",-1)),n("div",Oee,[n("table",Nee,[n("thead",$ee,[n("tr",null,[re[68]||(re[68]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No",-1)),re[69]||(re[69]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item",-1)),re[70]||(re[70]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material",-1)),re[71]||(re[71]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot",-1)),re[72]||(re[72]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin",-1)),re[73]||(re[73]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Dest Bin",-1)),re[74]||(re[74]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty",-1)),re[75]||(re[75]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM",-1)),re[76]||(re[76]=n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),P.value?.isExecuting?(T(),R("th",Lee,"Actions")):se("",!0)])]),n("tbody",jee,[(T(!0),R(Ye,null,at(P.value?.items,(pe,ut)=>(T(),R("tr",{key:ut,class:"hover:bg-gray-50"},[n("td",Uee,A(ut+1),1),n("td",Hee,A(pe.itemCode),1),n("td",zee,A(pe.materialName),1),n("td",Vee,A(pe.batchLot),1),n("td",qee,A(pe.sourceBin),1),n("td",Wee,A(pe.destBin),1),n("td",Qee,A(pe.qty),1),n("td",Gee,A(pe.uom),1),n("td",Kee,[n("span",{class:Se([Is(pe.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(pe.status),3)]),P.value?.isExecuting?(T(),R("td",Yee,[pe.status!=="completed"?(T(),R("div",Xee,[n("button",{onClick:tt=>G(pe),class:Se([pe.boxScanned&&pe.sourceBinScanned&&pe.destBinScanned?"bg-green-100 text-green-800":"bg-blue-600 text-white hover:bg-blue-700","px-3 py-1 text-xs font-medium rounded"])},A(pe.boxScanned&&pe.sourceBinScanned&&pe.destBinScanned?" Selesai":"Mulai Scan"),11,Jee),n("div",Zee,[n("span",{class:Se([pe.boxScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Box"},null,2),n("span",{class:Se([pe.sourceBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Source"},null,2),n("span",{class:Se([pe.destBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Dest"},null,2)])])):se("",!0)])):se("",!0)]))),128))])])])]),n("div",ete,[n("button",{onClick:Y,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"},A(P.value?.isExecuting?"Batal":"Tutup"),1),P.value?.isExecuting?(T(),R("button",{key:0,onClick:At,disabled:!qe.value,class:Se([qe.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Selesaikan TO ",10,tte)):se("",!0)])])])):se("",!0),S.value?(T(),R("div",ste,[n("div",nte,[n("div",rte,[n("div",null,[n("h3",ote,"Scan Wizard - "+A(H.value)+"/3",1),n("p",ite,A(xt.value),1)]),n("button",{onClick:Ce,class:"text-gray-400 hover:text-gray-600"},[...re[78]||(re[78]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",ate,[n("div",lte,[re[79]||(re[79]=n("span",{class:"text-xs font-medium text-gray-700"},"Progress",-1)),n("span",dte,A(Math.round(H.value/3*100))+"%",1)]),n("div",cte,[n("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Rr({width:`${H.value/3*100}%`})},null,4)])]),n("div",ute,[n("div",xte,[n("div",{class:Se([H.value>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[H.value>1?(T(),R("span",fte,"")):(T(),R("span",hte,"1"))],2),re[80]||(re[80]=n("span",{class:"text-xs text-center font-medium"},"Scan Box",-1))]),n("div",{class:Se(["h-1 flex-1 mx-2",H.value>=2?"bg-blue-600":"bg-gray-300"])},null,2),n("div",gte,[n("div",{class:Se([H.value>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[H.value>2?(T(),R("span",pte,"")):(T(),R("span",mte,"2"))],2),re[81]||(re[81]=n("span",{class:"text-xs text-center font-medium"},"Source Bin",-1))]),n("div",{class:Se(["h-1 flex-1 mx-2",H.value>=3?"bg-blue-600":"bg-gray-300"])},null,2),n("div",bte,[n("div",{class:Se([H.value>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 3 ",2),re[82]||(re[82]=n("span",{class:"text-xs text-center font-medium"},"Dest Bin",-1))])]),n("div",yte,[J.value?(T(),R("div",vte,[re[85]||(re[85]=n("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden border-2 border-blue-500 mb-2",style:{"min-height":"250px"}},null,-1)),$.value?(T(),R("div",wte,[...re[83]||(re[83]=[n("svg",{class:"w-4 h-4 inline-block animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),Oe(" Kamera Aktif - Arahkan ke QR Code ",-1)])])):(T(),R("div",Ete,[...re[84]||(re[84]=[n("div",{class:"w-full flex items-center justify-center",style:{"min-height":"250px"}},[n("div",{class:"text-center"},[n("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]),n("p",{class:"text-gray-500 font-medium"},"Mengaktifkan Kamera..."),n("p",{class:"text-xs text-gray-400 mt-1"},"Harap tunggu sebentar")])],-1)])]))])):se("",!0)]),n("div",Cte,[n("button",{onClick:ne,class:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium flex items-center justify-center gap-2"},[J.value?(T(),R("svg",kte,[...re[87]||(re[87]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])])):(T(),R("svg",Ate,[...re[86]||(re[86]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1)])])),Oe(" "+A(J.value?"Switch to Manual Input":"Switch to Camera Scanner"),1)])]),J.value?se("",!0):(T(),R("div",Bte,[we(n("input",{"onUpdate:modelValue":re[9]||(re[9]=pe=>z.value=pe),ref_key:"qrInputRef",ref:j,type:"text",placeholder:`Input ${xt.value} Manual`,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:al(pt,["enter"]),autofocus:""},null,40,_te),[[Ve,z.value]]),ft.value?(T(),R("div",Dte,[re[88]||(re[88]=n("span",{class:"font-medium"},"Expected Value:",-1)),Oe(" "+A(ft.value),1)])):se("",!0)])),K.value?(T(),R("div",Ste,[n("div",Fte,[re[90]||(re[90]=n("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),n("div",null,[re[89]||(re[89]=n("p",{class:"text-xs font-medium text-green-800"},"Terakhir Di-scan:",-1)),n("p",Tte,A(K.value),1)])])])):se("",!0),n("div",Mte,[n("button",{onClick:Ce,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),J.value?se("",!0):(T(),R("button",{key:0,onClick:pt,disabled:!z.value.trim(),class:Se([z.value.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","flex-1 px-4 py-2 text-white rounded-md font-medium"])},A(H.value===3?"Selesai":"Lanjut"),11,Ite))])])])):se("",!0)]),O.value?(T(),R("div",Pte,[n("div",Rte,[n("div",Ote,[n("div",Nte,[n("div",{class:Se([le.value==="merge"?"bg-blue-100":"bg-orange-100","flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center"])},[le.value==="merge"?(T(),R("svg",$te,[...re[92]||(re[92]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])])):(T(),R("svg",Lte,[...re[93]||(re[93]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])]))],2),n("div",jte,[n("h3",{class:Se([le.value==="merge"?"text-blue-900":"text-orange-900","text-lg font-semibold mb-1"])},A(he.value),3)])]),n("div",{class:"mb-6 text-sm text-gray-700 leading-relaxed space-y-2",innerHTML:ve.value},null,8,Ute),n("div",Hte,[n("button",{onClick:N,class:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors"}," Batal "),n("button",{onClick:ee,class:Se([le.value==="merge"?"bg-blue-600 hover:bg-blue-700":"bg-orange-600 hover:bg-orange-700","flex-1 px-4 py-2.5 text-white rounded-lg font-medium transition-colors shadow-sm"])}," Lanjutkan ",2)])])])])):se("",!0)]),_:1}))}}),Vte=Xi(zte,[["__scopeId","data-v-90961156"]]),qte=Object.freeze(Object.defineProperty({__proto__:null,default:Vte},Symbol.toStringTag,{value:"Module"})),Wte={components:{Link:rs},props:{links:Array}},Qte={key:0},Gte={class:"flex flex-wrap -mb-1"},Kte=["innerHTML"];function Yte(e,t,s,r,i,a){const d=x8("Link");return s.links.length>3?(T(),R("div",Qte,[n("div",Gte,[(T(!0),R(Ye,null,at(s.links,(u,g)=>(T(),R(Ye,null,[u.url===null?(T(),R("div",{key:g,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",innerHTML:u.label},null,8,Kte)):(T(),Dt(d,{key:`link-${g}`,class:Se(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-blue-700 text-white":u.active,"bg-white":!u.active}]),href:u.url,innerHTML:u.label},null,8,["class","href","innerHTML"]))],64))),256))])])):se("",!0)}const Xte=Xi(Wte,[["render",Yte]]),Jte={class:"space-y-6"},Zte={class:"flex justify-between items-center"},ese={class:"text-sm text-gray-600"},tse={class:"bg-white p-4 rounded-lg shadow mb-6"},sse={class:"flex flex-col md:flex-row gap-4"},nse={class:"w-48"},rse={class:"flex-grow"},ose={class:"flex gap-2"},ise={class:"w-24"},ase={class:"bg-white rounded-lg shadow overflow-hidden"},lse={class:"overflow-x-auto"},dse={class:"min-w-full divide-y divide-gray-200"},cse={class:"bg-white divide-y divide-gray-200"},use={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xse={class:"text-xs text-gray-500"},fse={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},hse={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},gse={class:"px-6 py-4 text-sm text-gray-900"},pse={class:"font-medium"},mse={class:"text-xs text-gray-500"},bse={key:0,class:"mt-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-orange-100 text-orange-800 border border-orange-300"},yse={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},vse={class:"font-bold text-blue-700"},wse={class:"px-6 py-4 whitespace-nowrap"},Ese={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Cse={class:"flex space-x-2"},Ase=["onClick"],kse=["onClick"],Bse=["onClick"],_se=["onClick"],Dse={class:"px-6 py-4 border-t border-gray-200"},Sse={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Fse={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Tse={class:"p-6"},Mse={class:"flex justify-between items-center mb-6"},Ise={class:"text-lg font-semibold text-gray-900"},Pse={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Rse={class:"space-y-4"},Ose={class:"mt-1 text-sm text-gray-900 font-medium"},Nse={class:"mt-1 text-sm text-gray-900"},$se={class:"mt-1 text-sm text-gray-900"},Lse={class:"mt-1 text-sm text-gray-900 font-medium"},jse={class:"mt-1 text-sm text-gray-900"},Use={class:"space-y-4"},Hse={class:"mt-1 text-sm text-gray-900"},zse={class:"mt-1 text-sm text-gray-900 font-medium"},Vse={class:"mt-1 text-sm text-gray-900"},qse={class:"mt-1 text-sm text-gray-900"},Wse={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},Qse={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Gse={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Kse={class:"p-6"},Yse={class:"flex justify-between items-center mb-6"},Xse={class:"text-lg font-semibold text-gray-900"},Jse={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},Zse={class:"border-t border-gray-200 pt-6 mb-6"},ene={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},tne={class:"col-span-2"},sne={class:"block text-sm font-medium text-gray-700 mb-1"},nne=["max"],rne={key:0,class:"text-xs text-red-500 mt-1"},one={class:"border-t border-gray-200 pt-6"},ine={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ane={class:"space-y-4"},lne={key:0,class:"bg-orange-50 border border-orange-200 rounded-lg p-3"},dne={class:"space-y-4"},cne={class:"space-y-2"},une={class:"flex items-center"},xne={class:"flex items-center"},fne={class:"mt-2 list-disc list-inside"},hne={key:0},gne={key:1},pne={key:2},mne={key:3},bne={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},yne=["disabled"],vne=["disabled"],wne={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ene={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Cne={class:"bg-white rounded-lg mx-4 max-h-[90vh] overflow-y-auto"},Ane={class:"p-6"},kne={class:"space-y-4"},Bne={class:"relative"},_ne={key:0,class:"absolute top-4 right-4 z-10"},Dne={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},Sne={class:"text-sm text-green-800"},Fne={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3"},Tne={class:"text-sm text-red-800"},Mne={class:"flex gap-2"},Ine=["disabled"],Pne={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Rne={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},One={class:"p-6"},Nne={class:"flex justify-between items-center mb-6"},$ne={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},Lne={class:"space-y-6"},jne={class:"bg-gray-50 rounded-lg p-4"},Une={class:"grid grid-cols-2 gap-4 text-sm"},Hne={class:"ml-2 font-medium text-gray-900"},zne={class:"ml-2 font-medium text-gray-900"},Vne={class:"ml-2 font-medium text-gray-900"},qne={class:"ml-2 font-medium text-gray-900"},Wne={class:"ml-2 font-medium text-gray-900"},Qne={class:"ml-2 font-medium text-gray-900"},Gne={class:"bg-gray-50 rounded-lg p-4"},Kne={class:"grid grid-cols-2 gap-4 text-sm"},Yne={class:"ml-2 font-medium text-blue-600"},Xne={class:"bg-gray-50 rounded-lg p-4"},Jne={class:"space-y-3 text-sm"},Zne={key:0},ere={class:"mt-1 p-3 bg-white rounded border border-gray-200 text-gray-900"},tre={key:1},sre={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},nre={class:"grid grid-cols-2 gap-4 text-sm"},rre={class:"ml-2 font-semibold text-blue-900"},ore={class:"ml-2 font-medium text-blue-900"},ire={class:"ml-2 font-medium text-blue-900"},are={class:"ml-2 font-medium text-blue-900"},lre={key:0,class:"bg-orange-50 border border-orange-200 rounded-lg p-4"},dre={class:"flex items-center gap-2 text-orange-800"},cre={class:"font-semibold"},ure="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png",xre=rr({__name:"QualityControl",props:{itemsToQC:Object,filters:Object},setup(e){const t=Xs(),s=Ze(()=>t.props.permissions.includes("qc.create"));Ze(()=>t.props.permissions.includes("qc.edit")),Ze(()=>t.props.permissions.includes("qc.delete"));const r=e;function i(N,E){let M;return function(...ae){const Fe=this;clearTimeout(M),M=setTimeout(()=>N.apply(Fe,ae),E)}}const a=de(r.filters?.search||""),d=de(r.filters?.date_start||""),u=de(r.filters?.date_end||""),g=de(r.filters?.limit||"10"),h=de(r.filters?.status||""),m=i(()=>{Bt.get("/transaction/quality-control",{search:a.value,date_start:d.value,date_end:u.value,limit:g.value,status:h.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);Hs([a,d,u,g,h],()=>{m()});const b=de(!1),v=de(!1),C=de(null),_=de(!1),F=de(!1),S=de(!1),D=de(null),O=de(""),P=de(null),B=de(null),U=de(!1);de("");const z=de("");de(null);const j=de(!1),H=de(null),I=de(""),$=de(""),J=de({incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",batchLot:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[],newExpDate:""}),K=Ze(()=>{const N=parseFloat(J.value.qtySample)||0,E=parseFloat(J.value.totalIncoming)||0;return J.value.hasilQC&&J.value.kategori&&N>=0&&N<=E}),ie=N=>{if(N==null||N==="")return"";const E=parseFloat(N);return E%1===0?E.toFixed(0):E.toFixed(2)},fe=N=>{if(N==null)return"0";const E=parseFloat(N.toString());return isNaN(E)?"0":E===Math.floor(E)?E.toString():E.toFixed(4).replace(/\.?0+$/,"")},q=N=>N.statusQC==="To QC"?0:N.qcSampleQty??0,le=Ze(()=>I.value.includes("Aktif")?"bg-green-500 text-white":I.value.includes("Error")?"bg-red-500 text-white":"bg-yellow-500 text-white"),he=async N=>{try{return await Qo.toDataURL(N,{width:150,margin:1,errorCorrectionLevel:"M"})}catch(E){return console.error("Gagal generate QR Data URL:",E),""}},ve=N=>N?new Date(N).toLocaleDateString("id-ID",{day:"numeric",month:"numeric",year:"numeric"}).replace(/\./g,"/"):"N/A",Ie=de(!1),Ue=N=>({"To QC":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",PASS:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",REJECTED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[N]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",be=N=>{D.value=N,b.value=!0},qe=async N=>{try{const E=await Rt.get(`/transaction/quality-control/${N.id}/detail`);C.value=E.data,v.value=!0}catch(E){console.error("Error fetching QC details:",E),alert("Gagal mengambil detail QC")}},ot=()=>{v.value=!1,C.value=null,_.value=!1},Ge=()=>{b.value=!1,D.value=null},dt=()=>{if(!D.value)return;const E=`QC/${new Date().toISOString().slice(0,10).replace(/-/g,"")}/XXXX`;J.value={incoming_item_id:D.value.id,noFormChecklist:E,date:new Date().toISOString().slice(0,16),noPo:D.value.noPo,noSuratJalan:D.value.noSuratJalan,kodeItem:D.value.kodeItem,namaMaterial:D.value.namaMaterial,batchLot:D.value.batchLot||"",supplier:D.value.supplier,kategori:D.value.kategori,qtySample:0,totalIncoming:Math.floor(D.value.qtyReceived),uom:D.value.uom,noKendaraan:D.value.noKendaraan,namaDriver:D.value.namaDriver,defectCount:0,catatanQC:"",hasilQC:"",photos:[]},b.value=!1,F.value=!0},ze=()=>{F.value=!1,D.value=null,ft()},xt=()=>{F.value=!1,b.value=!0},ft=()=>{J.value={incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",batchLot:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[]}},yt=()=>{if(!K.value){alert("Mohon lengkapi semua field yang diperlukan dengan benar");return}j.value=!0;const N=new FormData;N.append("incoming_item_id",J.value.incoming_item_id),N.append("reference",J.value.reference||""),N.append("kategori",J.value.kategori),N.append("qty_sample",J.value.qtySample||0),N.append("defect_count",J.value.defectCount||0),N.append("catatan_qc",J.value.catatanQC||""),N.append("hasil_qc",J.value.hasilQC),D.value?.is_reqc&&J.value.hasilQC==="PASS"&&J.value.newExpDate&&N.append("new_exp_date",J.value.newExpDate),J.value.photos&&J.value.photos.length>0&&J.value.photos.forEach((E,M)=>{N.append(`photos[${M}]`,E)}),Bt.post("/transaction/quality-control",N,{forceFormData:!0,preserveState:!1,preserveScroll:!0,onSuccess:E=>{console.log("QC berhasil disimpan!",E),j.value=!1,ze(),E.props.flash&&E.props.flash.success?alert(E.props.flash.success):alert(`QC ${J.value.hasilQC} berhasil disimpan!`)},onError:E=>{console.error("Validation errors:",E),j.value=!1;let M=`Gagal menyimpan QC:

`;for(const[ae,Fe]of Object.entries(E))Array.isArray(Fe)?M+=` ${Fe.join(", ")}
`:M+=` ${Fe}
`;alert(M)},onFinish:()=>{console.log("Request finished"),j.value=!1}})},vt=async()=>{console.log(" Opening QR Scanner..."),S.value=!0,O.value="",z.value="",$.value="",I.value=" Memulai kamera...",await new Promise(N=>setTimeout(N,300));try{await it()}catch(N){console.error(" Failed to start scanner:",N),$.value=N.message,I.value=" Error"}},it=async()=>{try{console.log(" Initializing Html5Qrcode..."),H.value=new Qa("qr-reader"),console.log(" Html5Qrcode instance created");const N=await Qa.getCameras();if(console.log(" Available cameras:",N),!N||N.length===0)throw new Error("Tidak ada kamera yang ditemukan");let E=N[0].id;const M=N.find(Fe=>Fe.label.toLowerCase().includes("back")||Fe.label.toLowerCase().includes("rear")||Fe.label.toLowerCase().includes("environment"));M&&(E=M.id,console.log(" Using back camera:",M.label));const ae={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[0]};await H.value.start(E,ae,(Fe,Qe)=>{if(console.log(" QR Code detected!"),console.log(" Decoded text:",Fe),console.log(" Full result:",Qe),Ie.value){console.log(" Already processing...");return}z.value=Fe,I.value=" QR Terdeteksi!",ge(Fe)},Fe=>{}),console.log(" Scanner started successfully!"),I.value=" Scanner Aktif",$.value=""}catch(N){console.error(" Scanner error:",N);let E="Gagal memulai scanner: ";throw N.name==="NotAllowedError"?E+="Akses kamera ditolak. Izinkan akses kamera di browser.":N.name==="NotFoundError"?E+="Kamera tidak ditemukan.":N.name==="NotReadableError"?E+="Kamera sedang digunakan aplikasi lain.":E+=N.message,$.value=E,I.value=" Error",N}},Et=async()=>{if(console.log(" Closing QR Scanner..."),H.value){try{await H.value.stop(),await H.value.clear(),console.log(" Scanner stopped")}catch(N){console.error("Error stopping scanner:",N)}H.value=null}S.value=!1,O.value="",z.value="",$.value="",I.value="",Ie.value=!1},ne=()=>{if(console.log(" Stopping camera..."),B.value){const N=B.value.getTracks();console.log(`Stopping ${N.length} track(s)`),N.forEach(E=>{E.stop(),console.log(`Track stopped: ${E.kind}`)}),B.value=null}P.value&&(P.value.srcObject=null,P.value.load()),U.value=!1,z.value="",console.log(" Camera stopped")},ge=async N=>{if(!N){alert(" QR Code kosong!");return}if(Ie.value){console.log(" Already processing...");return}if(Ie.value=!0,N=N.trim(),console.log(" Processing QR Code:",N),H.value)try{await H.value.pause(),I.value=" Processing..."}catch(E){console.log("Cannot pause scanner:",E)}try{const E=await Rt.post("/transaction/quality-control/scan",{qr_code:N});console.log(" Server response:",E.data),E.data.success&&(z.value=` ${E.data.message}`,setTimeout(()=>{Et(),be(E.data.data)},1e3))}catch(E){console.error(" Error processing QR:",E);let M=" Error: ";if(E.response?.data?M+=E.response.data.message||"Terjadi kesalahan":M+=E.message||"Terjadi kesalahan",$.value=M,alert(M),H.value)try{await H.value.resume(),I.value=" Scanner Aktif"}catch(ae){console.log("Cannot resume scanner:",ae)}}finally{Ie.value=!1}},Te=(N,E,M,ae,Fe)=>{const Qe=N?"R E J E C T":"R E L E A S E D",Je="#171917",nt=N?"red":"green",bt=E.noLot||E.batchLot||"N/A",Ct=ve(E.expDate||"N/A"),ht=ve(E.tanggalTerima||"N/A"),Qt=`[${E.kodeItem||"N/A"}] ${E.namaMaterial||"N/A"}`,jt=Xs().props.auth?.user?.name||"Logistik",Ht=E.qtyUnitPerWadah||0,Ft=`${ie(Ht)} ${E.uom||"PCS"}`,De=E.qtyWadah||1,Y=De>0?`${Ht} x ${De} box`:"",G=M?`<img src="${M}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">NO QR</div>';return`
        <div class="label-wrapper">
            <div class="label-container" style="border-color: ${Je};">
                <div class="header" style="border-bottom-color: ${Je};">
                    <img src="${ure}" alt="Logo Gondowangi" class="logo-img">
                    <div class="status-box" style="color: ${nt}; border-top-color: ${Je};">${Qe}</div>
                </div>
                
                <div class="content">
                    <div class="info-section">
                        <div class="info-row">
                            <div class="info-label">Nama Barang</div>
                            <div class="info-value" style="font-size: 11px;">: ${Qt}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Kode Barang</div>
                            <div class="info-value">: ${E.kodeItem||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">No Lot</div>
                            <div class="info-value">: ${bt}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Supplier</div>
                            <div class="info-value">: ${E.supplier||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Jmlh Barang</div>
                            <div class="info-value">: ${Ft}</div>
                        </div>
                        ${Y?`<div class="info-row">
                            <div class="info-label">Detail Wadah</div>
                            <div class="info-value multi-line">: ${Y}</div>
                        </div>`:""}
                        <div class="info-row">
                            <div class="info-label">Wadah Ke</div>
                            <div class="info-value">: ${ae} / ${De}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Tgl Datang</div>
                            <div class="info-value">: ${ht}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Exp. Date</div>
                            <div class="info-value">: ${Ct}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Dibuat Oleh</div>
                            <div class="info-value">: ${jt}</div>
                        </div>
                    </div>
                    
                    <div class="qr-section">
                        ${G}
                    </div>
                </div>
                
                <div class="footer" style="border-top-color: ${Je};">
                    <span class="footer-left">Logistik</span>
                    <span class="footer-right">QL1001-01 Rev. 02</span>
                </div>
            </div>
        </div>
    `},He=async(N,E)=>{const M=N.qtyWadah||1,ae=6;let Fe="";const Qe=E?"REJECT":"RELEASED";if(M<=0)throw new Error("Jumlah wadah tidak valid untuk dicetak.");for(let nt=0;nt<M;nt+=ae){let bt="";const Ct=Math.min(ae,M-nt);for(let ht=0;ht<Ct;ht++){const Qt=nt+ht+1,jt=N.qrCode||`${N.batchLot}|${N.kodeItem}|${Qe}|${N.qtyUnitPerWadah}|${N.expDate}|${Qt}/${M}`,Ht=await he(jt),Ft=Te(E,N,Ht,Qt);bt+=Ft}Fe+=`
            <div class="print-page" style="${nt>0?"page-break-before: always;":""}">
                ${bt}
            </div>
        `}const Je=E?"red":"green";return`
        <html>
        <head>
            <title>Cetak Label QR - ${N.kodeItem} (${M} Wadah)</title>
            <style>
                @page {
                    size: A4;
                    margin: 0.5cm;
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                    font-size: 10px;
                }
                
                .print-page {
                    width: 20cm; 
                    height: 28.7cm; 
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* ===========================================
                    GAYA VISUAL (diselaraskan dengan Penerimaan Barang)
                    =========================================== */

                .label-wrapper {
                    width: 9.9cm; /* 2 kolom di A4 */
                    height: calc(33.33% - 0.4cm); /* 3 baris di A4 */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; 
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid ${Je}; /* Warna border sesuai status */
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid ${Je};
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid ${Je};
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                        margin: 0 auto;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Menyesuaikan border/padding di mode print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${Fe}
        </body>
        </html>
    `},xe=async N=>{try{const E=await He(N,!1),M=window.open("","_blank");M?(M.document.write(E),M.document.close(),M.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(E){console.error("Error saat mencetak label RELEASED:",E),alert(E.message||"Terjadi kesalahan saat mencetak label.")}},ee=async N=>{try{const E=await He(N,!0),M=window.open("","_blank");M?(M.document.write(E),M.document.close(),M.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(E){console.error("Error saat mencetak label REJECT:",E),alert(E.message||"Terjadi kesalahan saat mencetak label.")}};return ni(()=>{ne()}),ni(async()=>{if(H.value)try{await H.value.stop(),await H.value.clear()}catch(N){console.error("Error cleaning up scanner:",N)}}),(N,E)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[n("div",Jte,[n("div",Zte,[E[28]||(E[28]=n("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar QC (Quality Control)",-1)),n("div",ese," Total item menunggu QC: "+A(e.itemsToQC.total),1),n("button",{onClick:vt,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...E[27]||(E[27]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1),Oe(" Scan QR Code ",-1)])])]),n("div",tse,[n("div",sse,[n("div",nse,[we(n("select",{"onUpdate:modelValue":E[0]||(E[0]=M=>h.value=M),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[...E[29]||(E[29]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"To QC"},"Menunggu QC",-1),n("option",{value:"Completed"},"Sudah QC (Pass/Reject)",-1),n("option",{value:"PASS"},"Lolos QC (PASS)",-1),n("option",{value:"REJECT"},"Tidak Lolos (REJECT)",-1)])],512),[[St,h.value]])]),n("div",rse,[we(n("input",{"onUpdate:modelValue":E[1]||(E[1]=M=>a.value=M),type:"text",placeholder:"Cari No Shipment, PO, Surat Jalan, Material...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Ve,a.value]])]),n("div",ose,[we(n("input",{"onUpdate:modelValue":E[2]||(E[2]=M=>d.value=M),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",title:"Tanggal Mulai"},null,512),[[Ve,d.value]]),E[30]||(E[30]=n("span",{class:"self-center text-gray-500"},"-",-1)),we(n("input",{"onUpdate:modelValue":E[3]||(E[3]=M=>u.value=M),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",title:"Tanggal Akhir"},null,512),[[Ve,u.value]])]),n("div",ise,[we(n("select",{"onUpdate:modelValue":E[4]||(E[4]=M=>g.value=M),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[...E[31]||(E[31]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1),n("option",{value:"all"},"Semua",-1)])],512),[[St,g.value]])])])]),n("div",ase,[n("div",lse,[n("table",dse,[E[34]||(E[34]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Shipment / No PO"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item (Kode & Nama)"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Diambil"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status QC"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",cse,[(T(!0),R(Ye,null,at(e.itemsToQC.data,M=>(T(),R("tr",{key:M.id,class:"hover:bg-gray-50"},[n("td",use,[n("div",null,A(M.shipmentNumber),1),n("div",xse,A(M.noPo),1)]),n("td",fse,A(M.noSuratJalan),1),n("td",hse,A(M.supplier),1),n("td",gse,[n("div",pse,A(M.kodeItem),1),n("div",mse,A(M.namaMaterial),1),M.is_reqc?(T(),R("span",bse,[E[32]||(E[32]=n("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),Oe(" RE-QC ("+A(M.reqc_count)+"x) ",1)])):se("",!0)]),n("td",yse,[n("span",vse,A(fe(q(M)))+" "+A(M.uom),1)]),n("td",wse,[n("span",{class:Se([Ue(M.statusQC),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(M.statusQC),3)]),n("td",Ese,[n("div",Cse,[M.statusQC==="To QC"&&s.value?(T(),R("button",{key:0,onClick:ae=>be(M),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs"}," Periksa QC ",8,Ase)):se("",!0),M.statusQC==="PASS"||M.statusQC==="REJECTED"?(T(),R("button",{key:1,onClick:ae=>qe(M),class:"bg-gray-100 text-gray-700 hover:bg-gray-200 px-3 py-1 rounded text-xs flex items-center gap-1"},[...E[33]||(E[33]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Oe(" Detail ",-1)])],8,kse)):se("",!0),M.statusQC==="PASS"?(T(),R("button",{key:2,onClick:ae=>xe(M),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (RELEASED) ",8,Bse)):se("",!0),M.statusQC==="REJECTED"?(T(),R("button",{key:3,onClick:ae=>ee(M),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (REJECT) ",8,_se)):se("",!0)])])]))),128))])])]),n("div",Dse,[ss(Xte,{links:e.itemsToQC.links},null,8,["links"])])]),b.value?(T(),R("div",Sse,[n("div",Fse,[n("div",Tse,[n("div",Mse,[n("h3",Ise,"Detail Item QC - "+A(D.value?.kodeItem),1),n("button",{onClick:Ge,class:"text-gray-400 hover:text-gray-600"},[...E[35]||(E[35]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Pse,[n("div",Rse,[n("div",null,[E[36]||(E[36]=n("label",{class:"block text-sm font-medium text-gray-700"},"No Shipment",-1)),n("div",Ose,A(D.value?.shipmentNumber),1)]),n("div",null,[E[37]||(E[37]=n("label",{class:"block text-sm font-medium text-gray-700"},"No PO",-1)),n("div",Nse,A(D.value?.noPo),1)]),n("div",null,[E[38]||(E[38]=n("label",{class:"block text-sm font-medium text-gray-700"},"No Surat Jalan",-1)),n("div",$se,A(D.value?.noSuratJalan),1)]),n("div",null,[E[39]||(E[39]=n("label",{class:"block text-sm font-medium text-gray-700"},"Kode Item",-1)),n("div",Lse,A(D.value?.kodeItem),1)]),n("div",null,[E[40]||(E[40]=n("label",{class:"block text-sm font-medium text-gray-700"},"Nama Material",-1)),n("div",jse,A(D.value?.namaMaterial),1)])]),n("div",Use,[n("div",null,[E[41]||(E[41]=n("label",{class:"block text-sm font-medium text-gray-700"},"Supplier",-1)),n("div",Hse,A(D.value?.supplier),1)]),n("div",null,[E[42]||(E[42]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quantity Received",-1)),n("div",zse,A(ie(D.value?.qtyReceived))+" "+A(D.value?.uom),1)]),n("div",null,[E[43]||(E[43]=n("label",{class:"block text-sm font-medium text-gray-700"},"No Kendaraan",-1)),n("div",Vse,A(D.value?.noKendaraan),1)]),n("div",null,[E[44]||(E[44]=n("label",{class:"block text-sm font-medium text-gray-700"},"Nama Driver",-1)),n("div",qse,A(D.value?.namaDriver),1)]),n("div",null,[E[45]||(E[45]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status QC",-1)),n("span",{class:Se([Ue(D.value?.statusQC),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},A(D.value?.statusQC),3)])])]),n("div",Wse,[n("button",{onClick:Ge,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),s.value?(T(),R("button",{key:0,onClick:dt,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Lanjut QC ")):se("",!0)])])])])):se("",!0),F.value?(T(),R("div",Qse,[n("div",Gse,[n("div",Kse,[n("div",Yse,[n("h3",Xse,"Form QC - "+A(D.value?.kodeItem),1),n("button",{onClick:ze,class:"text-gray-400 hover:text-gray-600"},[...E[46]||(E[46]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Jse,[n("div",null,[E[47]||(E[47]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Form Checklist",-1)),we(n("input",{"onUpdate:modelValue":E[5]||(E[5]=M=>J.value.noFormChecklist=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.noFormChecklist]])]),n("div",null,[E[48]||(E[48]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),we(n("input",{"onUpdate:modelValue":E[6]||(E[6]=M=>J.value.date=M),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,J.value.date]])]),n("div",null,[E[49]||(E[49]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO",-1)),we(n("input",{"onUpdate:modelValue":E[7]||(E[7]=M=>J.value.noPo=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.noPo]])]),n("div",null,[E[50]||(E[50]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan",-1)),we(n("input",{"onUpdate:modelValue":E[8]||(E[8]=M=>J.value.noSuratJalan=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.noSuratJalan]])]),n("div",null,[E[51]||(E[51]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item",-1)),we(n("input",{"onUpdate:modelValue":E[9]||(E[9]=M=>J.value.kodeItem=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.kodeItem]])]),n("div",null,[E[52]||(E[52]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material",-1)),we(n("input",{"onUpdate:modelValue":E[10]||(E[10]=M=>J.value.namaMaterial=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.namaMaterial]])]),n("div",null,[E[53]||(E[53]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Batch Lot",-1)),we(n("input",{"onUpdate:modelValue":E[11]||(E[11]=M=>J.value.batchLot=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.batchLot]])]),n("div",null,[E[54]||(E[54]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Supplier",-1)),we(n("input",{"onUpdate:modelValue":E[12]||(E[12]=M=>J.value.supplier=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.supplier]])]),n("div",null,[E[55]||(E[55]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),we(n("input",{"onUpdate:modelValue":E[13]||(E[13]=M=>J.value.kategori=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.kategori]])]),n("div",null,[E[56]||(E[56]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan",-1)),we(n("input",{"onUpdate:modelValue":E[14]||(E[14]=M=>J.value.noKendaraan=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.noKendaraan]])]),n("div",null,[E[57]||(E[57]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver",-1)),we(n("input",{"onUpdate:modelValue":E[15]||(E[15]=M=>J.value.namaDriver=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.namaDriver]])])]),n("div",Zse,[E[60]||(E[60]=n("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Pengambilan Sampel QC",-1)),n("div",ene,[n("div",tne,[n("label",sne," Qty Sampel Diambil ("+A(J.value.uom)+") * ",1),we(n("input",{"onUpdate:modelValue":E[16]||(E[16]=M=>J.value.qtySample=M),type:"number",min:"0",max:J.value.totalIncoming,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,nne),[[Ve,J.value.qtySample]]),J.value.qtySample>J.value.totalIncoming?(T(),R("p",rne," Qty Sampel tidak boleh melebihi Total Incoming ("+A(J.value.totalIncoming)+" "+A(J.value.uom)+") ",1)):se("",!0)]),n("div",null,[E[58]||(E[58]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Total Incoming",-1)),we(n("input",{"onUpdate:modelValue":E[17]||(E[17]=M=>J.value.totalIncoming=M),type:"number",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.totalIncoming]])]),n("div",null,[E[59]||(E[59]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM",-1)),we(n("input",{"onUpdate:modelValue":E[18]||(E[18]=M=>J.value.uom=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Ve,J.value.uom]])])])]),n("div",one,[E[69]||(E[69]=n("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Hasil QC",-1)),n("div",ine,[n("div",ane,[n("div",null,[E[61]||(E[61]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Defect Count",-1)),we(n("input",{"onUpdate:modelValue":E[19]||(E[19]=M=>J.value.defectCount=M),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,J.value.defectCount]])]),n("div",null,[E[62]||(E[62]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan QC",-1)),we(n("textarea",{"onUpdate:modelValue":E[20]||(E[20]=M=>J.value.catatanQC=M),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,J.value.catatanQC]])]),D.value?.is_reqc&&J.value.hasilQC==="PASS"?(T(),R("div",lne,[E[63]||(E[63]=n("label",{class:"block text-sm font-medium text-orange-900 mb-1"},[n("span",{class:"flex items-center gap-1"},[n("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})]),Oe(" Expired Date Baru (RE-QC PASS) ")])],-1)),we(n("input",{"onUpdate:modelValue":E[21]||(E[21]=M=>J.value.newExpDate=M),type:"date",required:"",class:"w-full px-3 py-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white text-gray-900"},null,512),[[Ve,J.value.newExpDate]]),E[64]||(E[64]=n("p",{class:"text-xs text-orange-700 mt-1"},"Masukkan tanggal expired baru untuk material yang PASS Re-QC",-1))])):se("",!0),E[65]||(E[65]=n("div",null,[n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload Foto Bukti"),n("input",{type:"file",multiple:"",accept:"image/*",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"})],-1))]),n("div",dne,[n("div",null,[E[68]||(E[68]=n("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Hasil QC *",-1)),n("div",cne,[n("label",une,[we(n("input",{"onUpdate:modelValue":E[22]||(E[22]=M=>J.value.hasilQC=M),type:"radio",value:"PASS",class:"mr-2 text-green-600 focus:ring-green-500"},null,512),[[ri,J.value.hasilQC]]),E[66]||(E[66]=n("span",{class:"text-sm text-gray-900"},"PASS",-1))]),n("label",xne,[we(n("input",{"onUpdate:modelValue":E[23]||(E[23]=M=>J.value.hasilQC=M),type:"radio",value:"REJECTED",class:"mr-2 text-red-600 focus:ring-red-500"},null,512),[[ri,J.value.hasilQC]]),E[67]||(E[67]=n("span",{class:"text-sm text-gray-900"},"REJECT",-1))])])]),J.value.hasilQC?(T(),R("div",{key:0,class:Se(["mt-4 p-4 rounded-lg",J.value.hasilQC==="PASS"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[n("div",{class:Se(["text-sm",J.value.hasilQC==="PASS"?"text-green-800":"text-red-800"])},[n("strong",null,A((J.value.hasilQC==="PASS","Akan digenerate:")),1),n("ul",fne,[J.value.hasilQC==="PASS"?(T(),R("li",hne,"Good Receipt Slip")):se("",!0),J.value.hasilQC==="PASS"?(T(),R("li",gne,"Label Karantina QR (Status: RELEASED)")):se("",!0),J.value.hasilQC==="REJECTED"?(T(),R("li",pne,"Return Slip")):se("",!0),J.value.hasilQC==="REJECTED"?(T(),R("li",mne,"Label QR (Status: REJECT)")):se("",!0)])],2)],2)):se("",!0)])])]),n("div",bne,[n("button",{onClick:xt,disabled:j.value,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed"}," Kembali ke Detail ",8,yne),s.value?(T(),R("button",{key:0,onClick:yt,disabled:!K.value||j.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2"},[j.value?(T(),R("svg",wne,[...E[70]||(E[70]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),n("span",null,A(j.value?"Menyimpan...":"Simpan Hasil QC"),1)],8,vne)):se("",!0)])])])])):se("",!0),S.value?(T(),R("div",Ene,[n("div",Cne,[n("div",Ane,[n("div",{class:"flex justify-between items-center mb-4"},[E[72]||(E[72]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Scan QR Code",-1)),n("button",{onClick:Et,class:"text-gray-400 hover:text-gray-600"},[...E[71]||(E[71]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",kne,[n("div",Bne,[E[73]||(E[73]=n("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden"},null,-1)),I.value?(T(),R("div",_ne,[n("span",{class:Se([le.value,"px-3 py-1 rounded-full text-xs font-semibold"])},A(I.value),3)])):se("",!0)]),z.value?(T(),R("div",Dne,[n("p",Sne,[E[74]||(E[74]=n("strong",null," QR Code terdeteksi:",-1)),E[75]||(E[75]=n("br",null,null,-1)),Oe(" "+A(z.value),1)])])):se("",!0),$.value?(T(),R("div",Fne,[n("p",Tne,[E[76]||(E[76]=n("strong",null," Error:",-1)),E[77]||(E[77]=n("br",null,null,-1)),Oe(" "+A($.value),1)])])):se("",!0),E[80]||(E[80]=n("div",{class:"relative"},[n("div",{class:"absolute inset-0 flex items-center"},[n("div",{class:"w-full border-t border-gray-300"})]),n("div",{class:"relative flex justify-center text-sm"},[n("span",{class:"px-2 bg-white text-gray-500"},"atau")])],-1)),n("div",null,[E[78]||(E[78]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Input Manual QR Code: ",-1)),n("div",Mne,[we(n("input",{"onUpdate:modelValue":E[24]||(E[24]=M=>O.value=M),onKeyup:E[25]||(E[25]=al(M=>ge(O.value),["enter"])),type:"text",placeholder:"Paste QR Code di sini...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Ve,O.value]]),n("button",{onClick:E[26]||(E[26]=M=>ge(O.value)),disabled:!O.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md"}," Process ",8,Ine)]),E[79]||(E[79]=n("p",{class:"mt-2 text-xs text-gray-500"}," Contoh format: IN/20250918/0001|RM-001|BATCH123|100|2027-01-01 ",-1))])])])])])):se("",!0),v.value?(T(),R("div",Pne,[n("div",Rne,[n("div",One,[n("div",Nne,[n("h3",$ne,[E[81]||(E[81]=n("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),Oe(" Detail QC - "+A(C.value?.kodeItem),1)]),n("button",{onClick:ot,class:"text-gray-400 hover:text-gray-600"},[...E[82]||(E[82]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Lne,[n("div",jne,[E[89]||(E[89]=n("h4",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),Oe(" Informasi Material ")],-1)),n("div",Une,[n("div",null,[E[83]||(E[83]=n("span",{class:"text-gray-600"},"Kode Item:",-1)),n("span",Hne,A(C.value?.kodeItem),1)]),n("div",null,[E[84]||(E[84]=n("span",{class:"text-gray-600"},"Nama Material:",-1)),n("span",zne,A(C.value?.namaMaterial),1)]),n("div",null,[E[85]||(E[85]=n("span",{class:"text-gray-600"},"Batch Lot:",-1)),n("span",Vne,A(C.value?.batchLot),1)]),n("div",null,[E[86]||(E[86]=n("span",{class:"text-gray-600"},"Supplier:",-1)),n("span",qne,A(C.value?.supplier),1)]),n("div",null,[E[87]||(E[87]=n("span",{class:"text-gray-600"},"No PO:",-1)),n("span",Wne,A(C.value?.noPo),1)]),n("div",null,[E[88]||(E[88]=n("span",{class:"text-gray-600"},"No Surat Jalan:",-1)),n("span",Qne,A(C.value?.noSuratJalan),1)])])]),n("div",Gne,[E[92]||(E[92]=n("h4",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),Oe(" Hasil QC ")],-1)),n("div",Kne,[n("div",null,[E[90]||(E[90]=n("span",{class:"text-gray-600"},"Status QC:",-1)),n("span",{class:Se([C.value?.statusQC==="PASS"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","ml-2 px-2 py-1 text-xs font-semibold rounded-full"])},A(C.value?.statusQC),3)]),n("div",null,[E[91]||(E[91]=n("span",{class:"text-gray-600"},"Qty Sampel Diambil:",-1)),n("span",Yne,A(C.value?.qcSampleQty)+" "+A(C.value?.uom),1)])])]),n("div",Xne,[E[95]||(E[95]=n("h4",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),Oe(" Detail Pemeriksaan ")],-1)),n("div",Jne,[C.value?.catatanQC?(T(),R("div",Zne,[E[93]||(E[93]=n("span",{class:"text-gray-600 font-medium"},"Catatan QC:",-1)),n("div",ere,A(C.value?.catatanQC),1)])):(T(),R("div",tre,[...E[94]||(E[94]=[n("span",{class:"text-gray-500 italic"},"Tidak ada catatan QC",-1)])]))])]),n("div",sre,[E[100]||(E[100]=n("h4",{class:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),Oe(" Informasi QC ")],-1)),n("div",nre,[n("div",null,[E[96]||(E[96]=n("span",{class:"text-blue-700"},"Diperiksa Oleh:",-1)),n("span",rre,A(C.value?.qc_by_name||"N/A"),1)]),n("div",null,[E[97]||(E[97]=n("span",{class:"text-blue-700"},"Tanggal QC:",-1)),n("span",ore,A(C.value?.qc_date||"N/A"),1)]),n("div",null,[E[98]||(E[98]=n("span",{class:"text-blue-700"},"No Form Checklist:",-1)),n("span",ire,A(C.value?.no_form_checklist||"N/A"),1)]),n("div",null,[E[99]||(E[99]=n("span",{class:"text-blue-700"},"Kategori:",-1)),n("span",are,A(C.value?.kategori||"N/A"),1)])])]),C.value?.is_reqc?(T(),R("div",lre,[n("div",dre,[E[101]||(E[101]=n("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),n("span",cre,"Material Re-QC ("+A(C.value?.reqc_count)+"x)",1)])])):se("",!0)]),n("div",{class:"flex justify-end mt-6 pt-6 border-t border-gray-200"},[n("button",{onClick:ot,class:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"}," Tutup ")])])])])):se("",!0)])]),_:1}))}}),fre=Object.freeze(Object.defineProperty({__proto__:null,default:xre},Symbol.toStringTag,{value:"Module"})),hre={__name:"index",setup(e){return(t,s)=>(T(),Dt(pn,{pageTitle:"Laporan",pageDescription:"Laporan dan analisis warehouse"},{default:_t(()=>[...s[0]||(s[0]=[n("div",{class:"bg-white rounded-lg shadow p-6"},[n("div",{class:"text-center py-12"},[n("svg",{class:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),n("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Halaman Laporan"),n("p",{class:"text-gray-600"},"Fitur laporan sedang dalam pengembangan")])],-1)])]),_:1}))}},gre=Object.freeze(Object.defineProperty({__proto__:null,default:hre},Symbol.toStringTag,{value:"Module"})),pre={class:"space-y-6"},mre={class:"bg-white rounded-lg shadow-sm border border-gray-200"},bre={class:"p-6 border-b border-gray-200"},yre={class:"flex flex-col lg:flex-row gap-4 mb-4"},vre={class:"flex-1"},wre={class:"relative"},Ere={key:0,class:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full"},Cre={key:0,class:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},Are={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},kre={class:"flex gap-2"},Bre={class:"flex justify-between items-center"},_re={class:"text-sm text-gray-600"},Dre={class:"flex gap-2"},Sre={class:"p-6"},Fre={class:"overflow-x-auto"},Tre={class:"min-w-full divide-y divide-gray-200"},Mre={class:"bg-white divide-y divide-gray-200"},Ire={key:0},Pre={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"},Rre={class:"px-6 py-4 whitespace-nowrap text-sm"},Ore={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Nre={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},$re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Lre={class:"px-6 py-4 whitespace-nowrap"},jre={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Ure={class:"flex space-x-2"},Hre=["onClick"],zre=["onClick"],Vre={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},qre={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},Wre={class:"p-6"},Qre={class:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"},Gre={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Kre=["onClick"],Yre={key:0,class:"space-y-6"},Xre={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Jre={class:"block text-sm font-medium text-gray-700 mb-1"},Zre={key:0},eoe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},toe={key:0},soe={key:1},noe={key:2},roe={key:3},ooe={key:4},ioe={key:5},aoe={class:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},loe={class:"block text-sm font-medium text-gray-700 mb-2"},doe={key:0},coe={key:1},uoe={key:2},xoe={class:"flex items-center gap-3"},foe=["disabled"],hoe={class:"border-t border-gray-200 pt-6"},goe={class:"flex justify-between items-center mb-4"},poe={class:"text-md font-medium text-gray-800"},moe={class:"overflow-x-auto border border-gray-200 rounded-lg"},boe={class:"min-w-full divide-y divide-gray-200"},yoe={class:"bg-gray-50"},voe={class:"divide-y divide-gray-200 bg-white"},woe={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},Eoe={class:"px-4 py-3 relative whitespace-nowrap z-10"},Coe=["onUpdate:modelValue","onInput","onFocus"],Aoe={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},koe=["onMousedown"],Boe={class:"text-gray-500 text-xs truncate ml-2"},_oe={class:"px-4 py-3 whitespace-nowrap"},Doe=["onUpdate:modelValue"],Soe={class:"px-4 py-3 whitespace-nowrap"},Foe=["onUpdate:modelValue"],Toe={key:1,class:"text-xs text-red-500 font-medium"},Moe={class:"px-4 py-3 whitespace-nowrap"},Ioe=["onUpdate:modelValue"],Poe={class:"px-4 py-3 relative whitespace-nowrap z-10"},Roe=["onUpdate:modelValue","onInput","onFocus"],Ooe={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},Noe=["onMousedown"],$oe={class:"text-gray-500 text-xs truncate ml-2"},Loe={class:"px-4 py-3 whitespace-nowrap"},joe=["onUpdate:modelValue"],Uoe={class:"px-4 py-3 whitespace-nowrap"},Hoe=["onUpdate:modelValue"],zoe={key:1,class:"text-xs text-red-500 font-medium"},Voe={class:"px-4 py-3 relative whitespace-nowrap z-10"},qoe=["onUpdate:modelValue","onInput","onFocus"],Woe={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},Qoe=["onMousedown"],Goe={class:"text-gray-500 text-xs truncate ml-2"},Koe={class:"px-4 py-3 whitespace-nowrap"},Yoe=["onUpdate:modelValue"],Xoe={class:"px-4 py-3 whitespace-nowrap"},Joe=["onUpdate:modelValue"],Zoe={key:1,class:"text-xs text-red-500 font-medium"},eie={class:"px-4 py-3 relative whitespace-nowrap z-10"},tie=["onUpdate:modelValue","onInput","onFocus"],sie={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},nie=["onMousedown"],rie={class:"text-gray-500 text-xs truncate ml-2"},oie={class:"px-4 py-3 whitespace-nowrap"},iie=["onUpdate:modelValue"],aie={class:"px-4 py-3 whitespace-nowrap"},lie=["onUpdate:modelValue"],die={class:"px-4 py-3 whitespace-nowrap"},cie=["onUpdate:modelValue"],uie={key:1,class:"text-xs text-red-500 font-medium"},xie={class:"px-4 py-3 whitespace-nowrap"},fie=["onClick"],hie={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},gie=["disabled"],pie={key:1,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},mie={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},bie={class:"p-6"},yie={class:"flex justify-between items-center mb-6 border-b pb-4"},vie={class:"text-xl font-bold text-gray-800"},wie={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 bg-gray-50 p-4 rounded-lg"},Eie={class:"space-y-1"},Cie={class:"space-y-1"},Aie={class:"font-medium text-gray-800"},kie={class:"space-y-1"},Bie={class:"space-y-1"},_ie={class:"text-gray-800"},Die={class:"space-y-1 md:col-span-2"},Sie={class:"text-gray-800"},Fie={class:"space-y-1"},Tie={class:"text-gray-800"},Mie={class:"space-y-1"},Iie={class:"text-gray-800"},Pie={class:"space-y-1"},Rie={class:"text-gray-800"},Oie={class:"space-y-1"},Nie={class:"text-gray-800"},$ie={class:"space-y-1"},Lie={class:"text-gray-800"},jie={key:0,class:"p-4 bg-yellow-50 text-yellow-700 rounded-lg"},Uie={key:1,class:"overflow-x-auto border border-gray-200 rounded-lg"},Hie={class:"min-w-full divide-y divide-gray-200"},zie={class:"bg-gray-50"},Vie={class:"divide-y divide-gray-200 bg-white"},qie={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},Wie={class:"px-4 py-3 text-sm text-gray-700"},Qie={class:"px-4 py-3 text-sm text-gray-700"},Gie={class:"px-4 py-3 text-sm text-gray-700"},Kie={class:"px-4 py-3 text-sm text-gray-700"},Yie={class:"px-4 py-3 text-sm text-gray-700"},Xie={class:"px-4 py-3 text-sm text-gray-700"},Jie={class:"px-4 py-3 text-sm text-gray-700"},Zie={class:"px-4 py-3 text-sm text-gray-700"},eae={class:"px-4 py-3 text-sm text-gray-700"},tae={class:"px-4 py-3 text-sm text-gray-700"},sae={class:"px-4 py-3 text-sm text-gray-700"},nae={class:"px-4 py-3 text-sm text-gray-700"},rae={class:"px-4 py-3 text-sm text-gray-700"},oae={class:"px-4 py-3 text-sm text-gray-700"},iae={class:"px-4 py-3 text-sm text-gray-700"},aae={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},lae={class:"bg-white rounded-lg p-6 w-full max-w-sm shadow-xl"},dae={class:"text-sm text-gray-600 mb-6"},cae={class:"flex justify-end space-x-3"},uae={key:1,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999]"},xae={class:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden shadow-2xl"},fae={class:"p-6"},hae={class:"flex items-center gap-3 mb-6"},gae={class:"flex-1"},pae={class:"text-sm text-gray-600 mt-1"},mae={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"},bae={class:"flex items-start gap-2"},yae={class:"text-sm text-blue-800"},vae={class:"overflow-hidden border border-gray-200 rounded-lg"},wae={class:"overflow-y-auto max-h-[50vh]"},Eae={class:"min-w-full divide-y divide-gray-200"},Cae={class:"bg-white divide-y divide-gray-200"},Aae={class:"px-4 py-3 text-sm font-mono text-gray-900"},kae={class:"px-4 py-3 text-sm text-gray-900"},Bae={class:"px-4 py-3 text-sm"},_ae={class:"px-2 py-1 bg-red-100 text-red-800 text-xs font-semibold rounded-full"},Dae={class:"px-4 py-3 text-sm"},Sae={class:"px-2 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full"},Fae={class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},Tae={__name:"Reservation",props:{initialRequests:{type:Array,default:()=>[]},errors:Object,auth:Object,permissions:Array},setup(e){const t=Xs(),s=de(!1),r=de(""),i=de(!1),a=de(""),d=de(!1),u=de(null),g=de(!1),h=de(""),m=de(null),b=de(null),v=de([]),C=de(null);let _=null;const F=de(!1),S=de([]),D=de(""),O=de({category:"",status:"",dateFrom:"",dateTo:""}),P=Ze(()=>{const N=[{id:"packaging",name:"Request Packaging Material",permission:"reservation.create.packaging"},{id:"raw-material",name:"Request Raw Material",permission:"reservation.create.raw_material"},{id:"foh-rs",name:"FOH & RS",permission:"reservation.create.foh"},{id:"add",name:"ADD (Additional Request)",permission:"reservation.create.add"}],E=t.props.auth?.permissions||j.permissions||[];return t.props.auth.user?.role?.name==="IT"?N:N.filter(ae=>!!(E.includes(ae.permission)||E.includes("reservation.create")))}),B=de({noReservasi:"",tanggalPermintaan:"",departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}),U=N=>{const E=N.target.files?N.target.files[0]:null;m.value=E,b.value=E?{type:"info",message:`File terpilih: ${E.name}`}:null},z=async()=>{if(!m.value){b.value={type:"error",message:" Harap pilih file PDF."};return}const N=new FormData;N.append("file",m.value),N.append("request_type",r.value);try{const E=await Rt.post(route("transaction.reservation.parse-materials"),N,{headers:{"Content-Type":"multipart/form-data"}}),M=E.data.header;M&&(r.value==="raw-material"?(B.value.kodeProduk=M.productName,B.value.noBets=M.productionOrderNo,B.value.besarBets=M.totalQuantity):(r.value==="packaging"||r.value==="add")&&(B.value.namaProduk=M.productName,B.value.noBetsFilling=M.productionOrderNo));const ae=E.data.materials||[];ae.length>0&&(r.value==="packaging"||r.value==="add"?B.value.items=ae.map(Fe=>({...Fe,jumlahPermintaan:Math.ceil(Fe.jumlahPermintaan||0)})):B.value.items=ae),E.data.hasSkippedItems&&E.data.skippedCategoryMismatch.length>0&&(S.value=E.data.skippedCategoryMismatch,D.value=E.data.skippedCategoryMismatch[0]?.expectedKategori||"",F.value=!0)}catch(E){console.error("Parsing failed:",E),E.response&&E.response.data&&E.response.data.message?b.value={type:"error",message:E.response.data.message}:b.value={type:"error",message:" Gagal memproses file PDF."}}},j=e,H=de(j.initialRequests||[]),I=async()=>{try{const N=await Rt.get(route("transaction.reservation.data"));H.value=N.data}catch(N){console.error("Error fetching reservations:",N)}},$=N=>{const E=P.value.find(M=>M.id===N);return E?E.name:N},J=N=>({"foh-rs":"bg-blue-100 text-blue-700",packaging:"bg-green-100 text-green-700","raw-material":"bg-purple-100 text-purple-700",add:"bg-orange-100 text-orange-700"})[N]||"bg-gray-100 text-gray-700",K=Ze(()=>{switch(r.value){case"foh-rs":return"Daftar Item";case"packaging":return"Daftar Material";case"raw-material":return"Daftar Bahan Baku";case"add":return"Daftar Item Tambahan";default:return"Daftar Item"}}),ie=(N,E)=>{const M=parseFloat(N[E])||0,ae=parseFloat(N.stokAvailable)||0;return M>ae&&M>0&&N.stokAvailable!==void 0},fe=Ze(()=>{let N="";switch(r.value){case"foh-rs":N="qty";break;case"packaging":case"add":N="jumlahPermintaan";break;case"raw-material":N="jumlahKebutuhan";break;default:return!1}return B.value.items.some(E=>ie(E,N))}),q=Ze(()=>{if(!r.value||!B.value.tanggalPermintaan||B.value.items.length===0||!B.value.items.every(E=>{switch(r.value){case"foh-rs":return E.kodeItem&&E.qty>0;case"packaging":case"add":return E.kodePM&&E.jumlahPermintaan>0;case"raw-material":return E.kodeBahan&&E.jumlahKebutuhan>0;default:return!1}}))return!1;switch(r.value){case"foh-rs":return!!B.value.departemen&&!!B.value.alasanReservasi;case"packaging":return!!B.value.namaProduk&&!!B.value.noBetsFilling;case"raw-material":return!!B.value.kodeProduk&&!!B.value.noBets&&B.value.besarBets>0;case"add":return!!B.value.namaProduk&&!!B.value.noBetsFilling;default:return!1}}),le=Ze(()=>{let N=H.value;if(a.value){const E=a.value.toLowerCase();N=N.filter(M=>M.noReservasi.toLowerCase().includes(E)||$(M.type).toLowerCase().includes(E)||ze(M).toLowerCase().includes(E)||M.status.toLowerCase().includes(E))}if(O.value.category&&(N=N.filter(E=>E.type===O.value.category)),O.value.status&&(N=N.filter(E=>E.status===O.value.status)),O.value.dateFrom){const E=new Date(O.value.dateFrom);N=N.filter(M=>new Date(M.tanggalPermintaan)>=E)}if(O.value.dateTo){const E=new Date(O.value.dateTo);E.setHours(23,59,59,999),N=N.filter(M=>new Date(M.tanggalPermintaan)<=E)}return N}),he=Ze(()=>{let N=0;return O.value.category&&N++,O.value.status&&N++,O.value.dateFrom&&N++,O.value.dateTo&&N++,N}),ve=(N,E)=>{C.value={index:N,field:E},v.value=[]},Ie=()=>{setTimeout(()=>{C.value=null,v.value=[]},200)},Ue=(N,E)=>C.value&&C.value.index===N&&C.value.field===E,be=async(N,E)=>{if(!N||N.length<2){v.value=[];return}try{const M=await Rt.get(route("transaction.materials.search"),{params:{query:N,type:E}});v.value=M.data}catch(M){console.error("Error fetching material suggestions:",M),v.value=[]}},qe=(N,E,M)=>{_&&clearTimeout(_),C.value={index:E,field:M},_=setTimeout(()=>{be(N,r.value)},300)},ot=(N,E,M)=>{const ae=B.value.items[E];ae.kodeItem="",ae.keterangan="",ae.uom="",ae.kodePM="",ae.namaMaterial="",ae.kodeBahan="",ae.namaBahan="",ae.satuan="",ae.stokAvailable=N.stokAvailable,r.value==="foh-rs"?(ae.kodeItem=N.kodeItem,ae.keterangan=N.keterangan,ae.uom=N.uom):r.value==="packaging"||r.value==="add"?(ae.kodePM=N.kodePM,ae.namaMaterial=N.namaMaterial,ae.satuan=N.satuan):r.value==="raw-material"&&(ae.kodeBahan=N.kodeBahan,ae.namaBahan=N.namaBahan,ae.satuan=N.satuan),v.value=[],C.value=null},Ge=N=>{if(console.log("formatQty input:",N,"type:",typeof N),N==null)return"0";const E=parseFloat(N);if(isNaN(E))return"0";if(E===Math.floor(E))return E.toString();const M=E.toFixed(6).replace(/\.?0+$/,"");return console.log("formatQty output:",M),M},dt=N=>({Draft:"bg-gray-100 text-gray-700",Submitted:"bg-blue-100 text-blue-700",Completed:"bg-green-100 text-green-700",Rejected:"bg-red-100 text-red-700",Picking:"bg-yellow-100 text-yellow-700",Done:"bg-purple-100 text-purple-700"})[N]||"bg-yellow-100 text-yellow-700",ze=N=>{switch(N.type){case"foh-rs":return N.departemen;case"packaging":return N.namaProduk;case"raw-material":return N.kodeProduk;case"add":return N.namaProduk;default:return"-"}},xt=N=>{if(!N)return"-";try{return new Date(N).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return N}},ft=()=>{O.value={category:"",status:"",dateFrom:"",dateTo:""}},yt=()=>{it(),Et(),s.value=!0},vt=()=>{s.value=!1,it()},it=()=>{m.value=null,b.value=null,r.value="",B.value={noReservasi:"",tanggalPermintaan:new Date().toISOString().slice(0,16),departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}},Et=()=>{const N=new Date().toISOString().slice(0,10).replace(/-/g,""),E=H.value.length+1;B.value.noReservasi=`RSV/${N}/${String(E).padStart(4,"0")}`},ne=()=>{const N={};switch(r.value){case"foh-rs":N.kodeItem="",N.keterangan="",N.qty=null,N.uom="",N.stokAvailable=void 0;break;case"packaging":N.namaMaterial="",N.kodePM="",N.jumlahPermintaan=null,N.satuan="",N.stokAvailable=void 0;break;case"raw-material":N.kodeBahan="",N.namaBahan="",N.jumlahKebutuhan=null,N.jumlahKirim=null,N.satuan="",N.stokAvailable=void 0;break;case"add":N.namaMaterial="",N.kodePM="",N.alasanPenambahan="",N.jumlahPermintaan=null,N.satuan="",N.stokAvailable=void 0;break}B.value.items.push(N)},ge=N=>{B.value.items.splice(N,1)},Te=async()=>{if(!q.value){h.value="Mohon lengkapi semua field yang diperlukan (termasuk Tanggal Permintaan, minimal satu Item, dan semua field header wajib) sebelum melanjutkan.",g.value=!0;return}if(fe.value){h.value="Tidak dapat mengirim permintaan: Beberapa item melebihi stok yang tersedia. Harap perbaiki kuantitas permintaan.",g.value=!0;return}const N={...B.value,request_type:r.value};Bt.post(route("transaction.reservation.store"),N,{preserveScroll:!0,onSuccess:()=>{console.log(" Reservation request berhasil dibuat!"),vt(),I()},onError:E=>{console.error("Validation errors:",E);let M=` Gagal membuat reservasi karena data tidak lengkap:

`;for(const ae in E)if(Object.prototype.hasOwnProperty.call(E,ae)){const Fe=Array.isArray(E[ae])?E[ae][0]:E[ae];M+=` ${Fe}
`}h.value=M,g.value=!0}})},He=N=>{u.value=JSON.parse(JSON.stringify(N)),d.value=!0},xe=()=>{d.value=!1,u.value=null},ee=N=>{const E=JSON.parse(JSON.stringify(N));if(!E.items||!Array.isArray(E.items)){console.error("Tidak dapat mencetak: Data item tidak valid atau kosong."),h.value="Tidak dapat mencetak: Data item tidak valid atau kosong.",g.value=!0;return}const M=window.open("","_blank");let ae="",Fe="";const Qe=E.items.map((Je,nt)=>{let bt=`<td>${nt+1}</td>`;const Ct=E.type?E.type.toLowerCase():"";return Ct==="foh-rs"?bt+=`
            <td>${Je.kodeItem||"-"}</td>
            <td>${Je.keterangan||"-"}</td>
            <td>${Je.qty||"-"}</td>
            <td>${Je.uom||"-"}</td>
        `:Ct==="packaging"?bt+=`
            <td>${Je.namaMaterial||"-"}</td>
            <td>${Je.kodePM||"-"}</td>
            <td>${Je.jumlahPermintaan||"-"}</td>
        `:Ct==="raw-material"?bt+=`
            <td>${Je.kodeBahan||"-"}</td>
            <td>${Je.namaBahan||"-"}</td>
            <td>${Je.jumlahKebutuhan||"-"}</td>
            <td>${Je.jumlahKirim||"-"}</td>
        `:Ct==="add"&&(bt+=`
            <td>${Je.namaMaterial||"-"}</td>
            <td>${Je.kodePM||"-"}</td>
            <td>${Je.alasanPenambahan||"-"}</td>
            <td>${Je.jumlahPermintaan||"-"}</td>
        `),`<tr>${bt}</tr>`}).join("");switch(E.type?E.type.toLowerCase():""){case"foh-rs":ae="FORM FOH & RS REQUEST",Fe=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${E.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${xt(E.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Departemen:</strong> ${E.departemen}</span>
            <span><strong>Status:</strong> ${E.status}</span>
          </div>
          <div class="info-row">
            <span><strong>Alasan Reservasi:</strong> ${E.alasanReservasi||"-"}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Item</th>
              <th>Keterangan</th>
              <th>Qty</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
          ${Qe}
          </tbody>
        </table>
      `;break;case"packaging":ae="FORM REQUEST PACKAGING MATERIAL",Fe=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${E.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${xt(E.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${E.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${E.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${Qe}
          </tbody>
        </table>
      `;break;case"raw-material":ae="FORM REQUEST RAW MATERIAL",Fe=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${E.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${xt(E.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Kode Produk:</strong> ${E.kodeProduk}</span>
            <span><strong>No Bets:</strong> ${E.noBets}</span>
          </div>
          <div class="info-row">
            <span><strong>Besar Bets:</strong> ${E.besarBets} Kg</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Bahan</th>
              <th>Nama Bahan</th>
              <th>Jumlah Kebutuhan</th>
            </tr>
          </thead>
          <tbody>
          ${Qe}
          </tbody>
        </table>
      `;break;case"add":ae="FORM ADD - ADDITIONAL REQUEST",Fe=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${E.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${xt(E.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${E.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${E.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Alasan Penambahan</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${Qe}
          </tbody>
        </table>
      `;break;default:console.error("Tipe request tidak dikenal: ",E.type),h.value=`Tipe request tidak dikenal: ${E.type}`,g.value=!0;return}M.document.write(`
    <html>
      <head>
        <title>${ae} - ${E.noReservasi}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .info-section { margin: 20px 0; }
          .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; text-align: left; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; }
          .signature { margin-top: 40px; display: flex; justify-content: space-between; }
          .signature div { text-align: center; }
          .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
          @media print {
            body { margin: 0; font-size: 11px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>${ae}</h2>
          <p>No: ${E.noReservasi}</p>
        </div>

        ${Fe}

        <div class="signature">
          <div>
            <p>Dibuat Oleh:</p>
            <div class="signature-line"></div>
            <p>Requester</p>
          </div>
          <div>
            <p>Disetujui Oleh:</p>
            <div class="signature-line"></div>
            <p>Supervisor</p>
          </div>
          <div>
            <p>Tanggal:</p>
            <div class="signature-line"></div>
            <p>${new Date().toLocaleDateString("id-ID")}</p>
          </div>
        </div>
      </body>
    </html>
  `),M.document.close(),M.focus(),setTimeout(()=>{M.print(),M.close()},500)};return gn(()=>{}),(N,E)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[n("div",pre,[E[91]||(E[91]=n("div",{class:"flex justify-between items-center"},[n("h2",{class:"text-2xl font-bold text-gray-800"},"Reservation Requests")],-1)),n("div",mre,[n("div",bre,[n("div",yre,[n("div",vre,[n("div",wre,[we(n("input",{"onUpdate:modelValue":E[0]||(E[0]=M=>a.value=M),type:"text",placeholder:"Cari berdasarkan No Reservasi, Kategori, atau Detail Info...",class:"w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700"},null,512),[[Ve,a.value]]),E[23]||(E[23]=n("svg",{class:"w-5 h-5 absolute left-3 top-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),n("button",{onClick:E[1]||(E[1]=M=>i.value=!i.value),class:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors border border-gray-300"},[E[24]||(E[24]=n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),E[25]||(E[25]=Oe(" Filter ",-1)),he.value>0?(T(),R("span",Ere,A(he.value),1)):se("",!0)]),n("button",{onClick:yt,class:"px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors"},[...E[26]||(E[26]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Oe(" Buat Request ",-1)])])]),i.value?(T(),R("div",Cre,[n("div",Are,[n("div",null,[E[28]||(E[28]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),we(n("select",{"onUpdate:modelValue":E[2]||(E[2]=M=>O.value.category=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...E[27]||(E[27]=[n("option",{value:""},"Semua Kategori",-1),n("option",{value:"foh-rs"},"FOH & RS",-1),n("option",{value:"packaging"},"Request Packaging Material",-1),n("option",{value:"raw-material"},"Request Raw Material",-1),n("option",{value:"add"},"ADD (Additional Request)",-1)])],512),[[St,O.value.category]])]),n("div",null,[E[30]||(E[30]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),we(n("select",{"onUpdate:modelValue":E[3]||(E[3]=M=>O.value.status=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...E[29]||(E[29]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"Draft"},"Draft",-1),n("option",{value:"Submitted"},"Submitted",-1),n("option",{value:"Approved"},"Approved",-1),n("option",{value:"Rejected"},"Rejected",-1),n("option",{value:"Picking"},"Picking",-1),n("option",{value:"Done"},"Done",-1)])],512),[[St,O.value.status]])]),n("div",null,[E[31]||(E[31]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rentang Tanggal",-1)),n("div",kre,[we(n("input",{"onUpdate:modelValue":E[4]||(E[4]=M=>O.value.dateFrom=M),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[Ve,O.value.dateFrom]]),we(n("input",{"onUpdate:modelValue":E[5]||(E[5]=M=>O.value.dateTo=M),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[Ve,O.value.dateTo]])])])]),n("div",Bre,[n("div",_re," Total hasil: "+A(le.value.length)+" dari "+A(H.value.length)+" requests ",1),n("div",Dre,[n("button",{onClick:ft,class:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm"}," Reset Filter "),n("button",{onClick:E[6]||(E[6]=M=>i.value=!1),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm"}," Terapkan ")])])])):se("",!0)]),n("div",Sre,[n("div",Fre,[n("table",Tre,[E[33]||(E[33]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Reservasi"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Kategori "),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Tanggal Permintaan"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Batch Record (MO)"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Detail Info"),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status "),n("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",Mre,[le.value.length===0?(T(),R("tr",Ire,[...E[32]||(E[32]=[n("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," Tidak ada data yang ditemukan ",-1)])])):se("",!0),(T(!0),R(Ye,null,at(le.value,M=>(T(),R("tr",{key:M.id,class:"hover:bg-gray-50 transition-colors"},[n("td",Pre,A(M.noReservasi),1),n("td",Rre,[n("span",{class:Se(["px-2 py-1 text-xs font-medium rounded-full",J(M.type)])},A($(M.type)),3)]),n("td",Ore,A(xt(M.tanggalPermintaan)),1),n("td",Nre,A(M.type==="raw-material"?M.noBets||"-":(M.type==="packaging"||M.type==="add")&&M.noBetsFilling||"-"),1),n("td",$re,A(ze(M)),1),n("td",Lre,[n("span",{class:Se([dt(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(M.status),3)]),n("td",jre,[n("div",Ure,[n("button",{onClick:ae=>He(M),class:"bg-blue-50 text-blue-700 hover:bg-blue-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Detail ",8,Hre),n("button",{onClick:ae=>ee(M),class:"bg-green-50 text-green-700 hover:bg-green-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Cetak ",8,zre)])])]))),128))])])])])]),s.value?(T(),R("div",Vre,[n("div",qre,[n("div",Wre,[n("div",{class:"flex justify-between items-center mb-6"},[E[35]||(E[35]=n("h3",{class:"text-lg font-semibold text-gray-800"}," Buat Request Reservasi Baru ",-1)),n("button",{onClick:vt,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...E[34]||(E[34]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Qre,[E[36]||(E[36]=n("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Pilih Kategori Request:",-1)),n("div",Gre,[(T(!0),R(Ye,null,at(P.value,M=>(T(),R("button",{key:M.id,onClick:ae=>r.value=M.id,class:Se(["p-4 rounded-lg border-2 text-sm font-medium transition-all",r.value===M.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50"])},A(M.name),11,Kre))),128))])]),r.value?(T(),R("div",Yre,[n("div",Xre,[n("div",null,[E[37]||(E[37]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Reservasi",-1)),we(n("input",{"onUpdate:modelValue":E[7]||(E[7]=M=>B.value.noReservasi=M),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"},null,512),[[Ve,B.value.noReservasi]])]),n("div",null,[n("label",Jre,A(r.value==="packaging"||r.value==="add"?"Tanggal & Jam Permintaan":"Tanggal Permintaan"),1),we(n("input",{"onUpdate:modelValue":E[8]||(E[8]=M=>B.value.tanggalPermintaan=M),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Ve,B.value.tanggalPermintaan]])]),r.value==="foh-rs"?(T(),R("div",Zre,[E[38]||(E[38]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("Alasan Reservasi "),n("span",{class:"text-red-500"},"*")],-1)),we(n("textarea",{"onUpdate:modelValue":E[9]||(E[9]=M=>B.value.alasanReservasi=M),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",placeholder:"Jelaskan alasan reservasi..."},null,512),[[Ve,B.value.alasanReservasi]])])):se("",!0)]),n("div",eoe,[r.value==="foh-rs"?(T(),R("div",toe,[E[40]||(E[40]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("Departemen "),n("span",{class:"text-red-500"},"*")],-1)),we(n("select",{"onUpdate:modelValue":E[10]||(E[10]=M=>B.value.departemen=M),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},[...E[39]||(E[39]=[n("option",{value:""},"Pilih Departemen",-1),n("option",{value:"Marketing"},"Marketing",-1),n("option",{value:"Produksi"},"Produksi",-1),n("option",{value:"IT"},"IT",-1),n("option",{value:"HRD"},"HRD",-1)])],512),[[St,B.value.departemen]])])):se("",!0),r.value==="packaging"||r.value==="add"?(T(),R("div",soe,[E[41]||(E[41]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("Nama Produk "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":E[11]||(E[11]=M=>B.value.namaProduk=M),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Ve,B.value.namaProduk]])])):se("",!0),r.value==="raw-material"?(T(),R("div",noe,[E[42]||(E[42]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("Nama Produk "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":E[12]||(E[12]=M=>B.value.kodeProduk=M),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Ve,B.value.kodeProduk]])])):se("",!0),r.value==="packaging"||r.value==="add"?(T(),R("div",roe,[E[43]||(E[43]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("No Bets Filling / Mixing "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":E[13]||(E[13]=M=>B.value.noBetsFilling=M),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Ve,B.value.noBetsFilling]])])):se("",!0),r.value==="raw-material"?(T(),R("div",ooe,[E[44]||(E[44]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("No Bets Ekstrak / Mixing "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":E[14]||(E[14]=M=>B.value.noBets=M),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Ve,B.value.noBets]])])):se("",!0),r.value==="raw-material"?(T(),R("div",ioe,[E[45]||(E[45]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Oe("Besar Bets (Kg) "),n("span",{class:"text-red-500"},"*")],-1)),we(n("input",{"onUpdate:modelValue":E[15]||(E[15]=M=>B.value.besarBets=M),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Ve,B.value.besarBets]])])):se("",!0)]),n("div",aoe,[n("label",loe,[E[46]||(E[46]=Oe(" Import dari PDF (Otomatisisi Daftar Material) ",-1)),r.value==="raw-material"?(T(),R("span",doe,"(Mengambil bahan-bahan)")):r.value==="packaging"?(T(),R("span",coe,"(Mengambil material packaging)")):r.value==="foh-rs"?(T(),R("span",uoe,"(Mengambil item FOH/RS)")):se("",!0)]),n("div",xoe,[n("input",{type:"file",onChange:U,accept:".pdf, .xlsx, .xls",class:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600"},null,32),n("button",{onClick:z,disabled:!m.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors disabled:bg-gray-400"}," Proses Import ",8,foe)]),b.value?(T(),R("p",{key:0,class:Se(["mt-2 text-sm",b.value.type==="error"?"text-red-600":"text-green-600"])},A(b.value.message),3)):se("",!0)]),n("div",hoe,[n("div",goe,[n("h4",poe,A(K.value),1),n("button",{onClick:ne,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors"}," + Tambah Baris ")]),n("div",moe,[n("table",boe,[n("thead",yoe,[n("tr",null,[E[61]||(E[61]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-16"}," No",-1)),r.value==="foh-rs"?(T(),R(Ye,{key:0},[E[47]||(E[47]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Item",-1)),E[48]||(E[48]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Keterangan",-1)),E[49]||(E[49]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[120px]"}," Qty & Stok Tersedia",-1)),E[50]||(E[50]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," UoM",-1))],64)):se("",!0),r.value==="packaging"?(T(),R(Ye,{key:1},[E[51]||(E[51]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),E[52]||(E[52]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),E[53]||(E[53]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):se("",!0),r.value==="raw-material"?(T(),R(Ye,{key:2},[E[54]||(E[54]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Bahan",-1)),E[55]||(E[55]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Bahan",-1)),E[56]||(E[56]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Kebutuhan & Stok Tersedia",-1))],64)):se("",!0),r.value==="add"?(T(),R(Ye,{key:3},[E[57]||(E[57]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),E[58]||(E[58]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),E[59]||(E[59]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Alasan Penambahan",-1)),E[60]||(E[60]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):se("",!0),E[62]||(E[62]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-24"}," Aksi",-1))])]),n("tbody",voe,[(T(!0),R(Ye,null,at(B.value.items,(M,ae)=>(T(),R("tr",{key:ae},[n("td",woe,A(ae+1),1),r.value==="foh-rs"?(T(),R(Ye,{key:0},[n("td",Eoe,[we(n("input",{"onUpdate:modelValue":Fe=>M.kodeItem=Fe,type:"text",onInput:Fe=>qe(M.kodeItem,ae,"kodeItem"),onFocus:Fe=>ve(ae,"kodeItem"),onBlur:E[16]||(E[16]=Fe=>Ie()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,Coe),[[Ve,M.kodeItem]]),Ue(ae,"kodeItem")&&v.value.length>0?(T(),R("ul",Aoe,[(T(!0),R(Ye,null,at(v.value,Fe=>(T(),R("li",{key:Fe.id,onMousedown:Os(Qe=>ot(Fe,ae,"kodeItem"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[n("span",null,A(Fe.kodeItem),1),n("span",Boe,A(Fe.keterangan||Fe.namaMaterial)+" (Stok: "+A(Fe.stokAvailable)+")",1)],40,koe))),128))])):se("",!0)]),n("td",_oe,[we(n("input",{"onUpdate:modelValue":Fe=>M.keterangan=Fe,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,Doe),[[Ve,M.keterangan]])]),n("td",Soe,[we(n("input",{"onUpdate:modelValue":Fe=>M.qty=Fe,type:"number",step:"any",min:"0",class:Se([{"border-red-500 ring-red-500":ie(M,"qty")},"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,Foe),[[Ve,M.qty,void 0,{number:!0}]]),M.stokAvailable!==void 0?(T(),R("p",{key:0,class:Se(["text-xs mt-1",M.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+A(M.stokAvailable||0)+" "+A(M.uom||""),3)):se("",!0),ie(M,"qty")?(T(),R("p",Toe," Permintaan melebihi stok! ")):se("",!0)]),n("td",Moe,[we(n("select",{"onUpdate:modelValue":Fe=>M.uom=Fe,class:"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:"",disabled:""},[...E[63]||(E[63]=[n("option",{value:""},"UoM",-1),n("option",{value:"PCS"},"PCS",-1),n("option",{value:"KG"},"KG",-1),n("option",{value:"L"},"L",-1)])],8,Ioe),[[St,M.uom]])])],64)):se("",!0),r.value==="packaging"?(T(),R(Ye,{key:1},[n("td",Poe,[we(n("input",{"onUpdate:modelValue":Fe=>M.kodePM=Fe,type:"text",onInput:Fe=>qe(M.kodePM,ae,"kodePM"),onFocus:Fe=>ve(ae,"kodePM"),onBlur:E[17]||(E[17]=Fe=>Ie()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,Roe),[[Ve,M.kodePM]]),Ue(ae,"kodePM")&&v.value.length>0?(T(),R("ul",Ooe,[(T(!0),R(Ye,null,at(v.value,Fe=>(T(),R("li",{key:Fe.id,onMousedown:Os(Qe=>ot(Fe,ae,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[n("span",null,A(Fe.kodePM),1),n("span",$oe,"Stok: "+A(Fe.stokAvailable)+" "+A(Fe.satuan||""),1)],40,Noe))),128))])):se("",!0)]),n("td",Loe,[we(n("input",{"onUpdate:modelValue":Fe=>M.namaMaterial=Fe,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,joe),[[Ve,M.namaMaterial]])]),n("td",Uoe,[we(n("input",{"onUpdate:modelValue":Fe=>M.jumlahPermintaan=Fe,type:"number",step:"any",min:"0",class:Se([{"border-red-500 ring-red-500":ie(M,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,Hoe),[[Ve,M.jumlahPermintaan,void 0,{number:!0}]]),M.stokAvailable!==void 0?(T(),R("p",{key:0,class:Se(["text-xs mt-1",M.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+A(M.stokAvailable||0)+" "+A(M.satuan||""),3)):se("",!0),ie(M,"jumlahPermintaan")?(T(),R("p",zoe," Permintaan melebihi stok! ")):se("",!0)])],64)):se("",!0),r.value==="raw-material"?(T(),R(Ye,{key:2},[n("td",Voe,[we(n("input",{"onUpdate:modelValue":Fe=>M.kodeBahan=Fe,type:"text",onInput:Fe=>qe(M.kodeBahan,ae,"kodeBahan"),onFocus:Fe=>ve(ae,"kodeBahan"),onBlur:E[18]||(E[18]=Fe=>Ie()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,qoe),[[Ve,M.kodeBahan]]),Ue(ae,"kodeBahan")&&v.value.length>0?(T(),R("ul",Woe,[(T(!0),R(Ye,null,at(v.value,Fe=>(T(),R("li",{key:Fe.id,onMousedown:Os(Qe=>ot(Fe,ae,"kodeBahan"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[n("span",null,A(Fe.kodeBahan),1),n("span",Goe,"Stok: "+A(Fe.stokAvailable)+" "+A(Fe.satuan||""),1)],40,Qoe))),128))])):se("",!0)]),n("td",Koe,[we(n("input",{"onUpdate:modelValue":Fe=>M.namaBahan=Fe,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,Yoe),[[Ve,M.namaBahan]])]),n("td",Xoe,[we(n("input",{"onUpdate:modelValue":Fe=>M.jumlahKebutuhan=Fe,type:"number",step:"any",min:"0",class:Se([{"border-red-500 ring-red-500":ie(M,"jumlahKebutuhan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,Joe),[[Ve,M.jumlahKebutuhan,void 0,{number:!0}]]),M.stokAvailable!==void 0?(T(),R("p",{key:0,class:Se(["text-xs mt-1",M.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+A(M.stokAvailable||0)+" "+A(M.satuan||""),3)):se("",!0),ie(M,"jumlahKebutuhan")?(T(),R("p",Zoe," Permintaan melebihi stok! ")):se("",!0)])],64)):se("",!0),r.value==="add"?(T(),R(Ye,{key:3},[n("td",eie,[we(n("input",{"onUpdate:modelValue":Fe=>M.kodePM=Fe,type:"text",onInput:Fe=>qe(M.kodePM,ae,"kodePM"),onFocus:Fe=>ve(ae,"kodePM"),onBlur:E[19]||(E[19]=Fe=>Ie()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,tie),[[Ve,M.kodePM]]),Ue(ae,"kodePM")&&v.value.length>0?(T(),R("ul",sie,[(T(!0),R(Ye,null,at(v.value,Fe=>(T(),R("li",{key:Fe.id,onMousedown:Os(Qe=>ot(Fe,ae,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[n("span",null,A(Fe.kodePM),1),n("span",rie,"Stok: "+A(Fe.stokAvailable)+" "+A(Fe.satuan||""),1)],40,nie))),128))])):se("",!0)]),n("td",oie,[we(n("input",{"onUpdate:modelValue":Fe=>M.namaMaterial=Fe,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,iie),[[Ve,M.namaMaterial]])]),n("td",aie,[we(n("input",{"onUpdate:modelValue":Fe=>M.alasanPenambahan=Fe,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,lie),[[Ve,M.alasanPenambahan]])]),n("td",die,[we(n("input",{"onUpdate:modelValue":Fe=>M.jumlahPermintaan=Fe,type:"number",step:"any",min:"0",class:Se([{"border-red-500 ring-red-500":ie(M,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,cie),[[Ve,M.jumlahPermintaan,void 0,{number:!0}]]),M.stokAvailable!==void 0?(T(),R("p",{key:0,class:Se(["text-xs mt-1",M.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+A(M.stokAvailable||0)+" "+A(M.satuan||""),3)):se("",!0),ie(M,"jumlahPermintaan")?(T(),R("p",uie," Permintaan melebihi stok! ")):se("",!0)])],64)):se("",!0),n("td",xie,[n("button",{onClick:Fe=>ge(ae),class:"bg-red-50 text-red-700 hover:bg-red-100 px-2 py-1 rounded text-xs font-medium transition-colors"},"Hapus",8,fie)])]))),128))])])])]),n("div",hie,[n("button",{onClick:vt,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Batal "),n("button",{onClick:Te,disabled:!q.value||fe.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Simpan & Submit ",8,gie)])])):se("",!0)])])])):se("",!0),d.value&&u.value?(T(),R("div",pie,[n("div",mie,[n("div",bie,[n("div",yie,[n("h3",vie," Detail Reservasi: "+A(u.value.noReservasi),1),n("button",{onClick:xe,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...E[64]||(E[64]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",wie,[n("div",Eie,[E[65]||(E[65]=n("p",{class:"text-sm font-medium text-gray-600"},"Kategori Request",-1)),n("span",{class:Se(["px-3 py-1 text-xs font-semibold rounded-full",J(u.value.type)])},A($(u.value.type)),3)]),n("div",Cie,[E[66]||(E[66]=n("p",{class:"text-sm font-medium text-gray-600"},"Tanggal Permintaan",-1)),n("p",Aie,A(xt(u.value.tanggalPermintaan)),1)]),n("div",kie,[E[67]||(E[67]=n("p",{class:"text-sm font-medium text-gray-600"},"Status",-1)),n("span",{class:Se([dt(u.value.status),"px-3 py-1 text-xs font-semibold rounded-full"])},A(u.value.status),3)]),u.value.type==="foh-rs"?(T(),R(Ye,{key:0},[n("div",Bie,[E[68]||(E[68]=n("p",{class:"text-sm font-medium text-gray-600"},"Departemen",-1)),n("p",_ie,A(u.value.departemen),1)]),n("div",Die,[E[69]||(E[69]=n("p",{class:"text-sm font-medium text-gray-600"},"Alasan Reservasi",-1)),n("p",Sie,A(u.value.alasanReservasi||"-"),1)])],64)):u.value.type==="packaging"||u.value.type==="add"?(T(),R(Ye,{key:1},[n("div",Fie,[E[70]||(E[70]=n("p",{class:"text-sm font-medium text-gray-600"},"Nama Produk",-1)),n("p",Tie,A(u.value.namaProduk),1)]),n("div",Mie,[E[71]||(E[71]=n("p",{class:"text-sm font-medium text-gray-600"},"No Bets Filling/Mixing",-1)),n("p",Iie,A(u.value.noBetsFilling),1)])],64)):u.value.type==="raw-material"?(T(),R(Ye,{key:2},[n("div",Pie,[E[72]||(E[72]=n("p",{class:"text-sm font-medium text-gray-600"},"Kode Produk",-1)),n("p",Rie,A(u.value.kodeProduk),1)]),n("div",Oie,[E[73]||(E[73]=n("p",{class:"text-sm font-medium text-gray-600"},"No Bets Ekstrak/Mixing",-1)),n("p",Nie,A(u.value.noBets),1)]),n("div",$ie,[E[74]||(E[74]=n("p",{class:"text-sm font-medium text-gray-600"},"Besar Bets (Kg)",-1)),n("p",Lie,A(u.value.besarBets)+" Kg",1)])],64)):se("",!0)]),E[90]||(E[90]=n("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Daftar Item yang Diminta",-1)),!u.value.items||u.value.items.length===0?(T(),R("div",jie," Tidak ada detail item yang tercatat. ")):(T(),R("div",Uie,[n("table",Hie,[n("thead",zie,[n("tr",null,[E[89]||(E[89]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase w-16"},"No",-1)),u.value.type==="foh-rs"?(T(),R(Ye,{key:0},[E[75]||(E[75]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Item",-1)),E[76]||(E[76]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Keterangan",-1)),E[77]||(E[77]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Qty",-1)),E[78]||(E[78]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"UoM",-1))],64)):u.value.type==="raw-material"?(T(),R(Ye,{key:1},[E[79]||(E[79]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Bahan",-1)),E[80]||(E[80]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Bahan",-1)),E[81]||(E[81]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Kebutuhan",-1))],64)):u.value.type==="packaging"?(T(),R(Ye,{key:2},[E[82]||(E[82]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),E[83]||(E[83]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),E[84]||(E[84]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):u.value.type==="add"?(T(),R(Ye,{key:3},[E[85]||(E[85]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),E[86]||(E[86]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),E[87]||(E[87]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Alasan Tambahan",-1)),E[88]||(E[88]=n("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):se("",!0)])]),n("tbody",Vie,[(T(!0),R(Ye,null,at(u.value.items,(M,ae)=>(T(),R("tr",{key:ae},[n("td",qie,A(ae+1),1),u.value.type==="foh-rs"?(T(),R(Ye,{key:0},[n("td",Wie,A(M.kodeItem),1),n("td",Qie,A(M.keterangan),1),n("td",Gie,A(M.qty),1),n("td",Kie,A(M.uom),1)],64)):u.value.type==="packaging"?(T(),R(Ye,{key:1},[n("td",Yie,A(M.namaMaterial),1),n("td",Xie,A(M.kodePM),1),n("td",Jie,A(M.jumlahPermintaan),1)],64)):u.value.type==="raw-material"?(T(),R(Ye,{key:2},[n("td",Zie,A(M.kodeBahan),1),n("td",eae,A(M.namaBahan),1),n("td",tae,A(Ge(M.jumlahKebutuhan)),1),n("td",sae,A(M.jumlahKirim),1)],64)):u.value.type==="add"?(T(),R(Ye,{key:3},[n("td",nae,A(M.namaMaterial),1),n("td",rae,A(M.kodePM),1),n("td",oae,A(M.alasanPenambahan),1),n("td",iae,A(M.jumlahPermintaan),1)],64)):se("",!0)]))),128))])])])),n("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[n("button",{onClick:xe,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Tutup ")])])])])):se("",!0)]),g.value?(T(),R("div",aae,[n("div",lae,[E[92]||(E[92]=n("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Peringatan Input",-1)),n("p",dae,A(h.value),1),n("div",cae,[n("button",{onClick:E[20]||(E[20]=M=>g.value=!1),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm"}," Oke ")])])])):se("",!0),F.value?(T(),R("div",uae,[n("div",xae,[n("div",fae,[n("div",hae,[E[95]||(E[95]=n("div",{class:"bg-yellow-100 p-3 rounded-full"},[n("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),n("div",gae,[E[93]||(E[93]=n("h3",{class:"text-xl font-bold text-gray-900"},"Material Kategori Tidak Sesuai",-1)),n("p",pae,A(S.value.length)+" item dilewati karena kategori tidak cocok ",1)]),n("button",{onClick:E[21]||(E[21]=M=>F.value=!1),class:"text-gray-400 hover:text-gray-600 transition"},[...E[94]||(E[94]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",mae,[n("div",bae,[E[101]||(E[101]=n("svg",{class:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),n("p",yae,[E[96]||(E[96]=n("strong",null," Informasi:",-1)),E[97]||(E[97]=Oe(" Item-item berikut ",-1)),E[98]||(E[98]=n("strong",null,"TIDAK",-1)),E[99]||(E[99]=Oe(" dimasukkan ke reservasi karena kategorinya berbeda dengan yang dipilih (",-1)),n("strong",null,A(D.value),1),E[100]||(E[100]=Oe("). ",-1))])])]),n("div",vae,[n("div",wae,[n("table",Eae,[E[102]||(E[102]=n("thead",{class:"bg-gray-50 sticky top-0"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori Actual"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expected")])],-1)),n("tbody",Cae,[(T(!0),R(Ye,null,at(S.value,(M,ae)=>(T(),R("tr",{key:ae,class:"hover:bg-gray-50 transition"},[n("td",Aae,A(M.kode),1),n("td",kae,A(M.nama),1),n("td",Bae,[n("span",_ae,A(M.kategori),1)]),n("td",Dae,[n("span",Sae,A(M.expectedKategori),1)])]))),128))])])])]),n("div",Fae,[n("button",{onClick:E[22]||(E[22]=M=>F.value=!1),class:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-sm"}," OK, Saya Mengerti ")])])])])):se("",!0)]),_:1}))}},Mae=Object.freeze(Object.defineProperty({__proto__:null,default:Tae},Symbol.toStringTag,{value:"Module"})),Iae={class:"min-h-screen transition-colors duration-300"},Pae={class:"min-h-screen p-2 sm:p-4 md:p-6"},Rae={class:"mb-4 sm:mb-6"},Oae={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Nae={class:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto"},$ae={class:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-4 sm:mb-6 border border-gray-200"},Lae={class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},jae={class:"w-full sm:flex-1"},Uae={class:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4"},Hae={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},zae={class:"overflow-x-auto"},Vae={class:"min-w-full divide-y divide-gray-200"},qae={class:"bg-white divide-y divide-gray-200"},Wae={class:"px-6 py-4 whitespace-nowrap"},Qae={class:"text-sm font-medium text-gray-900"},Gae={class:"text-sm text-gray-500"},Kae={class:"px-6 py-4 whitespace-nowrap"},Yae={class:"text-sm text-gray-900"},Xae={class:"px-6 py-4 whitespace-nowrap"},Jae={class:"text-sm text-gray-900"},Zae={class:"px-6 py-4 whitespace-nowrap"},ele={key:0,class:"text-sm font-bold text-blue-600 italic"},tle={key:1,class:"text-sm font-mono text-gray-900"},sle={class:"px-6 py-4"},nle={key:0,class:"text-sm text-gray-400 italic"},rle={key:1,class:"text-sm text-gray-900"},ole={class:"px-6 py-4 whitespace-nowrap"},ile={key:0,class:"text-sm text-gray-400"},ale={key:1,class:"text-sm font-mono text-gray-900"},lle={class:"px-6 py-4 whitespace-nowrap"},dle={class:"text-sm text-gray-900"},cle={key:0},ule={class:"px-6 py-4 whitespace-nowrap"},xle={key:0,class:"ml-1 text-[10px] opacity-75"},fle={class:"px-6 py-4 whitespace-nowrap"},hle={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},gle=["onClick"],ple=["onClick"],mle=["onClick"],ble={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},yle={class:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-screen overflow-y-auto border border-gray-200"},vle={class:"space-y-6"},wle={class:"flex gap-6"},Ele={key:0,class:"flex items-center"},Cle={key:1,class:"flex items-center"},Ale={key:2,class:"text-sm text-gray-500 italic"},kle={key:0,class:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200"},Ble={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center"},_le=["disabled"],Dle={key:0,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Sle={key:1},Fle={key:2},Tle={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Mle={class:"block text-sm font-medium text-gray-700 mb-1"},Ile=["value"],Ple=["value"],Rle={class:"block text-sm font-medium text-gray-700 mb-1"},Ole=["value"],Nle=["value"],$le={class:"overflow-x-auto border border-gray-300 rounded-lg"},Lle={class:"min-w-full divide-y divide-gray-200"},jle={class:"divide-y divide-gray-200 bg-white"},Ule={class:"px-4 py-3 text-sm font-mono text-gray-900"},Hle={class:"px-4 py-3 text-sm text-gray-900"},zle={class:"px-4 py-3 text-sm font-mono text-gray-900"},Vle={class:"px-4 py-3 text-sm text-gray-900"},qle={class:"px-4 py-3 text-sm text-gray-900"},Wle={class:"px-4 py-3"},Qle={class:"px-4 py-3"},Gle=["onClick"],Kle={key:0},Yle={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},Xle=["disabled"],Jle={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Zle={class:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-screen overflow-y-auto border border-gray-200"},e0e={class:"flex justify-between items-center mb-6"},t0e={class:"flex items-center gap-4"},s0e={key:0,class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-medium"},n0e={class:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200"},r0e={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},o0e={class:"text-lg font-semibold text-gray-900"},i0e={class:"text-lg text-gray-900"},a0e={class:"text-lg text-gray-900"},l0e={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},d0e={class:"block text-sm font-medium text-gray-600"},c0e={class:"text-lg text-gray-900"},u0e={key:0},x0e={class:"text-lg font-mono text-gray-900"},f0e={class:"overflow-x-auto border border-gray-300 rounded-lg"},h0e={class:"min-w-full divide-y divide-gray-200"},g0e={class:"divide-y divide-gray-200 bg-white"},p0e={class:"px-4 py-3 text-sm text-gray-900"},m0e={class:"px-4 py-3 text-sm font-mono text-gray-900"},b0e={class:"px-4 py-3 text-sm text-gray-900"},y0e={class:"px-4 py-3 text-sm font-mono text-gray-900"},v0e={class:"px-4 py-3 text-sm text-gray-900"},w0e=["onUpdate:modelValue"],E0e={key:1},C0e={class:"px-4 py-3 text-sm text-gray-900"},A0e={class:"px-4 py-3"},k0e={key:0},B0e={class:"flex justify-between items-center mt-6 pt-4 border-t border-gray-200"},_0e={class:"flex gap-3"},D0e=["disabled"],S0e={key:0,class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},F0e={class:"flex items-center gap-2"},T0e={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},M0e={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},I0e={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(0,0,0,0.5)"}},P0e={class:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl"},R0e={class:"mb-4 text-gray-600"},O0e={class:"mb-4"},N0e={class:"flex justify-end gap-3 mt-6"},$0e=["disabled"],L0e={key:0,class:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24"},j0e=rr({__name:"Return",props:{suppliers:Array,shipments:Array,rejectedShipments:Array,userDept:String,initialReturns:Array},setup(e){const t=e,s=de(!1),r=de([]),i=de(""),a=de(""),d=de(""),u=de(""),g=Xs(),h=Ze(()=>g.props.auth.user.role?.name||""),m=Ze(()=>(g.props.permissions||[]).includes("return.approve")),b=de(!1),v=de(!1),C=de(null),_=de([]),F=de(null),S=de(!1),D=de(!1),O=de([]),P=de(!1),B=de({type:"Rejected Material",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]});Hs(()=>B.value.type,N=>{N==="Production"?(B.value.supplier=t.userDept||"",$()):(B.value.supplier="",B.value.shipmentNo="",B.value.items=[])});const U=()=>{h.value==="Produksi"?B.value.type="Production":h.value==="Logistik SPV"&&(B.value.type="Rejected Material")},z=()=>{B.value.type==="Production"?J():B.value.type==="Rejected Material"?K():B.value.type==="Supplier"&&ie()},j=de(null),H=Ze(()=>r.value.filter(N=>{const E=!i.value||N.returnNumber.toLowerCase().includes(i.value.toLowerCase())||N.supplier.toLowerCase().includes(i.value.toLowerCase())||N.itemCode.toLowerCase().includes(i.value.toLowerCase())||N.itemName.toLowerCase().includes(i.value.toLowerCase()),M=!a.value||N.type===a.value,ae=!d.value||N.status===d.value,Fe=!u.value||N.reason===u.value;return E&&M&&ae&&Fe}));Ze(()=>r.value.length),Ze(()=>r.value.filter(N=>N.type==="Supplier").length),Ze(()=>r.value.filter(N=>N.type==="Production").length),Ze(()=>r.value.filter(N=>N.status!=="Completed").length);const I=Ze(()=>{const N=B.value.type&&B.value.date;if(B.value.type==="Supplier"&&!B.value.supplier)return!1;const E=B.value.items.length>0&&B.value.items.every(M=>M.itemCode&&M.itemName&&M.lotBatch&&M.qty>0&&M.uom&&M.reason);return N&&E}),$=async()=>{try{const N=await Rt.get("/transaction/return/dept-reservations");_.value=N.data}catch(N){console.error("Error fetching department reservations",N)}},J=async()=>{if(B.value.shipmentNo)try{const E=(await Rt.get("/transaction/return/reservation-details",{params:{no:B.value.shipmentNo}})).data;B.value.items=E.map(M=>({itemCode:M.item_code,itemName:M.item_name,lotBatch:M.batch_lot,qty:0,uom:M.uom,reason:"Kelebihan Produksi",category:M.category}))}catch(N){console.error("Error fetching reservation details",N),alert("Gagal mengambil detail reservasi.")}},K=async()=>{if(B.value.shipmentNo)try{const E=(await Rt.get("/transaction/return/rejected-shipment-details",{params:{no:B.value.shipmentNo}})).data;E.length>0&&(B.value.supplier=E[0].supplier_name),B.value.items=E.map(M=>({id:M.id,itemCode:M.item_code,itemName:M.item_name,lotBatch:M.batch_lot,qty:M.on_hand_qty,uom:M.uom,reason:"QC Reject",originalQty:M.on_hand_qty,category:M.category}))}catch(N){console.error("Error fetching rejected shipment details",N),alert("Gagal mengambil detail material reject.")}},ie=async()=>{if(B.value.shipmentNo)try{const E=(await Rt.get("/transaction/return/supplier-shipment-details",{params:{no:B.value.shipmentNo}})).data;E.length>0&&(B.value.supplier=E[0].supplier_name),B.value.items=E.map(M=>({id:M.id,itemCode:M.item_code,itemName:M.item_name,lotBatch:M.batch_lot,qty:M.on_hand_qty,uom:M.uom,reason:"QC Reject",originalQty:M.on_hand_qty,category:M.category}))}catch(N){console.error("Error fetching supplier shipment details",N),alert("Gagal mengambil detail shipment.")}},fe=N=>new Date(N).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),q=N=>{const E="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(N){case"Draft":return`${E} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`;case"Pending Approval":return`${E} bg-yellow-100 text-yellow-800 light:bg-yellow-900/20 dark:text-yellow-400`;case"Approved":return`${E} bg-green-100 text-green-800 bg-green-900/20 text-green-600`;default:return`${E} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},le=N=>{const E="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(N){case"QC Reject":return`${E} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Kadaluarsa":return`${E} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"Rusak":return`${E} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Kelebihan Produksi":return`${E} text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"Salah Kirim":return`${E} bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-400`;default:return`${E} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},he=N=>N==null?"0":(N%1===0,N.toString()),ve=()=>{B.value.items.push({itemCode:"",itemName:"",lotBatch:"",qty:0,uom:"PCS",reason:"",id:null})},Ie=N=>{const E=N.target;F.value=E.files?E.files[0]:null},Ue=async()=>{if(F.value){S.value=!0;try{const N=new FormData;N.append("erp_pdf",F.value);const M=(await Rt.post("/transaction/return/parse-pdf",N,{headers:{"Content-Type":"multipart/form-data"}})).data;if(M.status==="duplicate"){F.value=null;const ae=document.querySelector('input[type="file"]');ae&&(ae.value=""),alert(` GAGAL MEMPROSES!

No. Return: ${M.return_number} sudah ada di database (Duplicate Entry).
Sistem menolak file ini.`),S.value=!1;return}if(M.formatted_date&&(B.value.date=M.formatted_date),M.return_number&&(B.value.shipmentNo=M.return_number),B.value.items=[],M.unknown_items&&M.unknown_items.length>0){let ae=M.unknown_items.map(Fe=>`- ${Fe.item_code} (${Fe.description})`).join(`
`);alert(` PERINGATAN MASTER DATA

Ditemukan ${M.unknown_items.length} material yang belum terdaftar di Master Data:

${ae}

Sistem akan MENGHAPUS item ini dari daftar import.
Silakan hubungi Administrator untuk mendaftarkan kode material tersebut.`)}M.items.length===0?alert("Tidak ada item valid yang dapat diproses dari PDF ini."):(M.items.forEach(ae=>{ae.qty>0&&B.value.items.push({itemCode:ae.item_code,itemName:ae.description,lotBatch:ae.serial_number||"N/A",qty:ae.qty,uom:ae.uom||"PCS",reason:"Kelebihan Produksi",id:null})}),B.value.items.forEach((ae,Fe)=>{}),alert(` Berhasil memuat ${B.value.items.length} item valid.
No Return: ${M.return_number||"N/A"}`))}catch(N){console.error("Error processing PDF:",N),alert("Gagal memproses file PDF: "+(N.response?.data?.error||N.message))}finally{S.value=!1}}},be=N=>{confirm("Apakah Anda yakin ingin menghapus item ini?")&&B.value.items.splice(N,1)},qe=()=>{b.value=!1,ot()},ot=()=>{B.value={type:"Rejected Material",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]}},Ge=()=>{I.value&&Bt.post("/transaction/return",B.value,{preserveScroll:!0,onSuccess:N=>{N.props.flash?.error?(ee("error",N.props.flash.error),console.error("Server Error:",N.props.flash.error)):(qe(),ee("success","Return berhasil disimpan."))},onError:N=>{console.error("Save Return Error:",N);let E="Gagal menyimpan return.";N.shipmentNo&&(E=N.shipmentNo),N.date&&(E=N.date);const M=Object.keys(N);if(M.length>0){const ae=M[0];(ae.startsWith("items.")||!N.shipmentNo&&!N.date)&&(E=N[ae])}ee("error",E)}})},dt=de(!1),ze=de({return_id:null,return_number:"",target_bin_id:"QRT-HALAL"}),xt=de(!1),ft=N=>{ze.value={return_id:N.id,return_number:N.returnNumber,target_bin_id:"QRT-HALAL"},dt.value=!0},yt=()=>{dt.value=!1,ze.value={return_id:null,return_number:"",target_bin_id:"QRT-HALAL"}},vt=async()=>{if(!ze.value.target_bin_id){alert("Pilih Target Bin!");return}try{xt.value=!0;const N=await fetch(route("transaction.return.approve"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(ze.value)}),E=N.headers.get("content-type");if(E&&E.indexOf("application/json")!==-1){const M=await N.json();if(M.success){const ae=r.value.findIndex(Fe=>Fe.id===ze.value.return_id);ae!==-1&&(r.value[ae].status="Approved"),yt(),window.location.reload()}else alert("Gagal Approve: "+M.message)}else{const M=await N.text();console.error("Non-JSON Response Server Error:",M),alert(`Terjadi kesalahan server (${N.status}). Respon bukan JSON. Cek Console.`)}}catch(N){console.error("Approve Error:",N),alert("Terjadi kesalahan saat approve: "+(N instanceof Error?N.message:String(N)))}finally{xt.value=!1}},it=N=>{C.value=N,v.value=!0},Et=()=>{v.value=!1,C.value=null,D.value=!1,O.value=[]},ne=N=>["Pending Approval","Draft","Submitted"].includes(N.status),ge=()=>{C.value&&C.value.items&&(O.value=JSON.parse(JSON.stringify(C.value.items)),D.value=!0)},Te=()=>{D.value=!1,O.value=[]},He=async()=>{if(!C.value)return;if(O.value.some(E=>!E.qty||E.qty<=0)){alert("Semua quantity harus lebih besar dari 0");return}P.value=!0;try{const E=await Rt.put(`/transaction/return/${C.value.id}`,{items:O.value.map(M=>({id:M.id,item_code:M.item_code,batch_lot:M.batch_lot,qty:M.qty}))});if(E.data.success){C.value&&C.value.items&&(C.value.items=JSON.parse(JSON.stringify(O.value)));const M=r.value.findIndex(ae=>ae.id===C.value?.id);M!==-1&&(r.value[M].items=JSON.parse(JSON.stringify(O.value)),r.value[M].total_qty=O.value.reduce((ae,Fe)=>ae+Fe.qty,0)),D.value=!1,ee("success",E.data.message||"Perubahan berhasil disimpan")}else alert(E.data.message||"Gagal menyimpan perubahan")}catch(E){console.error("Save Changes Error:",E),alert(E.response?.data?.message||"Terjadi kesalahan saat menyimpan")}finally{P.value=!1}},xe=N=>{const E=new Date().toLocaleDateString("id-ID"),M=fe(N.date),ae=N.items.map((Qe,Je)=>`
    <tr>
      <td>${Je+1}</td>
      <td>${Qe.item_code||"-"}</td>
      <td>${Qe.item_name||"-"}</td>
      <td>${Qe.batch_lot||"-"}</td>
      <td>${he(Qe.qty)}</td>
      <td>${Qe.uom||"-"}</td>
      <td>${Qe.reason||"-"}</td>
    </tr>
  `).join(""),Fe=window.open("","_blank");if(Fe){const Qe=`<!DOCTYPE html>
<html>
<head>
  <title>Return Slip - ${N.returnNumber}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; color: #000; }
    .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #000; padding-bottom: 20px; }
    .info-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .info-table td { padding: 8px; border: 1px solid #000; }
    .info-table td:first-child { background-color: #f5f5f5; font-weight: bold; width: 200px; }
    .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    .items-table th, .items-table td { padding: 8px; border: 1px solid #000; text-align: left; }
    .items-table th { background-color: #f5f5f5; font-weight: bold; }
    .signatures { display: flex; justify-content: space-between; margin-top: 80px; }
    .signature-box { text-align: center; width: 250px; }
    .signature-line { border-bottom: 1px solid #000; margin-bottom: 10px; height: 60px; }
    @media print { body { margin: 0; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>SLIP RETURN ${N.type.toUpperCase()}</h1>
    <h2>${N.returnNumber}</h2>
  </div>
  
  <table class="info-table">
    <tr>
      <td>Return Number</td><td>${N.returnNumber}</td>
      <td>Return Date</td><td>${M}</td>
    </tr>
    <tr>
      <td>Return Type</td><td>${N.type}</td>
      <td>Status</td><td>${N.status}</td>
    </tr>
    <tr>
      <td>${N.type==="Supplier"?"Supplier":"Dept Asal"}</td>
      <td colspan="3">${N.supplier||"-"}</td>
    </tr>
    ${N.shipmentNo?`<tr><td>No Shipment/Reservasi</td><td colspan="3">${N.shipmentNo}</td></tr>`:""}
  </table>

  <table class="items-table">
    <thead>
      <tr>
        <th>No</th><th>Kode Item</th><th>Nama Material</th><th>Lot/Batch</th>
        <th>Qty</th><th>UoM</th><th>Reason</th>
      </tr>
    </thead>
    <tbody>
      ${ae}
    </tbody>
  </table>

  <div class="signatures">
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Approved By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${E}</p>
    </div>
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Received By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${E}</p>
    </div>
  </div>
</body>
</html>`;Fe.document.write(Qe),Fe.document.close(),setTimeout(()=>{Fe.print()},500)}ee("success",`Slip return ${N.returnNumber} siap dicetak`)},ee=(N,E)=>{j.value={type:N,text:E},setTimeout(()=>{j.value=null},3e3)};return gn(()=>{const N=localStorage.getItem("darkMode");N&&(s.value=JSON.parse(N)),U(),$(),t.initialReturns&&(r.value=t.initialReturns),ve()}),Hs(()=>t.initialReturns,N=>{N&&(r.value=N)},{immediate:!0}),(N,E)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[n("div",Iae,[n("div",Pae,[n("div",Rae,[n("div",Oae,[E[15]||(E[15]=n("div",null,[n("h1",{class:"text-2xl sm:text-1xl font-bold text-gray-900"},"Return (Supplier / Production)"),n("p",{class:"text-sm sm:text-base text-gray-600 mt-1"},"Kelola return barang ke supplier dan dari produksi")],-1)),n("div",Nae,[n("button",{onClick:E[0]||(E[0]=M=>b.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center"},[...E[14]||(E[14]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),n("span",{class:"hidden sm:inline"},"Buat Return",-1),n("span",{class:"sm:hidden"},"Return",-1)])])])])]),n("div",$ae,[n("div",Lae,[n("div",jae,[we(n("input",{"onUpdate:modelValue":E[1]||(E[1]=M=>i.value=M),type:"text",placeholder:"Cari Return Number, Supplier, Item...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},null,512),[[Ve,i.value]])]),n("div",Uae,[we(n("select",{"onUpdate:modelValue":E[2]||(E[2]=M=>a.value=M),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...E[16]||(E[16]=[n("option",{value:""},"Semua Jenis",-1),n("option",{value:"Supplier"},"Return Supplier",-1),n("option",{value:"Production"},"Return Production",-1)])],512),[[St,a.value]]),we(n("select",{"onUpdate:modelValue":E[3]||(E[3]=M=>d.value=M),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...E[17]||(E[17]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"Draft"},"Draft",-1),n("option",{value:"Submitted"},"Submitted",-1),n("option",{value:"Completed"},"Completed",-1)])],512),[[St,d.value]]),we(n("select",{"onUpdate:modelValue":E[4]||(E[4]=M=>u.value=M),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm col-span-2 sm:col-span-1"},[...E[18]||(E[18]=[n("option",{value:""},"Semua Reason",-1),n("option",{value:"QC Reject"},"QC Reject",-1),n("option",{value:"Kadaluarsa"},"Kadaluarsa",-1),n("option",{value:"Rusak"},"Rusak",-1),n("option",{value:"Kelebihan Produksi"},"Kelebihan Produksi",-1),n("option",{value:"Salah Kirim"},"Salah Kirim",-1),n("option",{value:"Lainnya"},"Lainnya",-1)])],512),[[St,u.value]])])])]),n("div",Hae,[n("div",zae,[n("table",Vae,[E[19]||(E[19]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Return Number"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier / Dept"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",qae,[(T(!0),R(Ye,null,at(H.value,M=>(T(),R("tr",{key:M.id,class:"hover:bg-gray-50"},[n("td",Wae,[n("div",Qae,A(M.returnNumber),1),n("div",Gae,A(M.type),1)]),n("td",Kae,[n("div",Yae,A(fe(M.date)),1)]),n("td",Xae,[n("div",Jae,A(M.supplier),1)]),n("td",Zae,[M.items.length>1?(T(),R("div",ele," Multiple Items ("+A(M.items.length)+") ",1)):(T(),R("div",tle,A(M.items[0]?.item_code||"-"),1))]),n("td",sle,[M.items.length>1?(T(),R("div",nle," - Lihat Detail - ")):(T(),R("div",rle,A(M.items[0]?.item_name||"-"),1))]),n("td",ole,[M.items.length>1?(T(),R("div",ile," - ")):(T(),R("div",ale,A(M.items[0]?.batch_lot||"-"),1))]),n("td",lle,[n("div",dle,[Oe(A(he(M.total_qty))+" ",1),M.items.length===1?(T(),R("span",cle,A(M.items[0]?.uom),1)):se("",!0)])]),n("td",ule,[n("span",{class:Se([le(M.items[0]?.reason),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},[Oe(A(M.items[0]?.reason||"-")+" ",1),M.items.length>1?(T(),R("span",xle," (+"+A(M.items.length-1)+") ",1)):se("",!0)],2)]),n("td",fle,[n("span",{class:Se([q(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},A(M.status),3)]),n("td",hle,[n("button",{onClick:ae=>it(M),class:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded transition-colors"}," Detail ",8,gle),M.status==="Pending Approval"&&m.value?(T(),R("button",{key:0,onClick:ae=>ft(M),class:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-2 py-1 rounded transition-colors"}," Approve ",8,ple)):se("",!0),n("button",{onClick:ae=>xe(M),class:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-2 py-1 rounded transition-colors"}," Cetak Slip ",8,mle)])]))),128))])])])]),b.value?(T(),R("div",ble,[n("div",yle,[n("div",{class:"flex justify-between items-center mb-6"},[E[21]||(E[21]=n("h3",{class:"text-xl font-semibold text-gray-900"},"Buat Return Baru",-1)),n("button",{onClick:qe,class:"text-gray-400 hover:text-gray-600"},[...E[20]||(E[20]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",vle,[n("div",null,[E[24]||(E[24]=n("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Jenis Return",-1)),n("div",wle,[h.value==="Produksi"?(T(),R("label",Ele,[we(n("input",{"onUpdate:modelValue":E[5]||(E[5]=M=>B.value.type=M),type:"radio",value:"Production",class:"text-blue-600 focus:ring-blue-500"},null,512),[[ri,B.value.type]]),E[22]||(E[22]=n("span",{class:"ml-2 text-gray-900"},"Return dari Produksi",-1))])):se("",!0),h.value==="Logistik SPV"?(T(),R("label",Cle,[we(n("input",{"onUpdate:modelValue":E[6]||(E[6]=M=>B.value.type=M),type:"radio",value:"Rejected Material",class:"text-blue-600 focus:ring-blue-500"},null,512),[[ri,B.value.type]]),E[23]||(E[23]=n("span",{class:"ml-2 text-gray-900"},"Return Material Reject",-1))])):se("",!0),["Produksi","Logistik SPV"].includes(h.value)?se("",!0):(T(),R("div",Ale," Role Anda tidak memiliki akses untuk membuat Return "))])]),B.value.type==="Production"?(T(),R("div",kle,[E[26]||(E[26]=n("label",{class:"block text-sm font-medium text-blue-900 mb-2"},"Upload PDF ERP (Return dari Produksi)",-1)),n("div",Ble,[n("input",{type:"file",accept:"application/pdf",onChange:Ie,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),n("button",{onClick:Ue,disabled:!F.value||S.value,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap min-w-[140px]"},[S.value?(T(),R("svg",Dle,[...E[25]||(E[25]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),S.value?(T(),R("span",Sle,"Memproses...")):(T(),R("span",Fle,"Proses PDF"))],8,_le)]),E[27]||(E[27]=n("p",{class:"text-xs text-blue-600 mt-2"},'Upload file PDF "Internal Shipment" (Return) untuk mengisi form otomatis.',-1))])):se("",!0),n("div",Tle,[n("div",null,[E[28]||(E[28]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Return",-1)),we(n("input",{"onUpdate:modelValue":E[7]||(E[7]=M=>B.value.date=M),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Ve,B.value.date]])]),n("div",null,[n("label",Mle,A(B.value.type==="Production"?"Departemen Asal":"Supplier"),1),B.value.type==="Rejected Material"?we((T(),R("input",{key:0,"onUpdate:modelValue":E[8]||(E[8]=M=>B.value.supplier=M),readonly:"",type:"text",placeholder:"Pilih No Shipment terlebih dahulu",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed"},null,512)),[[Ve,B.value.supplier]]):B.value.type==="Production"?(T(),R("input",{key:1,value:e.userDept,readonly:"",type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed"},null,8,Ile)):we((T(),R("select",{key:2,"onUpdate:modelValue":E[9]||(E[9]=M=>B.value.supplier=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[E[29]||(E[29]=n("option",{value:""},"Pilih Supplier",-1)),(T(!0),R(Ye,null,at(e.suppliers,M=>(T(),R("option",{key:M.nama_supplier,value:M.nama_supplier},A(M.nama_supplier),9,Ple))),128))],512)),[[St,B.value.supplier]])]),n("div",null,[n("label",Rle," No Shipment "+A(B.value.type=="Production"?"/ No Return":""),1),B.value.type==="Production"?we((T(),R("input",{key:0,"onUpdate:modelValue":E[10]||(E[10]=M=>B.value.shipmentNo=M),type:"text",placeholder:"Upload PDF untuk mengisi otomatis",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed focus:ring-2 focus:ring-blue-500"},null,512)),[[Ve,B.value.shipmentNo]]):we((T(),R("select",{key:1,"onUpdate:modelValue":E[11]||(E[11]=M=>B.value.shipmentNo=M),onChange:z,class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[E[30]||(E[30]=n("option",{value:""},"Pilih",-1)),B.value.type==="Supplier"?(T(!0),R(Ye,{key:0},at(e.rejectedShipments,M=>(T(),R("option",{key:M.incoming_number,value:M.incoming_number},A(M.incoming_number)+" "+A(M.no_surat_jalan?`(${M.no_surat_jalan})`:""),9,Ole))),128)):B.value.type==="Rejected Material"?(T(!0),R(Ye,{key:1},at(e.rejectedShipments,M=>(T(),R("option",{key:M.incoming_number,value:M.incoming_number},A(M.incoming_number),9,Nle))),128)):se("",!0)],544)),[[St,B.value.shipmentNo]])])]),n("div",null,[n("div",{class:"flex justify-between items-center mb-4"},[E[31]||(E[31]=n("h4",{class:"text-lg font-medium text-gray-900"},"Daftar Item Return",-1)),n("button",{onClick:ve,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors"}," + Tambah Item ")]),n("div",$le,[n("table",Lle,[E[34]||(E[34]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Return"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),n("tbody",jle,[(T(!0),R(Ye,null,at(B.value.items,(M,ae)=>(T(),R("tr",{key:ae},[n("td",Ule,A(M.itemCode),1),n("td",Hle,A(M.itemName),1),n("td",zle,A(M.lotBatch),1),n("td",Vle,A(M.qty),1),n("td",qle,A(M.uom),1),n("td",Wle,[n("span",{class:Se([le(M.reason),"px-2 py-1 text-xs font-medium rounded-full"])},A(M.reason),3)]),n("td",Qle,[n("button",{onClick:Fe=>be(ae),class:"text-red-600 hover:text-red-800 hover:bg-red-50 p-2 rounded transition-colors",title:"Hapus item"},[...E[32]||(E[32]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Gle)])]))),128)),!B.value.items||B.value.items.length===0?(T(),R("tr",Kle,[...E[33]||(E[33]=[n("td",{colspan:"7",class:"px-4 py-3 text-center text-gray-500"},'Tidak ada item. Klik "Tambah Item" untuk menambah.',-1)])])):se("",!0)])])])]),n("div",Yle,[n("button",{onClick:qe,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),n("button",{onClick:Ge,disabled:!I.value,class:Se([I.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed","px-4 py-2 rounded-lg transition-colors"])}," Simpan Return ",10,Xle)])])])])):se("",!0),v.value&&C.value?(T(),R("div",Jle,[n("div",Zle,[n("div",e0e,[n("div",t0e,[E[35]||(E[35]=n("h3",{class:"text-xl font-semibold text-gray-900"},"Detail Return",-1)),D.value?(T(),R("span",s0e," Mode Edit Aktif ")):se("",!0)]),n("button",{onClick:Et,class:"text-gray-400 hover:text-gray-600"},[...E[36]||(E[36]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",n0e,[n("div",r0e,[n("div",null,[E[37]||(E[37]=n("label",{class:"block text-sm font-medium text-gray-600"},"Return Number",-1)),n("p",o0e,A(C.value.returnNumber),1)]),n("div",null,[E[38]||(E[38]=n("label",{class:"block text-sm font-medium text-gray-600"},"Jenis Return",-1)),n("p",i0e,A(C.value.type),1)]),n("div",null,[E[39]||(E[39]=n("label",{class:"block text-sm font-medium text-gray-600"},"Tanggal",-1)),n("p",a0e,A(fe(C.value.date)),1)]),n("div",null,[E[40]||(E[40]=n("label",{class:"block text-sm font-medium text-gray-600"},"Status",-1)),n("span",{class:Se([q(C.value.status),"px-2 py-1 text-sm font-semibold rounded-full"])},A(C.value.status),3)])]),n("div",l0e,[n("div",null,[n("label",d0e,A(C.value.type==="Supplier"?"Supplier":"Dept Asal"),1),n("p",c0e,A(C.value.supplier),1)]),C.value.shipmentNo?(T(),R("div",u0e,[E[41]||(E[41]=n("label",{class:"block text-sm font-medium text-gray-600"},"No Shipment/Reservasi",-1)),n("p",x0e,A(C.value.shipmentNo),1)])):se("",!0)])]),n("div",f0e,[n("table",h0e,[E[43]||(E[43]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason")])],-1)),n("tbody",g0e,[(T(!0),R(Ye,null,at(D.value?O.value:C.value.items,(M,ae)=>(T(),R("tr",{key:ae},[n("td",p0e,A(ae+1),1),n("td",m0e,A(M.item_code),1),n("td",b0e,A(M.item_name),1),n("td",y0e,A(M.batch_lot),1),n("td",v0e,[D.value?we((T(),R("input",{key:0,"onUpdate:modelValue":Fe=>O.value[ae].qty=Fe,type:"number",step:"0.01",min:"0.01",class:Se(["w-24 px-2 py-1 border rounded focus:ring-2 focus:ring-blue-500",O.value[ae].qty!==C.value.items[ae].qty?"border-blue-500 bg-blue-50":"border-gray-300"])},null,10,w0e)),[[Ve,O.value[ae].qty,void 0,{number:!0}]]):(T(),R("span",E0e,A(he(M.qty)),1))]),n("td",C0e,A(M.uom),1),n("td",A0e,[n("span",{class:Se([le(M.reason),"px-2 py-1 text-xs font-medium rounded-full"])},A(M.reason),3)])]))),128)),!C.value.items||C.value.items.length===0?(T(),R("tr",k0e,[...E[42]||(E[42]=[n("td",{colspan:"7",class:"px-4 py-3 text-center text-gray-500"},"Tidak ada item detail.",-1)])])):se("",!0)])])]),n("div",B0e,[n("div",null,[!D.value&&ne(C.value)?(T(),R("button",{key:0,onClick:ge,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2"},[...E[44]||(E[44]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),Oe(" Edit Qty ",-1)])])):se("",!0)]),n("div",_0e,[D.value?(T(),R(Ye,{key:0},[n("button",{onClick:Te,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),n("button",{onClick:He,disabled:P.value,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2"},[P.value?(T(),R("svg",S0e,[...E[45]||(E[45]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),Oe(" "+A(P.value?"Menyimpan...":"Simpan Perubahan"),1)],8,D0e)],64)):(T(),R(Ye,{key:1},[n("button",{onClick:Et,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),n("button",{onClick:E[12]||(E[12]=M=>xe(C.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Cetak Slip Return ")],64))])])])])):se("",!0),j.value?(T(),R("div",{key:2,class:Se([j.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"1000"}},[n("div",F0e,[j.value.type==="success"?(T(),R("svg",T0e,[...E[46]||(E[46]=[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(T(),R("svg",M0e,[...E[47]||(E[47]=[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),Oe(" "+A(j.value.text),1)])],2)):se("",!0),dt.value?(T(),R("div",I0e,[n("div",P0e,[E[53]||(E[53]=n("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"Approve Return",-1)),n("p",R0e,[E[48]||(E[48]=Oe("Konfirmasi persetujuan untuk Return ",-1)),n("strong",null,A(ze.value.return_number),1),E[49]||(E[49]=Oe("?",-1))]),n("div",O0e,[E[51]||(E[51]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Target Bin (Karantina)",-1)),we(n("select",{"onUpdate:modelValue":E[13]||(E[13]=M=>ze.value.target_bin_id=M),class:"w-full border rounded px-3 py-2"},[...E[50]||(E[50]=[n("option",{value:"QRT-HALAL"},"QRT-HALAL",-1),n("option",{value:"QRT-HALAL-AC"},"QRT-HALAL-AC",-1),n("option",{value:"QRT-NON HALAL"},"QRT-NON HALAL",-1),n("option",{value:"REJECT"},"REJECT",-1)])],512),[[St,ze.value.target_bin_id]])]),n("div",N0e,[n("button",{onClick:yt,class:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded"},"Batal"),n("button",{onClick:vt,disabled:xt.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 flex items-center gap-2"},[xt.value?(T(),R("svg",L0e,[...E[52]||(E[52]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),Oe(" "+A(xt.value?"Memproses...":"Approve & Masukkan Stock"),1)],8,$0e)])])])):se("",!0)])])]),_:1}))}}),U0e=Object.freeze(Object.defineProperty({__proto__:null,default:j0e},Symbol.toStringTag,{value:"Module"})),H0e={class:"space-y-6"},z0e={class:"bg-white rounded-lg shadow"},V0e={class:"p-4 border-b border-gray-200"},q0e={class:"p-6 space-y-4"},W0e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Q0e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},G0e=["value"],K0e=["value"],Y0e=["value"],X0e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},J0e={class:"flex justify-between items-center pt-4 border-t border-gray-200"},Z0e={class:"text-sm text-gray-600"},ede={class:"flex space-x-3"},tde={class:"flex items-center space-x-2 cursor-pointer bg-white px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm"},sde={class:"bg-white rounded-lg shadow overflow-hidden"},nde={class:"overflow-x-auto"},rde={class:"min-w-full divide-y divide-gray-200"},ode={class:"bg-white divide-y divide-gray-200"},ide={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ade={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lde={class:"font-medium"},dde={class:"text-xs text-gray-500"},cde={class:"px-6 py-4 whitespace-nowrap"},ude={class:"flex flex-col gap-1"},xde={class:"text-sm text-gray-900 font-semibold"},fde={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},hde={class:"font-medium"},gde=["title"],pde={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mde={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},bde={key:0},yde={class:"text-red-600"},vde={class:"text-green-600"},wde={key:1},Ede={key:2},Cde={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ade={key:0},kde={class:"text-red-600"},Bde={class:"text-green-600"},_de={key:1},Dde={key:2},Sde={key:3},Fde={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Tde={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Mde={class:"flex items-center justify-between"},Ide={class:"flex items-center text-sm text-gray-700"},Pde={class:"flex items-center space-x-2"},Rde=["disabled"],Ode={class:"text-sm text-gray-700"},Nde=["disabled"],$de={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Lde={class:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg rounded-md bg-white"},jde={class:"flex justify-between items-center mb-4"},Ude={key:0,class:"space-y-4"},Hde={class:"grid grid-cols-2 gap-4"},zde={class:"mt-1 text-sm text-gray-900"},Vde={class:"mt-1 text-sm text-gray-900"},qde={class:"mt-1"},Wde={class:"mt-1 text-sm text-gray-900 font-semibold"},Qde={class:"border-t pt-4"},Gde={class:"grid grid-cols-2 gap-4"},Kde={class:"mt-1 text-sm text-gray-900"},Yde={class:"mt-1 text-sm text-gray-900"},Xde={key:0,class:"border-t pt-4"},Jde={class:"grid grid-cols-3 gap-4"},Zde={key:0},ece={class:"mt-1 text-sm text-gray-900"},tce={key:1},sce={class:"mt-1 text-sm text-gray-900"},nce={key:0},rce={class:"text-red-600"},oce={class:"text-green-600"},ice={key:1},ace={key:2},lce={class:"mt-1 text-sm text-gray-900"},dce={key:0},cce={class:"text-red-600"},uce={class:"text-green-600"},xce={key:1},fce={key:1,class:"border-t pt-4"},hce={class:"grid grid-cols-2 gap-4"},gce={key:0},pce={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},mce={key:1},bce={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},yce={class:"border-t pt-4"},vce={class:"grid grid-cols-2 gap-4"},wce={key:0},Ece={class:"mt-1 text-sm text-gray-900"},Cce={key:1},Ace={class:"mt-1 text-sm text-gray-900"},kce={class:"mt-1 text-sm text-gray-900"},Bce=["title"],_ce={key:0,class:"mt-4"},Dce={class:"mt-1 text-sm text-gray-900"},Sce={class:"mt-6 flex justify-end"},Fce={__name:"RiwayatAktivitas",props:{activities:Array},setup(e){const t=e,s=de(!0);de(!1);const r=de(!1),i=de(null),a=de(1),d=de(25),u=de({quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""}),g=de(t.activities),h=de([...new Set(t.activities.map(H=>H.user))].sort()),m=de([...new Set(t.activities.flatMap(H=>[H.bin_from,H.bin_to].filter(I=>I&&I!=="-")))].sort()),b=Ze(()=>[...new Set(t.activities.map(H=>H.role))].filter(H=>H).sort()),v=Ze(()=>{let H=g.value;return u.value.startDate&&u.value.endDate&&(H=H.filter(I=>{const $=I.timestamp.split(" ")[0];return $>=u.value.startDate&&$<=u.value.endDate})),u.value.role&&(H=H.filter(I=>I.role===u.value.role)),u.value.user&&(H=H.filter(I=>I.user===u.value.user)),u.value.module&&(H=H.filter(I=>I.module===u.value.module)),u.value.sku&&(H=H.filter(I=>I.sku_code.toLowerCase().includes(u.value.sku.toLowerCase())||I.sku_name.toLowerCase().includes(u.value.sku.toLowerCase()))),u.value.lotBatch&&(H=H.filter(I=>I.lot_no&&I.lot_no.toLowerCase().includes(u.value.lotBatch.toLowerCase()))),u.value.qtyMin&&(H=H.filter(I=>I.qty_after>=parseInt(u.value.qtyMin))),u.value.qtyMax&&(H=H.filter(I=>I.qty_after<=parseInt(u.value.qtyMax))),u.value.bin&&(H=H.filter(I=>I.bin_from===u.value.bin||I.bin_to===u.value.bin)),r.value&&(H=H.filter(I=>{const $=I.action?I.action.toLowerCase():"";return $!=="login"&&$!=="logout"})),H.sort((I,$)=>new Date($.timestamp)-new Date(I.timestamp))}),C=Ze(()=>{const H=(a.value-1)*d.value,I=H+d.value;return v.value.slice(H,I)}),_=Ze(()=>Math.ceil(v.value.length/d.value)),F=H=>new Date(H).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),S=H=>{const I={Incoming:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",QC:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",Karantina:"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200",Putaway:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200",Reservation:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",Picking:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",Return:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200","Master Data":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"};return I[H]||I["Master Data"]},D=()=>{const H=new Date;switch(new Date(H).setDate(H.getDate()-1),u.value.quickTime){case"today":u.value.startDate=H.toISOString().split("T")[0],u.value.endDate=H.toISOString().split("T")[0];break;case"this_week":const $=new Date(H.setDate(H.getDate()-H.getDay()));u.value.startDate=$.toISOString().split("T")[0],u.value.endDate=new Date().toISOString().split("T")[0];break;case"this_month":u.value.startDate=new Date(H.getFullYear(),H.getMonth(),1).toISOString().split("T")[0],u.value.endDate=new Date().toISOString().split("T")[0];break;case"last_month":const J=new Date(H.getFullYear(),H.getMonth()-1,1),K=new Date(H.getFullYear(),H.getMonth(),0);u.value.startDate=J.toISOString().split("T")[0],u.value.endDate=K.toISOString().split("T")[0];break;default:u.value.startDate="",u.value.endDate=""}},O=()=>{u.value.role?h.value=[...new Set(t.activities.filter(H=>H.role===u.value.role).map(H=>H.user))].sort():h.value=[...new Set(t.activities.map(H=>H.user))].sort(),h.value.includes(u.value.user)||(u.value.user="")},P=()=>{u.value={quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""},a.value=1},B=()=>{a.value=1},U=()=>{a.value=1},z=()=>{a.value>1&&a.value--},j=()=>{a.value<_.value&&a.value++};return gn(()=>{const H=new Date,I=new Date(H.getTime()-10080*60*1e3);u.value.startDate=I.toISOString().split("T")[0],u.value.endDate=H.toISOString().split("T")[0]}),(H,I)=>(T(),Dt(pn,{title:"Riwayat Aktivitas"},{default:_t(()=>[n("div",H0e,[I[68]||(I[68]=n("div",{class:"flex justify-between items-center"},[n("h2",{class:"text-2xl font-bold text-gray-900"},"Riwayat Aktivitas"),n("div",{class:"flex space-x-3"}," < ")],-1)),n("div",z0e,[n("div",V0e,[n("button",{onClick:I[0]||(I[0]=$=>s.value=!s.value),class:"flex items-center justify-between w-full text-left"},[I[18]||(I[18]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Advanced Filter",-1)),(T(),R("svg",{class:Se(["w-5 h-5 transform transition-transform",s.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...I[17]||(I[17]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),we(n("div",q0e,[n("div",W0e,[n("div",null,[I[20]||(I[20]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quick Time Filter",-1)),we(n("select",{"onUpdate:modelValue":I[1]||(I[1]=$=>u.value.quickTime=$),onChange:D,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...I[19]||(I[19]=[n("option",{value:""},"Custom Range",-1),n("option",{value:"today"},"Hari Ini",-1),n("option",{value:"this_week"},"Minggu Ini",-1),n("option",{value:"this_month"},"Bulan Ini",-1),n("option",{value:"last_month"},"Bulan Lalu",-1)])],544),[[St,u.value.quickTime]])]),n("div",null,[I[21]||(I[21]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Awal",-1)),we(n("input",{"onUpdate:modelValue":I[2]||(I[2]=$=>u.value.startDate=$),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,u.value.startDate]])]),n("div",null,[I[22]||(I[22]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Akhir",-1)),we(n("input",{"onUpdate:modelValue":I[3]||(I[3]=$=>u.value.endDate=$),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,u.value.endDate]])]),n("div",null,[I[24]||(I[24]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),we(n("select",{"onUpdate:modelValue":I[4]||(I[4]=$=>u.value.status=$),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...I[23]||(I[23]=[n("option",{value:""},"Semua Status",-1),n("option",{value:"Success"},"Success",-1),n("option",{value:"Pending"},"Pending",-1),n("option",{value:"Rejected"},"Rejected",-1),n("option",{value:"Completed"},"Completed",-1)])],512),[[St,u.value.status]])])]),n("div",Q0e,[n("div",null,[I[26]||(I[26]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),we(n("select",{"onUpdate:modelValue":I[5]||(I[5]=$=>u.value.role=$),onChange:O,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[I[25]||(I[25]=n("option",{value:""},"Semua Role",-1)),(T(!0),R(Ye,null,at(b.value,$=>(T(),R("option",{key:$,value:$},A($),9,G0e))),128))],544),[[St,u.value.role]])]),n("div",null,[I[28]||(I[28]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),we(n("select",{"onUpdate:modelValue":I[6]||(I[6]=$=>u.value.user=$),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[I[27]||(I[27]=n("option",{value:""},"Semua User",-1)),(T(!0),R(Ye,null,at(h.value,$=>(T(),R("option",{key:$,value:$},A($),9,K0e))),128))],512),[[St,u.value.user]])]),n("div",null,[I[30]||(I[30]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jenis Aktivitas",-1)),we(n("select",{"onUpdate:modelValue":I[7]||(I[7]=$=>u.value.module=$),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...I[29]||(I[29]=[n("option",{value:""},"Semua Aktivitas",-1),n("option",{value:"Incoming"},"Incoming / Receipt",-1),n("option",{value:"QC"},"QC",-1),n("option",{value:"Karantina"},"Label Karantina",-1),n("option",{value:"Putaway"},"Putaway",-1),n("option",{value:"Reservation"},"Reservation",-1),n("option",{value:"Picking"},"Picking",-1),n("option",{value:"Return"},"Return",-1),n("option",{value:"Master Data"},"Master Data",-1)])],512),[[St,u.value.module]])]),n("div",null,[I[32]||(I[32]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lokasi/Bin",-1)),we(n("select",{"onUpdate:modelValue":I[8]||(I[8]=$=>u.value.bin=$),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[I[31]||(I[31]=n("option",{value:""},"Semua Lokasi",-1)),(T(!0),R(Ye,null,at(m.value,$=>(T(),R("option",{key:$,value:$},A($),9,Y0e))),128))],512),[[St,u.value.bin]])])]),n("div",X0e,[n("div",null,[I[33]||(I[33]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Material/SKU",-1)),we(n("input",{"onUpdate:modelValue":I[9]||(I[9]=$=>u.value.sku=$),type:"text",placeholder:"Cari kode atau nama SKU...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,u.value.sku]])]),n("div",null,[I[34]||(I[34]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lot/Batch No",-1)),we(n("input",{"onUpdate:modelValue":I[10]||(I[10]=$=>u.value.lotBatch=$),type:"text",placeholder:"Cari lot/batch...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,u.value.lotBatch]])]),n("div",null,[I[35]||(I[35]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Min",-1)),we(n("input",{"onUpdate:modelValue":I[11]||(I[11]=$=>u.value.qtyMin=$),type:"number",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,u.value.qtyMin]])]),n("div",null,[I[36]||(I[36]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Max",-1)),we(n("input",{"onUpdate:modelValue":I[12]||(I[12]=$=>u.value.qtyMax=$),type:"number",placeholder:"9999",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Ve,u.value.qtyMax]])])]),n("div",J0e,[n("div",Z0e," Showing "+A(v.value.length)+" of "+A(g.value.length)+" records ",1),n("div",ede,[n("label",tde,[we(n("input",{type:"checkbox","onUpdate:modelValue":I[13]||(I[13]=$=>r.value=$),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4"},null,512),[[Yn,r.value]]),I[37]||(I[37]=n("span",{class:"text-sm font-medium text-gray-700 select-none"},"Sembunyikan Login/Logout",-1))]),n("button",{onClick:P,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Reset Filter "),n("button",{onClick:B,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Apply Filter ")])])],512),[[ms,s.value]])]),n("div",sde,[n("div",nde,[n("table",rde,[I[40]||(I[40]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Timestamp"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role/User"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aktivitas"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Entity/Material"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lokasi/Bin"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Referensi Dokumen")])],-1)),n("tbody",ode,[(T(!0),R(Ye,null,at(C.value,$=>(T(),R("tr",{key:$.id,class:"hover:bg-gray-50"},[n("td",ide,[n("div",null,A(F($.timestamp)),1)]),n("td",ade,[n("div",lde,A($.user),1),n("div",dde,A($.role),1)]),n("td",cde,[n("div",ude,[n("span",{class:Se(["px-2 py-1 text-xs rounded-full font-medium inline-block",S($.module)])},A($.module),3),n("div",xde,A($.action),1)])]),n("td",fde,[n("div",hde,A($.sku_code),1),n("div",{class:"text-xs text-gray-500 max-w-xs truncate",title:$.sku_name},A($.sku_name),9,gde)]),n("td",pde,A($.lot_no&&$.lot_no!=="-"?$.lot_no:"-"),1),n("td",mde,[$.qty_before!=$.qty_after&&$.qty_before>0?(T(),R("div",bde,[n("span",yde,A($.qty_before),1),I[38]||(I[38]=n("span",{class:"mx-1"},"",-1)),n("span",vde,A($.qty_after),1)])):$.qty_after>0?(T(),R("div",wde,A($.qty_after),1)):(T(),R("div",Ede,"-"))]),n("td",Cde,[$.bin_from&&$.bin_to&&$.bin_from!=="-"&&$.bin_to!=="-"&&$.bin_from!==$.bin_to?(T(),R("div",Ade,[n("span",kde,A($.bin_from),1),I[39]||(I[39]=n("span",{class:"mx-1"},"",-1)),n("span",Bde,A($.bin_to),1)])):$.bin_to&&$.bin_to!=="-"?(T(),R("div",_de,A($.bin_to),1)):$.bin_from&&$.bin_from!=="-"?(T(),R("div",Dde,A($.bin_from),1)):(T(),R("div",Sde,"-"))]),n("td",Fde,A($.reference_no&&$.reference_no!=="-"?$.reference_no:"-"),1)]))),128))])])]),n("div",Tde,[n("div",Mde,[n("div",Ide,[I[42]||(I[42]=n("span",null,"Show",-1)),we(n("select",{"onUpdate:modelValue":I[14]||(I[14]=$=>d.value=$),onChange:U,class:"mx-2 px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...I[41]||(I[41]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)])],544),[[St,d.value]]),I[43]||(I[43]=n("span",null,"entries",-1))]),n("div",Pde,[n("button",{onClick:z,disabled:a.value===1,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Previous ",8,Rde),n("span",Ode,A(a.value)+" of "+A(_.value),1),n("button",{onClick:j,disabled:a.value===_.value,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Next ",8,Nde)])])])]),H.isDetailModalOpen?(T(),R("div",$de,[n("div",Lde,[n("div",jde,[I[45]||(I[45]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Detail Aktivitas",-1)),n("button",{onClick:I[15]||(I[15]=$=>H.isDetailModalOpen=!1),class:"text-gray-400 hover:text-gray-600"},[...I[44]||(I[44]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i.value?(T(),R("div",Ude,[n("div",Hde,[n("div",null,[I[46]||(I[46]=n("label",{class:"block text-sm font-medium text-gray-700"},"Timestamp",-1)),n("p",zde,A(F(i.value.timestamp)),1)]),n("div",null,[I[47]||(I[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"User",-1)),n("p",Vde,A(i.value.user)+" ("+A(i.value.role)+")",1)]),n("div",null,[I[48]||(I[48]=n("label",{class:"block text-sm font-medium text-gray-700"},"Module",-1)),n("p",qde,[n("span",{class:Se(["px-2 py-1 text-xs rounded-full font-medium",S(i.value.module)])},A(i.value.module),3)])]),n("div",null,[I[49]||(I[49]=n("label",{class:"block text-sm font-medium text-gray-700"},"Action",-1)),n("p",Wde,A(i.value.action),1)])]),n("div",Qde,[I[52]||(I[52]=n("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Entity Information",-1)),n("div",Gde,[n("div",null,[I[50]||(I[50]=n("label",{class:"block text-xs font-medium text-gray-500"},"Code",-1)),n("p",Kde,A(i.value.sku_code),1)]),n("div",null,[I[51]||(I[51]=n("label",{class:"block text-xs font-medium text-gray-500"},"Name",-1)),n("p",Yde,A(i.value.sku_name),1)])])]),i.value.lot_no!=="-"||i.value.qty_after>0||i.value.bin_to!=="-"?(T(),R("div",Xde,[I[58]||(I[58]=n("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Warehouse Details",-1)),n("div",Jde,[i.value.lot_no!=="-"?(T(),R("div",Zde,[I[53]||(I[53]=n("label",{class:"block text-xs font-medium text-gray-500"},"Lot/Batch",-1)),n("p",ece,A(i.value.lot_no),1)])):se("",!0),i.value.qty_after>0?(T(),R("div",tce,[I[55]||(I[55]=n("label",{class:"block text-xs font-medium text-gray-500"},"Quantity",-1)),n("p",sce,[i.value.qty_before!=i.value.qty_after?(T(),R("span",nce,[n("span",rce,A(i.value.qty_before),1),I[54]||(I[54]=n("span",{class:"mx-1"},"",-1)),n("span",oce,A(i.value.qty_after),1)])):(T(),R("span",ice,A(i.value.qty_after),1))])])):se("",!0),i.value.bin_to!=="-"||i.value.bin_from!=="-"?(T(),R("div",ace,[I[57]||(I[57]=n("label",{class:"block text-xs font-medium text-gray-500"},"Bin Location",-1)),n("p",lce,[i.value.bin_from&&i.value.bin_to&&i.value.bin_from!=="-"&&i.value.bin_to!=="-"?(T(),R("span",dce,[n("span",cce,A(i.value.bin_from),1),I[56]||(I[56]=n("span",{class:"mx-1"},"",-1)),n("span",uce,A(i.value.bin_to),1)])):(T(),R("span",xce,A(i.value.bin_to||i.value.bin_from),1))])])):se("",!0)])])):se("",!0),i.value.old_value||i.value.new_value?(T(),R("div",fce,[I[61]||(I[61]=n("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Changes",-1)),n("div",hce,[i.value.old_value?(T(),R("div",gce,[I[59]||(I[59]=n("label",{class:"block text-xs font-medium text-gray-500"},"Old Value",-1)),n("pre",pce,A(JSON.parse(i.value.old_value||"{}")),1)])):se("",!0),i.value.new_value?(T(),R("div",mce,[I[60]||(I[60]=n("label",{class:"block text-xs font-medium text-gray-500"},"New Value",-1)),n("pre",bce,A(JSON.parse(i.value.new_value||"{}")),1)])):se("",!0)])])):se("",!0),n("div",yce,[I[67]||(I[67]=n("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Additional Information",-1)),n("div",vce,[i.value.reference_no&&i.value.reference_no!=="-"?(T(),R("div",wce,[I[62]||(I[62]=n("label",{class:"block text-xs font-medium text-gray-500"},"Reference Document",-1)),n("p",Ece,A(i.value.reference_no),1)])):se("",!0),i.value.exp_date?(T(),R("div",Cce,[I[63]||(I[63]=n("label",{class:"block text-xs font-medium text-gray-500"},"Expiry Date",-1)),n("p",Ace,A(i.value.exp_date),1)])):se("",!0),n("div",null,[I[64]||(I[64]=n("label",{class:"block text-xs font-medium text-gray-500"},"IP Address",-1)),n("p",kce,A(i.value.ip_address),1)]),n("div",null,[I[65]||(I[65]=n("label",{class:"block text-xs font-medium text-gray-500"},"Device",-1)),n("p",{class:"mt-1 text-sm text-gray-900 truncate",title:i.value.device},A(i.value.device),9,Bce)])]),i.value.remarks?(T(),R("div",_ce,[I[66]||(I[66]=n("label",{class:"block text-xs font-medium text-gray-500"},"Remarks",-1)),n("p",Dce,A(i.value.remarks),1)])):se("",!0)])])):se("",!0),n("div",Sce,[n("button",{onClick:I[16]||(I[16]=$=>H.isDetailModalOpen=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"}," Close ")])])])):se("",!0)])]),_:1}))}},Tce=Object.freeze(Object.defineProperty({__proto__:null,default:Fce},Symbol.toStringTag,{value:"Module"})),Mce={class:"role-permission-management"},Ice={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"},Pce={class:"flex gap-2"},Rce={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},Oce={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},Nce={class:"bg-white rounded-lg shadow-lg overflow-hidden"},$ce={class:"min-w-full divide-y divide-gray-200"},Lce={class:"bg-white divide-y divide-gray-200"},jce={class:"px-6 py-4 whitespace-nowrap"},Uce={class:"text-sm font-medium text-gray-900"},Hce={class:"px-6 py-4"},zce={class:"text-sm text-gray-600"},Vce={class:"px-6 py-4 text-sm text-gray-500"},qce={key:0},Wce={key:1,class:"text-red-500"},Qce={class:"px-6 py-4 whitespace-nowrap"},Gce={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Kce={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Yce=["onClick"],Xce=["onClick"],Jce={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Zce={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},eue={class:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl"},tue={class:"mb-4"},sue={class:"mb-6"},nue={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},rue={class:"bg-white rounded-xl w-full max-w-5xl max-h-[90vh] flex flex-col shadow-2xl"},oue={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-xl"},iue={class:"text-sm text-gray-600 mt-1"},aue={class:"font-bold text-blue-600"},lue={class:"flex-1 overflow-y-auto p-6 bg-gray-100"},due={class:"grid grid-cols-1 gap-6"},cue={class:"bg-blue-50 px-4 py-3 border-b border-blue-100 flex justify-between items-center"},uue={class:"font-bold text-blue-800 flex items-center text-lg"},xue=["innerHTML"],fue={class:"text-xs bg-blue-200 text-blue-800 px-2 py-0.5 rounded-full"},hue={class:"flex items-center space-x-2 cursor-pointer bg-white px-3 py-1.5 rounded-md border border-blue-200 hover:bg-blue-50 transition"},gue=["checked","onChange"],pue={class:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},mue={class:"flex items-center h-5"},bue=["checked","onChange"],yue={class:"ml-3 text-sm"},vue={class:"font-semibold text-gray-900 block mb-0.5"},wue={class:"text-gray-500 text-xs block leading-tight"},Eue={class:"px-6 py-4 border-t border-gray-200 bg-white rounded-b-xl flex justify-between items-center"},Cue={class:"text-sm text-gray-500"},Aue={class:"font-bold text-blue-600 text-lg"},kue={class:"flex space-x-3"},Bue=["disabled"],_ue={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Due={key:5,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Sue={class:"bg-white rounded-lg p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto shadow-xl"},Fue={class:"flex justify-between items-center mb-4"},Tue={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},Mue={class:"text-xs text-gray-500 mt-2"},Iue={class:"bg-gray-100 px-1 rounded"},Pue={class:"space-y-4"},Rue={class:"bg-gray-100 px-4 py-2 font-semibold text-gray-800 flex items-center"},Oue=["innerHTML"],Nue={class:"ml-2 text-xs text-gray-500"},$ue={class:"w-full"},Lue={class:"divide-y divide-gray-200"},jue={class:"px-4 py-2 text-sm text-gray-900 font-mono"},Uue={class:"px-4 py-2 text-sm text-gray-600"},Hue={class:"px-4 py-2 text-sm text-gray-500"},zue={class:"px-4 py-2 text-right space-x-2"},Vue=["onClick"],que=["onClick"],Wue={class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},Que={key:6,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[10000]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Gue={class:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl"},Kue={class:"flex justify-between items-center mb-4"},Yue={class:"mb-4"},Xue={class:"mb-4"},Jue={class:"mb-6"},Zue={class:"text-xs text-gray-500 mb-4"},exe={class:"bg-gray-100 px-1 rounded"},txe={class:"flex justify-end space-x-3"},sxe=rr({__name:"RolePermission",props:{roles:{},allPermissions:{}},setup(e){const t=e,s=de(!1),r=de(!1),i=de(!1),a=de(!1),d=de(null),u=de(!1),g=Mr({name:"",description:""}),h=Mr({module:"",action:"",description:""}),m=Mr({id:0,module:"",action:"",description:""}),b=de([]),v=Ze(()=>new Map(b.value.map(fe=>[fe.name,fe]))),C=Ze(()=>b.value.filter(fe=>fe.allowed).length),_=fe=>{const q=t.allPermissions.find(le=>le.module_key===fe);return!q||q.permissions.length===0?!1:q.permissions.every(le=>{const he=v.value.get(le.name);return he&&he.allowed})},F=(fe,q)=>{const he=q.target.checked,ve=t.allPermissions.find(Ie=>Ie.module_key===fe);ve&&ve.permissions.forEach(Ie=>{const Ue=Ie.name,be=b.value.find(qe=>qe.name===Ue);be?be.allowed=he:b.value.push({name:Ue,allowed:he})})},S=()=>{Bt.post("/role-permission",{name:g.name,description:g.description},{onSuccess:()=>{D()}})},D=()=>{g.name="",g.description="",s.value=!1},O=fe=>{const q=t.roles.find(le=>le.id===fe);q&&confirm(`Apakah Anda yakin ingin menghapus role "${q.name}"?`)&&Bt.delete(`/role-permission/${fe}`)},P=fe=>{d.value=fe,U(fe),r.value=!0},B=()=>{r.value=!1,d.value=null,b.value=[]},U=fe=>{const q=t.allPermissions.flatMap(he=>he.permissions).map(he=>({name:he.name,allowed:!1})),le=new Set(fe.permissions);b.value=q.map(he=>({...he,allowed:le.has(he.name)}))},z=fe=>v.value.get(fe)?.allowed??!1,j=(fe,q)=>{const he=q.target.checked,ve=b.value.find(Ie=>Ie.name===fe);ve&&(ve.allowed=he)},H=()=>{d.value&&(u.value=!0,Bt.put(`/role-permission/${d.value.id}/permissions`,{permissions:b.value},{onSuccess:()=>{B(),Bt.reload({only:["roles"]})},onError:fe=>{console.error("Gagal menyimpan permissions:",fe),alert("Terjadi kesalahan saat menyimpan permissions. Cek console untuk detail.")}}))},I=()=>{Bt.post("/role-permission/permissions",{module:h.module,action:h.action,description:h.description},{onSuccess:()=>{h.module="",h.action="",h.description="",Bt.reload({only:["allPermissions"]})}})},$=(fe,q)=>{m.id=fe.id,m.module=q,m.action=fe.display_name.toLowerCase().replace(/ /g,"_"),m.description=fe.description,a.value=!0},J=()=>{Bt.put(`/role-permission/permissions/${m.id}`,{module:m.module,action:m.action,description:m.description},{onSuccess:()=>{a.value=!1,Bt.reload({only:["allPermissions"]})}})},K=(fe,q)=>{confirm(`Apakah Anda yakin ingin menghapus permission "${q}"? Permission ini akan dihapus dari semua role.`)&&Bt.delete(`/role-permission/permissions/${fe}`,{onSuccess:()=>{Bt.reload({only:["allPermissions","roles"]})}})},ie=fe=>{const q=new Set;return t.allPermissions.forEach(le=>{const he=new Set(le.permissions.map(Ie=>Ie.name));fe.some(Ie=>he.has(Ie))&&q.add(le.module_key)}),q.size};return(fe,q)=>(T(),Dt(pn,{title:"Role & Permission Management"},{default:_t(()=>[n("div",Mce,[n("div",Ice,[q[16]||(q[16]=n("h1",{class:"text-2xl font-bold text-gray-800"},"Role & Permission Management",-1)),n("div",Pce,[n("button",{onClick:q[0]||(q[0]=le=>i.value=!0),class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...q[14]||(q[14]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),Oe(" Kelola Permission ",-1)])]),n("button",{onClick:q[1]||(q[1]=le=>s.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...q[15]||(q[15]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Oe(" Tambah Role ",-1)])])])]),fe.$page.props.flash?.success?(T(),R("div",Rce,A(fe.$page.props.flash.success),1)):se("",!0),fe.$page.props.flash?.error?(T(),R("div",Oce,A(fe.$page.props.flash.error),1)):se("",!0),n("div",Nce,[n("table",$ce,[q[17]||(q[17]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Deskripsi"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ringkasan Permissions"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jumlah User"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),n("tbody",Lce,[(T(!0),R(Ye,null,at(e.roles,le=>(T(),R("tr",{key:le.id,class:"hover:bg-gray-50 transition-colors"},[n("td",jce,[n("div",Uce,A(le.name),1)]),n("td",Hce,[n("div",zce,A(le.description),1)]),n("td",Vce,[le.permissions&&le.permissions.length>0?(T(),R("span",qce," Total **"+A(le.permissions.length)+"** permissions di **"+A(ie(le.permissions))+"** modul. ",1)):(T(),R("span",Wce,"Tidak ada Permission"))]),n("td",Qce,[n("span",Gce,A(le.userCount)+" users ",1)]),n("td",Kce,[n("button",{onClick:he=>P(le),class:"text-indigo-600 hover:text-indigo-900 transition-colors"}," Atur Permission ",8,Yce),n("button",{onClick:he=>O(le.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Hapus ",8,Xce)])]))),128))])])]),s.value?(T(),R("div",Jce)):se("",!0),s.value?(T(),R("div",Zce,[n("div",eue,[n("div",{class:"flex justify-between items-center mb-4"},[q[19]||(q[19]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Tambah Role Baru",-1)),n("button",{onClick:D,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...q[18]||(q[18]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("form",{onSubmit:Os(S,["prevent"])},[n("div",tue,[q[20]||(q[20]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Role",-1)),we(n("input",{"onUpdate:modelValue":q[2]||(q[2]=le=>g.name=le),type:"text",required:"",placeholder:"Contoh: QC, Supervisor, Operator Gudang",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[Ve,g.name]])]),n("div",sue,[q[21]||(q[21]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Deskripsi Role (Opsional)",-1)),we(n("textarea",{"onUpdate:modelValue":q[3]||(q[3]=le=>g.description=le),rows:"3",placeholder:"Role untuk tim QC yang memeriksa barang masuk",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[Ve,g.description]])]),n("div",{class:"flex justify-end space-x-3"},[n("button",{type:"button",onClick:D,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),q[22]||(q[22]=n("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan ",-1))])],32)])])):se("",!0),r.value?(T(),R("div",nue,[n("div",rue,[n("div",oue,[n("div",null,[q[24]||(q[24]=n("h3",{class:"text-xl font-bold text-gray-900"},"Atur Otorisasi Role",-1)),n("p",iue,[q[23]||(q[23]=Oe("Mengatur hak akses untuk role: ",-1)),n("span",aue,A(d.value?.name),1)])]),n("button",{onClick:B,class:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-200 rounded-full"},[...q[25]||(q[25]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",lue,[n("div",due,[(T(!0),R(Ye,null,at(e.allPermissions,le=>(T(),R("div",{key:le.module_key,class:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden"},[n("div",cue,[n("h4",uue,[n("span",{innerHTML:le.module_name,class:"mr-2"},null,8,xue),n("span",fue,A(le.permissions.length),1)]),n("label",hue,[n("input",{type:"checkbox",checked:_(le.module_key),onChange:he=>F(le.module_key,he),class:"rounded text-blue-600 focus:ring-blue-500 w-4 h-4 cursor-pointer"},null,40,gue),q[26]||(q[26]=n("span",{class:"text-sm font-semibold text-blue-700 select-none"},"Pilih Semua",-1))])]),n("div",pue,[(T(!0),R(Ye,null,at(le.permissions,he=>(T(),R("label",{key:he.name,class:Se(["flex items-start p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md",z(he.name)?"bg-blue-50 border-blue-300 ring-1 ring-blue-300":"bg-white border-gray-200 hover:border-blue-300"])},[n("div",mue,[n("input",{type:"checkbox",checked:z(he.name),onChange:ve=>j(he.name,ve),class:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,bue)]),n("div",yue,[n("span",vue,A(he.display_name),1),n("span",wue,A(he.description||"Tidak ada deskripsi"),1)])],2))),128))])]))),128))])]),n("div",Eue,[n("div",Cue,[q[27]||(q[27]=Oe(" Terpilih: ",-1)),n("span",Aue,A(C.value),1),q[28]||(q[28]=Oe(" permission ",-1))]),n("div",kue,[n("button",{onClick:B,class:"px-5 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition focus:ring-2 focus:ring-offset-2 focus:ring-gray-200"}," Batal "),n("button",{onClick:H,disabled:u.value,class:"px-5 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition shadow-lg shadow-blue-200 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[u.value?(T(),R("svg",_ue,[...q[29]||(q[29]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):se("",!0),n("span",null,A(u.value?"Menyimpan...":"Simpan Perubahan"),1)],8,Bue)])])])])):se("",!0),i.value?(T(),R("div",Due,[n("div",Sue,[n("div",Fue,[q[31]||(q[31]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Kelola Daftar Permission",-1)),n("button",{onClick:q[4]||(q[4]=le=>i.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...q[30]||(q[30]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Tue,[q[37]||(q[37]=n("h4",{class:"text-md font-semibold text-blue-800 mb-3"},"Tambah Permission Baru",-1)),n("form",{onSubmit:Os(I,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[n("div",null,[q[32]||(q[32]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Module",-1)),we(n("input",{"onUpdate:modelValue":q[5]||(q[5]=le=>h.module=le),type:"text",required:"",placeholder:"cycle_count",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Ve,h.module]])]),n("div",null,[q[33]||(q[33]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Action",-1)),we(n("input",{"onUpdate:modelValue":q[6]||(q[6]=le=>h.action=le),type:"text",required:"",placeholder:"approve",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Ve,h.action]])]),n("div",null,[q[34]||(q[34]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Deskripsi",-1)),we(n("input",{"onUpdate:modelValue":q[7]||(q[7]=le=>h.description=le),type:"text",placeholder:"Approve Cycle Count",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Ve,h.description]])]),q[35]||(q[35]=n("div",{class:"flex items-end"},[n("button",{type:"submit",class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium"}," + Tambah ")],-1))],32),n("p",Mue,[q[36]||(q[36]=Oe(" Permission name akan dibuat otomatis: ",-1)),n("code",Iue,A(h.module||"module")+"."+A(h.action||"action"),1)])]),n("div",Pue,[(T(!0),R(Ye,null,at(e.allPermissions,le=>(T(),R("div",{key:le.module_key,class:"border border-gray-200 rounded-lg overflow-hidden"},[n("div",Rue,[n("span",{innerHTML:le.module_name},null,8,Oue),n("span",Nue,"("+A(le.permissions.length)+" permissions)",1)]),n("table",$ue,[q[38]||(q[38]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Permission Name"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Action"),n("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Deskripsi"),n("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),n("tbody",Lue,[(T(!0),R(Ye,null,at(le.permissions,he=>(T(),R("tr",{key:he.id,class:"hover:bg-gray-50"},[n("td",jue,A(he.name),1),n("td",Uue,A(he.display_name),1),n("td",Hue,A(he.description||"-"),1),n("td",zue,[n("button",{onClick:ve=>$(he,le.module_key),class:"text-indigo-600 hover:text-indigo-900 text-sm"}," Edit ",8,Vue),n("button",{onClick:ve=>K(he.id,he.name),class:"text-red-600 hover:text-red-900 text-sm"}," Hapus ",8,que)])]))),128))])])]))),128))]),n("div",Wue,[n("button",{onClick:q[8]||(q[8]=le=>i.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"}," Tutup ")])])])):se("",!0),a.value?(T(),R("div",Que,[n("div",Gue,[n("div",Kue,[q[40]||(q[40]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Edit Permission",-1)),n("button",{onClick:q[9]||(q[9]=le=>a.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...q[39]||(q[39]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("form",{onSubmit:Os(J,["prevent"])},[n("div",Yue,[q[41]||(q[41]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Module",-1)),we(n("input",{"onUpdate:modelValue":q[10]||(q[10]=le=>m.module=le),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ve,m.module]])]),n("div",Xue,[q[42]||(q[42]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Action",-1)),we(n("input",{"onUpdate:modelValue":q[11]||(q[11]=le=>m.action=le),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ve,m.action]])]),n("div",Jue,[q[43]||(q[43]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Deskripsi",-1)),we(n("input",{"onUpdate:modelValue":q[12]||(q[12]=le=>m.description=le),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ve,m.description]])]),n("p",Zue,[q[44]||(q[44]=Oe(" Permission name akan menjadi: ",-1)),n("code",exe,A(m.module||"module")+"."+A(m.action||"action"),1)]),n("div",txe,[n("button",{type:"button",onClick:q[13]||(q[13]=le=>a.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),q[45]||(q[45]=n("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Update ",-1))])],32)])])):se("",!0)])]),_:1}))}}),nxe=Xi(sxe,[["__scopeId","data-v-e43d4f42"]]),rxe=Object.freeze(Object.defineProperty({__proto__:null,default:nxe},Symbol.toStringTag,{value:"Module"})),oxe={class:"min-h-screen bg-gray-50 p-6"},ixe={class:"mb-6 bg-white rounded-lg shadow p-4 flex items-end gap-4"},axe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"},lxe={class:"flex justify-between items-start"},dxe={class:"text-2xl font-bold text-gray-900 mt-1"},cxe={class:"bg-white rounded-xl shadow p-5 border-l-4 border-green-500"},uxe={class:"flex justify-between items-start"},xxe={class:"text-2xl font-bold text-gray-900 mt-1"},fxe={class:"bg-white rounded-xl shadow p-5 border-l-4 border-purple-500"},hxe={class:"flex justify-between items-start"},gxe={class:"text-lg font-bold text-gray-900 mt-1"},pxe={class:"bg-white rounded-xl shadow p-5 border-l-4 border-yellow-500"},mxe={class:"flex justify-between items-start"},bxe={class:"text-2xl font-bold text-gray-900 mt-1"},yxe={class:"bg-white rounded-xl shadow p-5 border-l-4 border-indigo-500"},vxe={class:"flex justify-between items-start"},wxe={class:"text-2xl font-bold text-gray-900 mt-1"},Exe={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},Cxe={class:"bg-white p-5 rounded-xl shadow"},Axe={class:"h-48 relative"},kxe={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Bxe={class:"bg-white p-5 rounded-xl shadow"},_xe={class:"h-48 relative"},Dxe={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Sxe={class:"bg-white p-5 rounded-xl shadow"},Fxe={class:"h-48 relative"},Txe={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Mxe={class:"bg-white p-5 rounded-xl shadow"},Ixe={class:"h-48 relative"},Pxe={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Rxe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Oxe={class:"bg-white p-6 rounded-lg shadow"},Nxe={class:"h-64 relative"},$xe={key:1,class:"flex h-full items-center justify-center text-gray-400"},Lxe={class:"bg-white p-6 rounded-lg shadow"},jxe={class:"h-64 relative"},Uxe={key:1,class:"flex h-full items-center justify-center text-gray-400"},Hxe={class:"bg-white p-6 rounded-lg shadow"},zxe={class:"flex justify-between items-center mb-4"},Vxe={class:"overflow-y-auto max-h-64"},qxe={class:"min-w-full divide-y divide-gray-200"},Wxe={class:"bg-white divide-y divide-gray-200"},Qxe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Gxe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"},Kxe={key:0},Yxe={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl"},Xxe={class:"p-6"},Jxe={class:"flex justify-between items-center mb-6"},Zxe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},efe={class:"bg-blue-50 rounded-lg p-5 border-l-4 border-blue-500"},tfe={class:"flex items-center justify-between"},sfe={class:"text-3xl font-bold text-blue-900 mt-2"},nfe={class:"text-xs text-blue-600 mt-1"},rfe={class:"bg-green-50 rounded-lg p-5 border-l-4 border-green-500"},ofe={class:"flex items-center justify-between"},ife={class:"text-3xl font-bold text-green-900 mt-2"},afe={class:"text-xs text-green-600 mt-1"},lfe={class:"mb-6"},dfe={class:"flex justify-between items-center mb-2"},cfe={class:"text-sm font-bold text-gray-900"},ufe={class:"w-full bg-gray-200 rounded-full h-3"},xfe={class:"bg-gray-50 rounded-lg p-4"},ffe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},hfe={class:"ml-2 text-gray-900"},gfe={class:"ml-2 text-gray-900 font-semibold"},pfe={class:"flex justify-end mt-6"},mfe={__name:"WmsDashboard",setup(e){hl.register(by,Sy,By,Ay,Fy,Ty,Ey,wy);const t=Mr({date_start:new Date().toISOString().slice(0,8)+"01",date_end:new Date().toISOString().slice(0,10)}),s=de({totalIncoming:0,totalOutgoing:0,leadTime:"0 Mins",stockAccuracy:0,skuOnHand:0}),r=de(!1),i=de({totalReceived:0,totalPicked:0,remaining:0,percentage:0}),a=de([]),d=de("high"),u=de({incoming:{labels:[],datasets:[]},typeBreakdown:{labels:[],datasets:[]},trends:{incoming:{labels:[],datasets:[]},outgoing:{labels:[],datasets:[]},leadTime:{labels:[],datasets:[]},accuracy:{labels:[],datasets:[]}}}),g={responsive:!0,maintainAspectRatio:!1},h={responsive:!0,maintainAspectRatio:!1,indexAxis:"y"},m={responsive:!0,maintainAspectRatio:!1},b={responsive:!0,maintainAspectRatio:!1,tension:.3,scales:{y:{beginAtZero:!0}}},v=async()=>{try{const D=(await Rt.get(route("wms-dashboard.data"),{params:t})).data;s.value.totalIncoming=D.totalIncoming,s.value.totalOutgoing=D.totalOutgoing,s.value.leadTime=D.leadTime.toString().replace("-",""),s.value.stockAccuracy=D.stockAccuracy,s.value.skuOnHand=D.skuOnHand,D.incomingQtyDetails&&(i.value=D.incomingQtyDetails),a.value=D.incomingByCategory;const O=D.incomingByCategory.map(B=>B.kategori||"Uncategorized"),P=D.incomingByCategory.map(B=>B.total);if(u.value.incoming={labels:O,datasets:[{label:"Total Items",backgroundColor:"#3B82F6",data:P}]},D.incomingByType){const B=D.incomingByType.map(z=>z.kategori||"Other"),U=D.incomingByType.map(z=>z.total);u.value.typeBreakdown={labels:B,datasets:[{backgroundColor:["#F59E0B","#10B981","#3B82F6","#EF4444"],data:U}]}}if(D.trends){const B=(z,j,H)=>({labels:z.map(I=>I.date),datasets:[{label:j,borderColor:H,backgroundColor:H,data:z.map(I=>I.value),fill:!1}]}),U=(z,j,H)=>({labels:z.map(I=>I.date),datasets:[{label:j,backgroundColor:H,data:z.map(I=>I.value)}]});u.value.trends.incoming=B(D.trends.incoming,"Incoming Items","#3B82F6"),u.value.trends.outgoing=B(D.trends.outgoing,"Completed Picking","#10B981"),u.value.trends.leadTime=U(D.trends.leadTime,"Avg Minutes","#8B5CF6"),u.value.trends.accuracy=B(D.trends.accuracy,"Accuracy %","#F59E0B")}}catch(S){console.error("Failed to fetch dashboard data",S)}},C=Ze(()=>[...a.value].sort((S,D)=>d.value==="high"?D.total-S.total:S.total-D.total));gn(()=>{v()});const _=S=>{if(!S&&S!==0)return"-";const D=parseFloat(S);return isNaN(D)?"-":D.toLocaleString("id-ID")},F=S=>S?new Date(S).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-";return(S,D)=>(T(),Dt(pn,{pageTitle:"WMS Dashboard",pageDescription:"Overview of warehouse key metrics"},{default:_t(()=>[n("div",oxe,[n("div",ixe,[n("div",null,[D[7]||(D[7]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),we(n("input",{type:"date","onUpdate:modelValue":D[0]||(D[0]=O=>t.date_start=O),class:"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Ve,t.date_start]])]),n("div",null,[D[8]||(D[8]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),we(n("input",{type:"date","onUpdate:modelValue":D[1]||(D[1]=O=>t.date_end=O),class:"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Ve,t.date_end]])]),n("button",{onClick:v,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," Filter ")]),n("div",axe,[n("div",{class:"bg-white rounded-xl shadow p-5 border-l-4 border-blue-500 hover:shadow-lg transition cursor-pointer",onClick:D[2]||(D[2]=O=>r.value=!0)},[n("div",lxe,[n("div",null,[D[9]||(D[9]=n("p",{class:"text-sm font-medium text-gray-500"},"Total Incoming",-1)),n("h3",dxe,A(s.value.totalIncoming),1)]),D[10]||(D[10]=n("div",{class:"p-2 bg-blue-50 rounded-lg"},[n("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1))]),D[11]||(D[11]=n("div",{class:"flex items-center justify-between mt-2"},[n("p",{class:"text-xs text-gray-400"},"Receiving Documents"),n("button",{class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1"},[n("span",null,"View Details"),n("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])])],-1))]),n("div",cxe,[n("div",uxe,[n("div",null,[D[12]||(D[12]=n("p",{class:"text-sm font-medium text-gray-500"},"Total Outgoing",-1)),n("h3",xxe,A(s.value.totalOutgoing),1)]),D[13]||(D[13]=n("div",{class:"p-2 bg-green-50 rounded-lg"},[n("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})])],-1))]),D[14]||(D[14]=n("p",{class:"text-xs text-gray-400 mt-2"},"Completed Picking Tasks",-1))]),n("div",fxe,[n("div",hxe,[n("div",null,[D[15]||(D[15]=n("p",{class:"text-sm font-medium text-gray-500"},"Picking Lead Time",-1)),n("h3",gxe,A(s.value.leadTime),1)]),D[16]||(D[16]=n("div",{class:"p-2 bg-purple-50 rounded-lg"},[n("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),D[17]||(D[17]=n("p",{class:"text-xs text-gray-400 mt-2"},"Start Pick - End Pick",-1))]),n("div",pxe,[n("div",mxe,[n("div",null,[D[18]||(D[18]=n("p",{class:"text-sm font-medium text-gray-500"},"Stock Accuracy",-1)),n("h3",bxe,A(s.value.stockAccuracy)+"%",1)]),D[19]||(D[19]=n("div",{class:"p-2 bg-yellow-50 rounded-lg"},[n("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),D[20]||(D[20]=n("p",{class:"text-xs text-gray-400 mt-2"},"Based on Cycle Counts",-1))]),n("div",yxe,[n("div",vxe,[n("div",null,[D[21]||(D[21]=n("p",{class:"text-sm font-medium text-gray-500"},"SKU On Hand",-1)),n("h3",wxe,A(s.value.skuOnHand),1)]),D[22]||(D[22]=n("div",{class:"p-2 bg-indigo-50 rounded-lg"},[n("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))]),D[23]||(D[23]=n("p",{class:"text-xs text-gray-400 mt-2"},"Distinct Items with Stock > 0",-1))])]),n("div",Exe,[n("div",Cxe,[D[24]||(D[24]=n("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Incoming Trend (Daily)",-1)),n("div",Axe,[u.value.trends.incoming.labels.length?(T(),Dt(We(i0),{key:0,data:u.value.trends.incoming,options:b},null,8,["data"])):(T(),R("div",kxe,"No Data"))])]),n("div",Bxe,[D[25]||(D[25]=n("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Outgoing Trend (Daily)",-1)),n("div",_xe,[u.value.trends.outgoing.labels.length?(T(),Dt(We(i0),{key:0,data:u.value.trends.outgoing,options:b},null,8,["data"])):(T(),R("div",Dxe,"No Data"))])]),n("div",Sxe,[D[26]||(D[26]=n("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Lead Time Trend (Avg Mins)",-1)),n("div",Fxe,[u.value.trends.leadTime.labels.length?(T(),Dt(We(Qu),{key:0,data:u.value.trends.leadTime,options:m},null,8,["data"])):(T(),R("div",Txe,"No Data"))])]),n("div",Mxe,[D[27]||(D[27]=n("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Stock Accuracy Trend (%)",-1)),n("div",Ixe,[u.value.trends.accuracy.labels.length?(T(),Dt(We(i0),{key:0,data:u.value.trends.accuracy,options:b},null,8,["data"])):(T(),R("div",Pxe,"No Data"))])])]),n("div",Rxe,[n("div",Oxe,[D[28]||(D[28]=n("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Incoming by Category",-1)),n("div",Nxe,[u.value.incoming.labels.length?(T(),Dt(We(Qu),{key:0,data:u.value.incoming,options:h},null,8,["data"])):(T(),R("div",$xe,"No Data Available"))])]),n("div",Lxe,[D[29]||(D[29]=n("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Current Inventory Breakdown (RM vs PM)",-1)),n("div",jxe,[u.value.typeBreakdown.labels.length?(T(),Dt(We(a$),{key:0,data:u.value.typeBreakdown,options:g},null,8,["data"])):(T(),R("div",Uxe,"No Data Available"))])])]),n("div",Hxe,[n("div",zxe,[D[31]||(D[31]=n("h3",{class:"text-lg font-semibold text-gray-800"},"Incoming By Category Details",-1)),we(n("select",{"onUpdate:modelValue":D[3]||(D[3]=O=>d.value=O),class:"text-sm border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...D[30]||(D[30]=[n("option",{value:"high"},"Highest First",-1),n("option",{value:"low"},"Lowest First",-1)])],512),[[St,d.value]])]),n("div",Vxe,[n("table",qxe,[D[33]||(D[33]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Category"),n("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Items")])],-1)),n("tbody",Wxe,[(T(!0),R(Ye,null,at(C.value,(O,P)=>(T(),R("tr",{key:P,class:"hover:bg-gray-50"},[n("td",Qxe,A(O.kategori||"Uncategorized"),1),n("td",Gxe,A(O.total),1)]))),128)),C.value.length===0?(T(),R("tr",Kxe,[...D[32]||(D[32]=[n("td",{colspan:"2",class:"px-6 py-4 text-center text-sm text-gray-500"},"No data found",-1)])])):se("",!0)])])])])]),r.value?(T(),R("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"},onClick:D[6]||(D[6]=Os(O=>r.value=!1,["self"]))},[n("div",Yxe,[n("div",Xxe,[n("div",Jxe,[D[35]||(D[35]=n("h3",{class:"text-xl font-bold text-gray-900"},"Detil Quantity Incoming",-1)),n("button",{onClick:D[4]||(D[4]=O=>r.value=!1),class:"text-gray-400 hover:text-gray-600"},[...D[34]||(D[34]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",Zxe,[n("div",efe,[n("div",tfe,[n("div",null,[D[36]||(D[36]=n("p",{class:"text-sm font-medium text-blue-700"},"Total Qty Diterima",-1)),n("h4",sfe,A(_(i.value.totalReceived)),1),n("p",nfe,"Dari "+A(s.value.totalIncoming)+" dokumen penerimaan",1)]),D[37]||(D[37]=n("div",{class:"p-3 bg-blue-100 rounded-lg"},[n("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})])],-1))])]),n("div",rfe,[n("div",ofe,[n("div",null,[D[38]||(D[38]=n("p",{class:"text-sm font-medium text-green-700"},"Total Qty Sudah Dipick",-1)),n("h4",ife,A(_(i.value.totalPicked)),1),n("p",afe,"Dari "+A(s.value.totalOutgoing)+" picking list",1)]),D[39]||(D[39]=n("div",{class:"p-3 bg-green-100 rounded-lg"},[n("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])]),n("div",lfe,[n("div",dfe,[D[40]||(D[40]=n("span",{class:"text-sm font-medium text-gray-700"},"Persentase Qty yang Sudah Dipick",-1)),n("span",cfe,A(i.value.percentage)+"%",1)]),n("div",ufe,[n("div",{class:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all",style:Rr({width:i.value.percentage+"%"})},null,4)])]),n("div",xfe,[n("div",ffe,[n("div",null,[D[41]||(D[41]=n("span",{class:"font-medium text-gray-700"},"Periode:",-1)),n("span",hfe,A(F(t.date_start))+" - "+A(F(t.date_end)),1)]),n("div",null,[D[42]||(D[42]=n("span",{class:"font-medium text-gray-700"},"Sisa Qty Belum Dipick:",-1)),n("span",gfe,A(_(i.value.remaining)),1)])])]),n("div",pfe,[n("button",{onClick:D[5]||(D[5]=O=>r.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition"}," Tutup ")])])])])):se("",!0)]),_:1}))}},bfe=Object.freeze(Object.defineProperty({__proto__:null,default:mfe},Symbol.toStringTag,{value:"Module"}));window.axios=Rt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";h7({title:e=>`${e} - WMS`,resolve:e=>Object.assign({"./Pages/Auth/Login.vue":z7,"./Pages/Auth/Register.vue":cA,"./Pages/Bintobin.vue":t_,"./Pages/CentralData.vue":n_,"./Pages/CycleCount.vue":_S,"./Pages/Dashboard.vue":II,"./Pages/ITDashboard.vue":aL,"./Pages/MasterData.vue":GH,"./Pages/PenerimaanBarang.vue":AG,"./Pages/PickingList.vue":YX,"./Pages/PutAwasTO.vue":qte,"./Pages/QualityControl.vue":fre,"./Pages/Reports/index.vue":gre,"./Pages/Reservation.vue":Mae,"./Pages/Return.vue":U0e,"./Pages/RiwayatAktivitas.vue":Tce,"./Pages/RolePermission.vue":rxe,"./Pages/WmsDashboard.vue":bfe})[`./Pages/${e}.vue`],setup({el:e,App:t,props:s,plugin:r}){return $9({render:()=>Sn(t,s)}).use(r).mount(e)},progress:{color:"#4B5563"}})});export default yfe();
